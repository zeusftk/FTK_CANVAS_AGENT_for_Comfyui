const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/knowledge-BEjXPl0L.js","assets/TopMenu-CGgZSjXt.js","assets/chevron-right-ZHppJ68t.js","assets/agent_studio-Di1AWLGG.js","assets/transform-KKRXlpDu.js","assets/value-BLgvJGK3.js","assets/index-Yce1s99O.js","assets/agent_studio-n9x2b4FL.css","assets/index-BSGiiTQO.js","assets/index.browser-Wncyp79h.js","assets/percentages-BXMCSKIN-H3kKJIUp.js","assets/percentages-BXMCSKIN-Dde6aTNK.css"])))=>i.map(i=>d[i]);
var GL=Object.defineProperty;var LC=t=>{throw TypeError(t)};var YL=(t,e,n)=>e in t?GL(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Dl=(t,e,n)=>YL(t,typeof e!="symbol"?e+"":e,n),Vv=(t,e,n)=>e.has(t)||LC("Cannot "+n);var K=(t,e,n)=>(Vv(t,e,"read from private field"),n?n.call(t):e.get(t)),Oe=(t,e,n)=>e.has(t)?LC("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Se=(t,e,n,s)=>(Vv(t,e,"write to private field"),s?s.call(t,n):e.set(t,n),n),et=(t,e,n)=>(Vv(t,e,"access private method"),n);var uh=(t,e,n,s)=>({set _(i){Se(t,e,i,n)},get _(){return K(t,e,s)}});function WL(t,e){for(var n=0;n<e.length;n++){const s=e[n];if(typeof s!="string"&&!Array.isArray(s)){for(const i in s)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(s,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>s[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var wZ=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Yp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var $v={exports:{}},zu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IC;function XL(){if(IC)return zu;IC=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,i,o){var l=null;if(o!==void 0&&(l=""+o),i.key!==void 0&&(l=""+i.key),"key"in i){o={};for(var u in i)u!=="key"&&(o[u]=i[u])}else o=i;return i=o.ref,{$$typeof:t,type:s,key:l,ref:i!==void 0?i:null,props:o}}return zu.Fragment=e,zu.jsx=n,zu.jsxs=n,zu}var FC;function QL(){return FC||(FC=1,$v.exports=XL()),$v.exports}var g=QL(),ns=(t=>(t.Error="error",t.Done="done",t.Info="info",t.ImageGenerated="image_generated",t.VideoGenerated="video_generated",t.Delta="delta",t.ToolCall="tool_call",t.ToolCallArguments="tool_call_arguments",t.ToolCallResult="tool_call_result",t.AllMessages="all_messages",t.ToolCallProgress="tool_call_progress",t.ToolCallPendingConfirmation="tool_call_pending_confirmation",t.ToolCallConfirmed="tool_call_confirmed",t.ToolCallCancelled="tool_call_cancelled",t))(ns||{});const ai=Object.create(null);ai.open="0";ai.close="1";ai.ping="2";ai.pong="3";ai.message="4";ai.upgrade="5";ai.noop="6";const Hh=Object.create(null);Object.keys(ai).forEach(t=>{Hh[ai[t]]=t});const a0={type:"error",data:"parser error"},_N=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",SN=typeof ArrayBuffer=="function",CN=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,cx=({type:t,data:e},n,s)=>_N&&e instanceof Blob?n?s(e):zC(e,s):SN&&(e instanceof ArrayBuffer||CN(e))?n?s(e):zC(new Blob([e]),s):s(ai[t]+(e||"")),zC=(t,e)=>{const n=new FileReader;return n.onload=function(){const s=n.result.split(",")[1];e("b"+(s||""))},n.readAsDataURL(t)};function BC(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let Hv;function JL(t,e){if(_N&&t.data instanceof Blob)return t.data.arrayBuffer().then(BC).then(e);if(SN&&(t.data instanceof ArrayBuffer||CN(t.data)))return e(BC(t.data));cx(t,!1,n=>{Hv||(Hv=new TextEncoder),e(Hv.encode(n))})}const UC="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Qu=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<UC.length;t++)Qu[UC.charCodeAt(t)]=t;const ZL=t=>{let e=t.length*.75,n=t.length,s,i=0,o,l,u,d;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const h=new ArrayBuffer(e),m=new Uint8Array(h);for(s=0;s<n;s+=4)o=Qu[t.charCodeAt(s)],l=Qu[t.charCodeAt(s+1)],u=Qu[t.charCodeAt(s+2)],d=Qu[t.charCodeAt(s+3)],m[i++]=o<<2|l>>4,m[i++]=(l&15)<<4|u>>2,m[i++]=(u&3)<<6|d&63;return h},e3=typeof ArrayBuffer=="function",ux=(t,e)=>{if(typeof t!="string")return{type:"message",data:EN(t,e)};const n=t.charAt(0);return n==="b"?{type:"message",data:t3(t.substring(1),e)}:Hh[n]?t.length>1?{type:Hh[n],data:t.substring(1)}:{type:Hh[n]}:a0},t3=(t,e)=>{if(e3){const n=ZL(t);return EN(n,e)}else return{base64:!0,data:t}},EN=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},TN="",n3=(t,e)=>{const n=t.length,s=new Array(n);let i=0;t.forEach((o,l)=>{cx(o,!1,u=>{s[l]=u,++i===n&&e(s.join(TN))})})},s3=(t,e)=>{const n=t.split(TN),s=[];for(let i=0;i<n.length;i++){const o=ux(n[i],e);if(s.push(o),o.type==="error")break}return s};function r3(){return new TransformStream({transform(t,e){JL(t,n=>{const s=n.length;let i;if(s<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,s);else if(s<65536){i=new Uint8Array(3);const o=new DataView(i.buffer);o.setUint8(0,126),o.setUint16(1,s)}else{i=new Uint8Array(9);const o=new DataView(i.buffer);o.setUint8(0,127),o.setBigUint64(1,BigInt(s))}t.data&&typeof t.data!="string"&&(i[0]|=128),e.enqueue(i),e.enqueue(n)})}})}let qv;function dh(t){return t.reduce((e,n)=>e+n.length,0)}function fh(t,e){if(t[0].length===e)return t.shift();const n=new Uint8Array(e);let s=0;for(let i=0;i<e;i++)n[i]=t[0][s++],s===t[0].length&&(t.shift(),s=0);return t.length&&s<t[0].length&&(t[0]=t[0].slice(s)),n}function i3(t,e){qv||(qv=new TextDecoder);const n=[];let s=0,i=-1,o=!1;return new TransformStream({transform(l,u){for(n.push(l);;){if(s===0){if(dh(n)<1)break;const d=fh(n,1);o=(d[0]&128)===128,i=d[0]&127,i<126?s=3:i===126?s=1:s=2}else if(s===1){if(dh(n)<2)break;const d=fh(n,2);i=new DataView(d.buffer,d.byteOffset,d.length).getUint16(0),s=3}else if(s===2){if(dh(n)<8)break;const d=fh(n,8),h=new DataView(d.buffer,d.byteOffset,d.length),m=h.getUint32(0);if(m>Math.pow(2,21)-1){u.enqueue(a0);break}i=m*Math.pow(2,32)+h.getUint32(4),s=3}else{if(dh(n)<i)break;const d=fh(n,i);u.enqueue(ux(o?d:qv.decode(d),e)),s=0}if(i===0||i>t){u.enqueue(a0);break}}}})}const kN=4;function hn(t){if(t)return a3(t)}function a3(t){for(var e in hn.prototype)t[e]=hn.prototype[e];return t}hn.prototype.on=hn.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};hn.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this};hn.prototype.off=hn.prototype.removeListener=hn.prototype.removeAllListeners=hn.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var s,i=0;i<n.length;i++)if(s=n[i],s===e||s.fn===e){n.splice(i,1);break}return n.length===0&&delete this._callbacks["$"+t],this};hn.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],s=1;s<arguments.length;s++)e[s-1]=arguments[s];if(n){n=n.slice(0);for(var s=0,i=n.length;s<i;++s)n[s].apply(this,e)}return this};hn.prototype.emitReserved=hn.prototype.emit;hn.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};hn.prototype.hasListeners=function(t){return!!this.listeners(t).length};const Wp=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,n)=>n(e,0),lr=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),o3="arraybuffer";function NN(t,...e){return e.reduce((n,s)=>(t.hasOwnProperty(s)&&(n[s]=t[s]),n),{})}const l3=lr.setTimeout,c3=lr.clearTimeout;function Xp(t,e){e.useNativeTimers?(t.setTimeoutFn=l3.bind(lr),t.clearTimeoutFn=c3.bind(lr)):(t.setTimeoutFn=lr.setTimeout.bind(lr),t.clearTimeoutFn=lr.clearTimeout.bind(lr))}const u3=1.33;function d3(t){return typeof t=="string"?f3(t):Math.ceil((t.byteLength||t.size)*u3)}function f3(t){let e=0,n=0;for(let s=0,i=t.length;s<i;s++)e=t.charCodeAt(s),e<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(s++,n+=4);return n}function AN(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function h3(t){let e="";for(let n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e}function p3(t){let e={},n=t.split("&");for(let s=0,i=n.length;s<i;s++){let o=n[s].split("=");e[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return e}class m3 extends Error{constructor(e,n,s){super(e),this.description=n,this.context=s,this.type="TransportError"}}class dx extends hn{constructor(e){super(),this.writable=!1,Xp(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,n,s){return super.emitReserved("error",new m3(e,n,s)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const n=ux(e,this.socket.binaryType);this.onPacket(n)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,n={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const n=h3(e);return n.length?"?"+n:""}}class g3 extends dx{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const n=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let s=0;this._polling&&(s++,this.once("pollComplete",function(){--s||n()})),this.writable||(s++,this.once("drain",function(){--s||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const n=s=>{if(this.readyState==="opening"&&s.type==="open"&&this.onOpen(),s.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(s)};s3(e,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,n3(e,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=AN()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(e,n)}}let RN=!1;try{RN=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const v3=RN;function y3(){}class b3 extends g3{constructor(e){if(super(e),typeof location<"u"){const n=location.protocol==="https:";let s=location.port;s||(s=n?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||s!==e.port}}doWrite(e,n){const s=this.request({method:"POST",data:e});s.on("success",n),s.on("error",(i,o)=>{this.onError("xhr post error",i,o)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(n,s)=>{this.onError("xhr poll error",n,s)}),this.pollXhr=e}}class Jr extends hn{constructor(e,n,s){super(),this.createRequest=e,Xp(this,s),this._opts=s,this._method=s.method||"GET",this._uri=n,this._data=s.data!==void 0?s.data:null,this._create()}_create(){var e;const n=NN(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const s=this._xhr=this.createRequest(n);try{s.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){s.setDisableHeaderCheck&&s.setDisableHeaderCheck(!0);for(let i in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(i)&&s.setRequestHeader(i,this._opts.extraHeaders[i])}}catch{}if(this._method==="POST")try{s.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{s.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(s),"withCredentials"in s&&(s.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(s.timeout=this._opts.requestTimeout),s.onreadystatechange=()=>{var i;s.readyState===3&&((i=this._opts.cookieJar)===null||i===void 0||i.parseCookies(s.getResponseHeader("set-cookie"))),s.readyState===4&&(s.status===200||s.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof s.status=="number"?s.status:0)},0))},s.send(this._data)}catch(i){this.setTimeoutFn(()=>{this._onError(i)},0);return}typeof document<"u"&&(this._index=Jr.requestsCount++,Jr.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=y3,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Jr.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}Jr.requestsCount=0;Jr.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",VC);else if(typeof addEventListener=="function"){const t="onpagehide"in lr?"pagehide":"unload";addEventListener(t,VC,!1)}}function VC(){for(let t in Jr.requests)Jr.requests.hasOwnProperty(t)&&Jr.requests[t].abort()}const x3=function(){const t=jN({xdomain:!1});return t&&t.responseType!==null}();class w3 extends b3{constructor(e){super(e);const n=e&&e.forceBase64;this.supportsBinary=x3&&!n}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new Jr(jN,this.uri(),e)}}function jN(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||v3))return new XMLHttpRequest}catch{}if(!e)try{return new lr[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const MN=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class _3 extends dx{get name(){return"websocket"}doOpen(){const e=this.uri(),n=this.opts.protocols,s=MN?{}:NN(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(s.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,n,s)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const s=e[n],i=n===e.length-1;cx(s,this.supportsBinary,o=>{try{this.doWrite(s,o)}catch{}i&&Wp(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=AN()),this.supportsBinary||(n.b64=1),this.createUri(e,n)}}const Kv=lr.WebSocket||lr.MozWebSocket;class S3 extends _3{createSocket(e,n,s){return MN?new Kv(e,n,s):n?new Kv(e,n):new Kv(e)}doWrite(e,n){this.ws.send(n)}}class C3 extends dx{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const n=i3(Number.MAX_SAFE_INTEGER,this.socket.binaryType),s=e.readable.pipeThrough(n).getReader(),i=r3();i.readable.pipeTo(e.writable),this._writer=i.writable.getWriter();const o=()=>{s.read().then(({done:u,value:d})=>{u||(this.onPacket(d),o())}).catch(u=>{})};o();const l={type:"open"};this.query.sid&&(l.data=`{"sid":"${this.query.sid}"}`),this._writer.write(l).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const s=e[n],i=n===e.length-1;this._writer.write(s).then(()=>{i&&Wp(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const E3={websocket:S3,webtransport:C3,polling:w3},T3=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,k3=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function o0(t){if(t.length>8e3)throw"URI too long";const e=t,n=t.indexOf("["),s=t.indexOf("]");n!=-1&&s!=-1&&(t=t.substring(0,n)+t.substring(n,s).replace(/:/g,";")+t.substring(s,t.length));let i=T3.exec(t||""),o={},l=14;for(;l--;)o[k3[l]]=i[l]||"";return n!=-1&&s!=-1&&(o.source=e,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=N3(o,o.path),o.queryKey=A3(o,o.query),o}function N3(t,e){const n=/\/{2,9}/g,s=e.replace(n,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&s.splice(0,1),e.slice(-1)=="/"&&s.splice(s.length-1,1),s}function A3(t,e){const n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(s,i,o){i&&(n[i]=o)}),n}const l0=typeof addEventListener=="function"&&typeof removeEventListener=="function",qh=[];l0&&addEventListener("offline",()=>{qh.forEach(t=>t())},!1);class Pa extends hn{constructor(e,n){if(super(),this.binaryType=o3,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(n=e,e=null),e){const s=o0(e);n.hostname=s.host,n.secure=s.protocol==="https"||s.protocol==="wss",n.port=s.port,s.query&&(n.query=s.query)}else n.host&&(n.hostname=o0(n.host).host);Xp(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(s=>{const i=s.prototype.name;this.transports.push(i),this._transportsByName[i]=s}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=p3(this.opts.query)),l0&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},qh.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const n=Object.assign({},this.opts.query);n.EIO=kN,n.transport=e,this.id&&(n.sid=this.id);const s=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](s)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&Pa.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(e);n.open(),this.setTransport(n)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",Pa.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=e.data,this._onError(n);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let s=0;s<this.writeBuffer.length;s++){const i=this.writeBuffer[s].data;if(i&&(n+=d3(i)),s>0&&n>this._maxPayload)return this.writeBuffer.slice(0,s);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,Wp(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,n,s){return this._sendPacket("message",e,n,s),this}send(e,n,s){return this._sendPacket("message",e,n,s),this}_sendPacket(e,n,s,i){if(typeof n=="function"&&(i=n,n=void 0),typeof s=="function"&&(i=s,s=null),this.readyState==="closing"||this.readyState==="closed")return;s=s||{},s.compress=s.compress!==!1;const o={type:e,data:n,options:s};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),i&&this.once("flush",i),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),e()},s=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?s():e()}):this.upgrading?s():e()),this}_onError(e){if(Pa.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),l0&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const s=qh.indexOf(this._offlineEventListener);s!==-1&&qh.splice(s,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,n),this.writeBuffer=[],this._prevBufferLen=0}}}Pa.protocol=kN;class R3 extends Pa{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let n=this.createTransport(e),s=!1;Pa.priorWebsocketSuccess=!1;const i=()=>{s||(n.send([{type:"ping",data:"probe"}]),n.once("packet",p=>{if(!s)if(p.type==="pong"&&p.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;Pa.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{s||this.readyState!=="closed"&&(m(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const v=new Error("probe error");v.transport=n.name,this.emitReserved("upgradeError",v)}}))};function o(){s||(s=!0,m(),n.close(),n=null)}const l=p=>{const v=new Error("probe error: "+p);v.transport=n.name,o(),this.emitReserved("upgradeError",v)};function u(){l("transport closed")}function d(){l("socket closed")}function h(p){n&&p.name!==n.name&&o()}const m=()=>{n.removeListener("open",i),n.removeListener("error",l),n.removeListener("close",u),this.off("close",d),this.off("upgrading",h)};n.once("open",i),n.once("error",l),n.once("close",u),this.once("close",d),this.once("upgrading",h),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{s||n.open()},200):n.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const n=[];for(let s=0;s<e.length;s++)~this.transports.indexOf(e[s])&&n.push(e[s]);return n}}let j3=class extends R3{constructor(e,n={}){const s=typeof e=="object"?e:n;(!s.transports||s.transports&&typeof s.transports[0]=="string")&&(s.transports=(s.transports||["polling","websocket","webtransport"]).map(i=>E3[i]).filter(i=>!!i)),super(e,s)}};function M3(t,e="",n){let s=t;n=n||typeof location<"u"&&location,t==null&&(t=n.protocol+"//"+n.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=n.protocol+t:t=n.host+t),/^(https?|wss?):\/\//.test(t)||(typeof n<"u"?t=n.protocol+"//"+t:t="https://"+t),s=o0(t)),s.port||(/^(http|ws)$/.test(s.protocol)?s.port="80":/^(http|ws)s$/.test(s.protocol)&&(s.port="443")),s.path=s.path||"/";const o=s.host.indexOf(":")!==-1?"["+s.host+"]":s.host;return s.id=s.protocol+"://"+o+":"+s.port+e,s.href=s.protocol+"://"+o+(n&&n.port===s.port?"":":"+s.port),s}const O3=typeof ArrayBuffer=="function",D3=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,ON=Object.prototype.toString,P3=typeof Blob=="function"||typeof Blob<"u"&&ON.call(Blob)==="[object BlobConstructor]",L3=typeof File=="function"||typeof File<"u"&&ON.call(File)==="[object FileConstructor]";function fx(t){return O3&&(t instanceof ArrayBuffer||D3(t))||P3&&t instanceof Blob||L3&&t instanceof File}function Kh(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let n=0,s=t.length;n<s;n++)if(Kh(t[n]))return!0;return!1}if(fx(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return Kh(t.toJSON(),!0);for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&Kh(t[n]))return!0;return!1}function I3(t){const e=[],n=t.data,s=t;return s.data=c0(n,e),s.attachments=e.length,{packet:s,buffers:e}}function c0(t,e){if(!t)return t;if(fx(t)){const n={_placeholder:!0,num:e.length};return e.push(t),n}else if(Array.isArray(t)){const n=new Array(t.length);for(let s=0;s<t.length;s++)n[s]=c0(t[s],e);return n}else if(typeof t=="object"&&!(t instanceof Date)){const n={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=c0(t[s],e));return n}return t}function F3(t,e){return t.data=u0(t.data,e),delete t.attachments,t}function u0(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=u0(t[n],e);else if(typeof t=="object")for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=u0(t[n],e));return t}const z3=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],B3=5;var nt;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(nt||(nt={}));class U3{constructor(e){this.replacer=e}encode(e){return(e.type===nt.EVENT||e.type===nt.ACK)&&Kh(e)?this.encodeAsBinary({type:e.type===nt.EVENT?nt.BINARY_EVENT:nt.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let n=""+e.type;return(e.type===nt.BINARY_EVENT||e.type===nt.BINARY_ACK)&&(n+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(n+=e.nsp+","),e.id!=null&&(n+=e.id),e.data!=null&&(n+=JSON.stringify(e.data,this.replacer)),n}encodeAsBinary(e){const n=I3(e),s=this.encodeAsString(n.packet),i=n.buffers;return i.unshift(s),i}}function $C(t){return Object.prototype.toString.call(t)==="[object Object]"}class hx extends hn{constructor(e){super(),this.reviver=e}add(e){let n;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(e);const s=n.type===nt.BINARY_EVENT;s||n.type===nt.BINARY_ACK?(n.type=s?nt.EVENT:nt.ACK,this.reconstructor=new V3(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(fx(e)||e.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(e),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let n=0;const s={type:Number(e.charAt(0))};if(nt[s.type]===void 0)throw new Error("unknown packet type "+s.type);if(s.type===nt.BINARY_EVENT||s.type===nt.BINARY_ACK){const o=n+1;for(;e.charAt(++n)!=="-"&&n!=e.length;);const l=e.substring(o,n);if(l!=Number(l)||e.charAt(n)!=="-")throw new Error("Illegal attachments");s.attachments=Number(l)}if(e.charAt(n+1)==="/"){const o=n+1;for(;++n&&!(e.charAt(n)===","||n===e.length););s.nsp=e.substring(o,n)}else s.nsp="/";const i=e.charAt(n+1);if(i!==""&&Number(i)==i){const o=n+1;for(;++n;){const l=e.charAt(n);if(l==null||Number(l)!=l){--n;break}if(n===e.length)break}s.id=Number(e.substring(o,n+1))}if(e.charAt(++n)){const o=this.tryParse(e.substr(n));if(hx.isPayloadValid(s.type,o))s.data=o;else throw new Error("invalid payload")}return s}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,n){switch(e){case nt.CONNECT:return $C(n);case nt.DISCONNECT:return n===void 0;case nt.CONNECT_ERROR:return typeof n=="string"||$C(n);case nt.EVENT:case nt.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&z3.indexOf(n[0])===-1);case nt.ACK:case nt.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class V3{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const n=F3(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const $3=Object.freeze(Object.defineProperty({__proto__:null,Decoder:hx,Encoder:U3,get PacketType(){return nt},protocol:B3},Symbol.toStringTag,{value:"Module"}));function Nr(t,e,n){return t.on(e,n),function(){t.off(e,n)}}const H3=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class DN extends hn{constructor(e,n,s){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=n,s&&s.auth&&(this.auth=s.auth),this._opts=Object.assign({},s),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Nr(e,"open",this.onopen.bind(this)),Nr(e,"packet",this.onpacket.bind(this)),Nr(e,"error",this.onerror.bind(this)),Nr(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...n){var s,i,o;if(H3.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(n.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const l={type:nt.EVENT,data:n};if(l.options={},l.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const m=this.ids++,p=n.pop();this._registerAckCallback(m,p),l.id=m}const u=(i=(s=this.io.engine)===null||s===void 0?void 0:s.transport)===null||i===void 0?void 0:i.writable,d=this.connected&&!(!((o=this.io.engine)===null||o===void 0)&&o._hasPingExpired());return this.flags.volatile&&!u||(d?(this.notifyOutgoingListeners(l),this.packet(l)):this.sendBuffer.push(l)),this.flags={},this}_registerAckCallback(e,n){var s;const i=(s=this.flags.timeout)!==null&&s!==void 0?s:this._opts.ackTimeout;if(i===void 0){this.acks[e]=n;return}const o=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let u=0;u<this.sendBuffer.length;u++)this.sendBuffer[u].id===e&&this.sendBuffer.splice(u,1);n.call(this,new Error("operation has timed out"))},i),l=(...u)=>{this.io.clearTimeoutFn(o),n.apply(this,u)};l.withError=!0,this.acks[e]=l}emitWithAck(e,...n){return new Promise((s,i)=>{const o=(l,u)=>l?i(l):s(u);o.withError=!0,n.push(o),this.emit(e,...n)})}_addToQueue(e){let n;typeof e[e.length-1]=="function"&&(n=e.pop());const s={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((i,...o)=>s!==this._queue[0]?void 0:(i!==null?s.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(i)):(this._queue.shift(),n&&n(null,...o)),s.pending=!1,this._drainQueue())),this._queue.push(s),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!e||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:nt.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(s=>String(s.id)===e)){const s=this.acks[e];delete this.acks[e],s.withError&&s.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case nt.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case nt.EVENT:case nt.BINARY_EVENT:this.onevent(e);break;case nt.ACK:case nt.BINARY_ACK:this.onack(e);break;case nt.DISCONNECT:this.ondisconnect();break;case nt.CONNECT_ERROR:this.destroy();const s=new Error(e.data.message);s.data=e.data.data,this.emitReserved("connect_error",s);break}}onevent(e){const n=e.data||[];e.id!=null&&n.push(this.ack(e.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const s of n)s.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const n=this;let s=!1;return function(...i){s||(s=!0,n.packet({type:nt.ACK,id:e,data:i}))}}onack(e){const n=this.acks[e.id];typeof n=="function"&&(delete this.acks[e.id],n.withError&&e.data.unshift(null),n.apply(this,e.data))}onconnect(e,n){this.id=e,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:nt.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const n=this._anyListeners;for(let s=0;s<n.length;s++)if(e===n[s])return n.splice(s,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const n=this._anyOutgoingListeners;for(let s=0;s<n.length;s++)if(e===n[s])return n.splice(s,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const s of n)s.apply(this,e.data)}}}function zc(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}zc.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=(Math.floor(e*10)&1)==0?t-n:t+n}return Math.min(t,this.max)|0};zc.prototype.reset=function(){this.attempts=0};zc.prototype.setMin=function(t){this.ms=t};zc.prototype.setMax=function(t){this.max=t};zc.prototype.setJitter=function(t){this.jitter=t};class d0 extends hn{constructor(e,n){var s;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(n=e,e=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,Xp(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((s=n.randomizationFactor)!==null&&s!==void 0?s:.5),this.backoff=new zc({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=e;const i=n.parser||$3;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var n;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(n=this.backoff)===null||n===void 0||n.setMin(e),this)}randomizationFactor(e){var n;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(n=this.backoff)===null||n===void 0||n.setJitter(e),this)}reconnectionDelayMax(e){var n;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(n=this.backoff)===null||n===void 0||n.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new j3(this.uri,this.opts);const n=this.engine,s=this;this._readyState="opening",this.skipReconnect=!1;const i=Nr(n,"open",function(){s.onopen(),e&&e()}),o=u=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",u),e?e(u):this.maybeReconnectOnOpen()},l=Nr(n,"error",o);if(this._timeout!==!1){const u=this._timeout,d=this.setTimeoutFn(()=>{i(),o(new Error("timeout")),n.close()},u);this.opts.autoUnref&&d.unref(),this.subs.push(()=>{this.clearTimeoutFn(d)})}return this.subs.push(i),this.subs.push(l),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Nr(e,"ping",this.onping.bind(this)),Nr(e,"data",this.ondata.bind(this)),Nr(e,"error",this.onerror.bind(this)),Nr(e,"close",this.onclose.bind(this)),Nr(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(n){this.onclose("parse error",n)}}ondecoded(e){Wp(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,n){let s=this.nsps[e];return s?this._autoConnect&&!s.active&&s.connect():(s=new DN(this,e,n),this.nsps[e]=s),s}_destroy(e){const n=Object.keys(this.nsps);for(const s of n)if(this.nsps[s].active)return;this._close()}_packet(e){const n=this.encoder.encode(e);for(let s=0;s<n.length;s++)this.engine.write(n[s],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,n){var s;this.cleanup(),(s=this.engine)===null||s===void 0||s.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const s=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):e.onreconnect()}))},n);this.opts.autoUnref&&s.unref(),this.subs.push(()=>{this.clearTimeoutFn(s)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Bu={};function Gh(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const n=M3(t,e.path||"/socket.io"),s=n.source,i=n.id,o=n.path,l=Bu[i]&&o in Bu[i].nsps,u=e.forceNew||e["force new connection"]||e.multiplex===!1||l;let d;return u?d=new d0(s,e):(Bu[i]||(Bu[i]=new d0(s,e)),d=Bu[i]),n.query&&!e.query&&(e.query=n.queryKey),d.socket(n.path,e)}Object.assign(Gh,{Manager:d0,Socket:DN,io:Gh,connect:Gh});function q3(t){return{all:t=t||new Map,on:function(e,n){var s=t.get(e);s?s.push(n):t.set(e,[n])},off:function(e,n){var s=t.get(e);s&&(n?s.splice(s.indexOf(n)>>>0,1):t.set(e,[]))},emit:function(e,n){var s=t.get(e);s&&s.slice().map(function(i){i(n)}),(s=t.get("*"))&&s.slice().map(function(i){i(e,n)})}}}const vs=q3();class K3{constructor(e={}){Dl(this,"socket",null);Dl(this,"connected",!1);Dl(this,"reconnectAttempts",0);Dl(this,"maxReconnectAttempts",5);Dl(this,"reconnectDelay",1e3);this.config=e,e.autoConnect!==!1&&this.connect()}connect(e){return new Promise((n,s)=>{const i=e||this.config.serverUrl;this.socket&&this.socket.disconnect(),this.socket=Gh(i,{transports:["websocket"],upgrade:!1,reconnection:!0,reconnectionAttempts:this.maxReconnectAttempts,reconnectionDelay:this.reconnectDelay,pingTimeout:3e5}),this.socket.on("connect",()=>{var o;console.log("✅ Socket.IO connected:",(o=this.socket)==null?void 0:o.id),this.connected=!0,this.reconnectAttempts=0,n(!0)}),this.socket.on("connect_error",o=>{console.error("❌ Socket.IO connection error:",o),this.connected=!1,this.reconnectAttempts++,this.reconnectAttempts>=this.maxReconnectAttempts&&s(new Error(`Failed to connect after ${this.maxReconnectAttempts} attempts`))}),this.socket.on("disconnect",o=>{console.log("🔌 Socket.IO disconnected:",o),this.connected=!1}),this.registerEventHandlers()})}registerEventHandlers(){this.socket&&(this.socket.on("connected",e=>{console.log("🔗 Socket.IO connection confirmed:",e)}),this.socket.on("init_done",e=>{console.log("🔗 Server initialization done:",e)}),this.socket.on("session_update",e=>{this.handleSessionUpdate(e)}),this.socket.on("pong",e=>{console.log("🔗 Pong received:",e)}))}handleSessionUpdate(e){const{session_id:n,type:s}=e;if(!n){console.warn("⚠️ Session update missing session_id:",e);return}switch(s){case ns.Delta:vs.emit("Socket::Session::Delta",e);break;case ns.ToolCall:vs.emit("Socket::Session::ToolCall",e);break;case ns.ToolCallPendingConfirmation:vs.emit("Socket::Session::ToolCallPendingConfirmation",e);break;case ns.ToolCallConfirmed:vs.emit("Socket::Session::ToolCallConfirmed",e);break;case ns.ToolCallCancelled:vs.emit("Socket::Session::ToolCallCancelled",e);break;case ns.ToolCallArguments:vs.emit("Socket::Session::ToolCallArguments",e);break;case ns.ToolCallProgress:vs.emit("Socket::Session::ToolCallProgress",e);break;case ns.ImageGenerated:vs.emit("Socket::Session::ImageGenerated",e);break;case ns.VideoGenerated:vs.emit("Socket::Session::VideoGenerated",e);break;case ns.AllMessages:vs.emit("Socket::Session::AllMessages",e);break;case ns.Done:vs.emit("Socket::Session::Done",e);break;case ns.Error:vs.emit("Socket::Session::Error",e);break;case ns.Info:vs.emit("Socket::Session::Info",e);break;case ns.ToolCallResult:vs.emit("Socket::Session::ToolCallResult",e);break;default:console.log("⚠️ Unknown session update type:",s)}}ping(e){this.socket&&this.connected&&this.socket.emit("ping",e)}disconnect(){this.socket&&(this.socket.disconnect(),this.socket=null,this.connected=!1,console.log("🔌 Socket.IO manually disconnected"))}isConnected(){return this.connected}getSocketId(){var e;return(e=this.socket)==null?void 0:e.id}getSocket(){return this.socket}getReconnectAttempts(){return this.reconnectAttempts}isMaxReconnectAttemptsReached(){return this.reconnectAttempts>=this.maxReconnectAttempts}}var Gv={exports:{}},ze={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HC;function G3(){if(HC)return ze;HC=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),v=Symbol.iterator;function x(L){return L===null||typeof L!="object"?null:(L=v&&L[v]||L["@@iterator"],typeof L=="function"?L:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,C={};function T(L,$,Y){this.props=L,this.context=$,this.refs=C,this.updater=Y||_}T.prototype.isReactComponent={},T.prototype.setState=function(L,$){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,$,"setState")},T.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function N(){}N.prototype=T.prototype;function k(L,$,Y){this.props=L,this.context=$,this.refs=C,this.updater=Y||_}var A=k.prototype=new N;A.constructor=k,w(A,T.prototype),A.isPureReactComponent=!0;var O=Array.isArray;function P(){}var j={H:null,A:null,T:null,S:null},D=Object.prototype.hasOwnProperty;function z(L,$,Y){var ee=Y.ref;return{$$typeof:t,type:L,key:$,ref:ee!==void 0?ee:null,props:Y}}function I(L,$){return z(L.type,$,L.props)}function H(L){return typeof L=="object"&&L!==null&&L.$$typeof===t}function V(L){var $={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(Y){return $[Y]})}var X=/\/+/g;function J(L,$){return typeof L=="object"&&L!==null&&L.key!=null?V(""+L.key):$.toString(36)}function ie(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(P,P):(L.status="pending",L.then(function($){L.status==="pending"&&(L.status="fulfilled",L.value=$)},function($){L.status==="pending"&&(L.status="rejected",L.reason=$)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function R(L,$,Y,ee,de){var ce=typeof L;(ce==="undefined"||ce==="boolean")&&(L=null);var ae=!1;if(L===null)ae=!0;else switch(ce){case"bigint":case"string":case"number":ae=!0;break;case"object":switch(L.$$typeof){case t:case e:ae=!0;break;case m:return ae=L._init,R(ae(L._payload),$,Y,ee,de)}}if(ae)return de=de(L),ae=ee===""?"."+J(L,0):ee,O(de)?(Y="",ae!=null&&(Y=ae.replace(X,"$&/")+"/"),R(de,$,Y,"",function(pe){return pe})):de!=null&&(H(de)&&(de=I(de,Y+(de.key==null||L&&L.key===de.key?"":(""+de.key).replace(X,"$&/")+"/")+ae)),$.push(de)),1;ae=0;var me=ee===""?".":ee+":";if(O(L))for(var ge=0;ge<L.length;ge++)ee=L[ge],ce=me+J(ee,ge),ae+=R(ee,$,Y,ce,de);else if(ge=x(L),typeof ge=="function")for(L=ge.call(L),ge=0;!(ee=L.next()).done;)ee=ee.value,ce=me+J(ee,ge++),ae+=R(ee,$,Y,ce,de);else if(ce==="object"){if(typeof L.then=="function")return R(ie(L),$,Y,ee,de);throw $=String(L),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return ae}function B(L,$,Y){if(L==null)return L;var ee=[],de=0;return R(L,ee,"","",function(ce){return $.call(Y,ce,de++)}),ee}function F(L){if(L._status===-1){var $=L._result;$=$(),$.then(function(Y){(L._status===0||L._status===-1)&&(L._status=1,L._result=Y)},function(Y){(L._status===0||L._status===-1)&&(L._status=2,L._result=Y)}),L._status===-1&&(L._status=0,L._result=$)}if(L._status===1)return L._result.default;throw L._result}var se=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},W={map:B,forEach:function(L,$,Y){B(L,function(){$.apply(this,arguments)},Y)},count:function(L){var $=0;return B(L,function(){$++}),$},toArray:function(L){return B(L,function($){return $})||[]},only:function(L){if(!H(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return ze.Activity=p,ze.Children=W,ze.Component=T,ze.Fragment=n,ze.Profiler=i,ze.PureComponent=k,ze.StrictMode=s,ze.Suspense=d,ze.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,ze.__COMPILER_RUNTIME={__proto__:null,c:function(L){return j.H.useMemoCache(L)}},ze.cache=function(L){return function(){return L.apply(null,arguments)}},ze.cacheSignal=function(){return null},ze.cloneElement=function(L,$,Y){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var ee=w({},L.props),de=L.key;if($!=null)for(ce in $.key!==void 0&&(de=""+$.key),$)!D.call($,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&$.ref===void 0||(ee[ce]=$[ce]);var ce=arguments.length-2;if(ce===1)ee.children=Y;else if(1<ce){for(var ae=Array(ce),me=0;me<ce;me++)ae[me]=arguments[me+2];ee.children=ae}return z(L.type,de,ee)},ze.createContext=function(L){return L={$$typeof:l,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:o,_context:L},L},ze.createElement=function(L,$,Y){var ee,de={},ce=null;if($!=null)for(ee in $.key!==void 0&&(ce=""+$.key),$)D.call($,ee)&&ee!=="key"&&ee!=="__self"&&ee!=="__source"&&(de[ee]=$[ee]);var ae=arguments.length-2;if(ae===1)de.children=Y;else if(1<ae){for(var me=Array(ae),ge=0;ge<ae;ge++)me[ge]=arguments[ge+2];de.children=me}if(L&&L.defaultProps)for(ee in ae=L.defaultProps,ae)de[ee]===void 0&&(de[ee]=ae[ee]);return z(L,ce,de)},ze.createRef=function(){return{current:null}},ze.forwardRef=function(L){return{$$typeof:u,render:L}},ze.isValidElement=H,ze.lazy=function(L){return{$$typeof:m,_payload:{_status:-1,_result:L},_init:F}},ze.memo=function(L,$){return{$$typeof:h,type:L,compare:$===void 0?null:$}},ze.startTransition=function(L){var $=j.T,Y={};j.T=Y;try{var ee=L(),de=j.S;de!==null&&de(Y,ee),typeof ee=="object"&&ee!==null&&typeof ee.then=="function"&&ee.then(P,se)}catch(ce){se(ce)}finally{$!==null&&Y.types!==null&&($.types=Y.types),j.T=$}},ze.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},ze.use=function(L){return j.H.use(L)},ze.useActionState=function(L,$,Y){return j.H.useActionState(L,$,Y)},ze.useCallback=function(L,$){return j.H.useCallback(L,$)},ze.useContext=function(L){return j.H.useContext(L)},ze.useDebugValue=function(){},ze.useDeferredValue=function(L,$){return j.H.useDeferredValue(L,$)},ze.useEffect=function(L,$){return j.H.useEffect(L,$)},ze.useEffectEvent=function(L){return j.H.useEffectEvent(L)},ze.useId=function(){return j.H.useId()},ze.useImperativeHandle=function(L,$,Y){return j.H.useImperativeHandle(L,$,Y)},ze.useInsertionEffect=function(L,$){return j.H.useInsertionEffect(L,$)},ze.useLayoutEffect=function(L,$){return j.H.useLayoutEffect(L,$)},ze.useMemo=function(L,$){return j.H.useMemo(L,$)},ze.useOptimistic=function(L,$){return j.H.useOptimistic(L,$)},ze.useReducer=function(L,$,Y){return j.H.useReducer(L,$,Y)},ze.useRef=function(L){return j.H.useRef(L)},ze.useState=function(L){return j.H.useState(L)},ze.useSyncExternalStore=function(L,$,Y){return j.H.useSyncExternalStore(L,$,Y)},ze.useTransition=function(){return j.H.useTransition()},ze.version="19.2.0",ze}var qC;function $d(){return qC||(qC=1,Gv.exports=G3()),Gv.exports}var S=$d();const le=Yp(S),PN=WL({__proto__:null,default:le},[S]),Y3=(t,e,n,s)=>{var o,l,u,d;const i=[n,{code:e,...s||{}}];if((l=(o=t==null?void 0:t.services)==null?void 0:o.logger)!=null&&l.forward)return t.services.logger.forward(i,"warn","react-i18next::",!0);Do(i[0])&&(i[0]=`react-i18next:: ${i[0]}`),(d=(u=t==null?void 0:t.services)==null?void 0:u.logger)!=null&&d.warn?t.services.logger.warn(...i):console!=null&&console.warn&&console.warn(...i)},KC={},f0=(t,e,n,s)=>{Do(n)&&KC[n]||(Do(n)&&(KC[n]=new Date),Y3(t,e,n,s))},LN=(t,e)=>()=>{if(t.isInitialized)e();else{const n=()=>{setTimeout(()=>{t.off("initialized",n)},0),e()};t.on("initialized",n)}},h0=(t,e,n)=>{t.loadNamespaces(e,LN(t,n))},GC=(t,e,n,s)=>{if(Do(n)&&(n=[n]),t.options.preload&&t.options.preload.indexOf(e)>-1)return h0(t,n,s);n.forEach(i=>{t.options.ns.indexOf(i)<0&&t.options.ns.push(i)}),t.loadLanguages(e,LN(t,s))},W3=(t,e,n={})=>!e.languages||!e.languages.length?(f0(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(t,{lng:n.lng,precheck:(s,i)=>{var o;if(((o=n.bindI18n)==null?void 0:o.indexOf("languageChanging"))>-1&&s.services.backendConnector.backend&&s.isLanguageChangingTo&&!i(s.isLanguageChangingTo,t))return!1}}),Do=t=>typeof t=="string",X3=t=>typeof t=="object"&&t!==null,Q3=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,J3={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},Z3=t=>J3[t],e4=t=>t.replace(Q3,Z3);let p0={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:e4};const t4=(t={})=>{p0={...p0,...t}},n4=()=>p0;let IN;const s4=t=>{IN=t},r4=()=>IN,i4={type:"3rdParty",init(t){t4(t.options.react),s4(t)}},a4=S.createContext();class o4{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const l4=(t,e)=>{const n=S.useRef();return S.useEffect(()=>{n.current=t},[t,e]),n.current},FN=(t,e,n,s)=>t.getFixedT(e,n,s),c4=(t,e,n,s)=>S.useCallback(FN(t,e,n,s),[t,e,n,s]),Us=(t,e={})=>{var A,O,P,j;const{i18n:n}=e,{i18n:s,defaultNS:i}=S.useContext(a4)||{},o=n||s||r4();if(o&&!o.reportNamespaces&&(o.reportNamespaces=new o4),!o){f0(o,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const D=(I,H)=>Do(H)?H:X3(H)&&Do(H.defaultValue)?H.defaultValue:Array.isArray(I)?I[I.length-1]:I,z=[D,{},!1];return z.t=D,z.i18n={},z.ready=!1,z}(A=o.options.react)!=null&&A.wait&&f0(o,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const l={...n4(),...o.options.react,...e},{useSuspense:u,keyPrefix:d}=l;let h=i||((O=o.options)==null?void 0:O.defaultNS);h=Do(h)?[h]:h||["translation"],(j=(P=o.reportNamespaces).addUsedNamespaces)==null||j.call(P,h);const m=(o.isInitialized||o.initializedStoreOnce)&&h.every(D=>W3(D,o,l)),p=c4(o,e.lng||null,l.nsMode==="fallback"?h:h[0],d),v=()=>p,x=()=>FN(o,e.lng||null,l.nsMode==="fallback"?h:h[0],d),[_,w]=S.useState(v);let C=h.join();e.lng&&(C=`${e.lng}${C}`);const T=l4(C),N=S.useRef(!0);S.useEffect(()=>{const{bindI18n:D,bindI18nStore:z}=l;N.current=!0,!m&&!u&&(e.lng?GC(o,e.lng,h,()=>{N.current&&w(x)}):h0(o,h,()=>{N.current&&w(x)})),m&&T&&T!==C&&N.current&&w(x);const I=()=>{N.current&&w(x)};return D&&(o==null||o.on(D,I)),z&&(o==null||o.store.on(z,I)),()=>{N.current=!1,o&&(D==null||D.split(" ").forEach(H=>o.off(H,I))),z&&o&&z.split(" ").forEach(H=>o.store.off(H,I))}},[o,C]),S.useEffect(()=>{N.current&&m&&w(v)},[o,d,m]);const k=[_,o,m];if(k.t=_,k.i18n=o,k.ready=m,m||!m&&!u)return k;throw new Promise(D=>{e.lng?GC(o,e.lng,h,()=>D()):h0(o,h,()=>D())})},u4=async()=>{try{const t=await fetch("/api/server_url",{method:"GET",headers:{"Content-Type":"application/json"}});return t.ok?(await t.json()).server_url:(console.warn("无法获取服务器URL，使用默认值"),"http://127.0.0.188:57988")}catch(t){return console.error("获取服务器URL时出错:",t),"http://127.0.0.188:57988"}},d4=async()=>{const t=await u4();return localStorage.setItem("FTK_SERVER_URL",t),t},zN=()=>{const t=localStorage.getItem("FTK_SERVER_URL");return t||"http://127.0.0.188:57988"},f4=S.createContext({connected:!1,connecting:!1,socketManager:null}),h4=({children:t})=>{var v,x;const{t:e}=Us(),[n,s]=S.useState(!1),[i,o]=S.useState(),[l,u]=S.useState(!0),[d,h]=S.useState(),m=S.useRef(null);S.useEffect(()=>{let _=!0;return(async()=>{try{u(!0),h(void 0),await d4();const C=zN();m.current||(m.current=new K3({serverUrl:C||window.location.origin,autoConnect:!1}));const T=m.current;if(await T.connect(),_){s(!0),o(T.getSocketId()),u(!1),console.log("🚀 Socket.IO initialized successfully");const N=T.getSocket();if(N){const k=()=>{_&&(s(!0),o(T.getSocketId()),u(!1),h(void 0))},A=()=>{_&&(s(!1),o(void 0),u(!1))},O=P=>{_&&(h(P.message||"❌ Socket.IO Connection Error"),s(!1),u(!1))};return N.on("connect",k),N.on("disconnect",A),N.on("connect_error",O),()=>{N.off("connect",k),N.off("disconnect",A),N.off("connect_error",O)}}}}catch(C){_&&(h(C instanceof Error?C.message:"Unknown error"),s(!1),u(!1),console.error("❌ Failed to initialize Socket.IO:",C))}})(),()=>{_=!1,m.current&&(m.current.disconnect(),m.current=null)}},[]),S.useEffect(()=>{console.log("📢 Notification manager initialized")},[]);const p={connected:n,socketId:i,connecting:l,error:d,socketManager:m.current};return g.jsxs(f4.Provider,{value:p,children:[t,d&&g.jsx("div",{className:"fixed top-4 right-4 z-50 bg-red-500 text-white px-3 py-2 rounded-md shadow-lg",children:(v=m.current)!=null&&v.isMaxReconnectAttemptsReached()?e("socket.maxRetriesReached"):e("socket.connectionError",{current:((x=m.current)==null?void 0:x.getReconnectAttempts())||0,max:5,error:d})})]})};var Yv={exports:{}},Uu={},Wv={exports:{}},Xv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YC;function p4(){return YC||(YC=1,function(t){function e(R,B){var F=R.length;R.push(B);e:for(;0<F;){var se=F-1>>>1,W=R[se];if(0<i(W,B))R[se]=B,R[F]=W,F=se;else break e}}function n(R){return R.length===0?null:R[0]}function s(R){if(R.length===0)return null;var B=R[0],F=R.pop();if(F!==B){R[0]=F;e:for(var se=0,W=R.length,L=W>>>1;se<L;){var $=2*(se+1)-1,Y=R[$],ee=$+1,de=R[ee];if(0>i(Y,F))ee<W&&0>i(de,Y)?(R[se]=de,R[ee]=F,se=ee):(R[se]=Y,R[$]=F,se=$);else if(ee<W&&0>i(de,F))R[se]=de,R[ee]=F,se=ee;else break e}}return B}function i(R,B){var F=R.sortIndex-B.sortIndex;return F!==0?F:R.id-B.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var d=[],h=[],m=1,p=null,v=3,x=!1,_=!1,w=!1,C=!1,T=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function A(R){for(var B=n(h);B!==null;){if(B.callback===null)s(h);else if(B.startTime<=R)s(h),B.sortIndex=B.expirationTime,e(d,B);else break;B=n(h)}}function O(R){if(w=!1,A(R),!_)if(n(d)!==null)_=!0,P||(P=!0,V());else{var B=n(h);B!==null&&ie(O,B.startTime-R)}}var P=!1,j=-1,D=5,z=-1;function I(){return C?!0:!(t.unstable_now()-z<D)}function H(){if(C=!1,P){var R=t.unstable_now();z=R;var B=!0;try{e:{_=!1,w&&(w=!1,N(j),j=-1),x=!0;var F=v;try{t:{for(A(R),p=n(d);p!==null&&!(p.expirationTime>R&&I());){var se=p.callback;if(typeof se=="function"){p.callback=null,v=p.priorityLevel;var W=se(p.expirationTime<=R);if(R=t.unstable_now(),typeof W=="function"){p.callback=W,A(R),B=!0;break t}p===n(d)&&s(d),A(R)}else s(d);p=n(d)}if(p!==null)B=!0;else{var L=n(h);L!==null&&ie(O,L.startTime-R),B=!1}}break e}finally{p=null,v=F,x=!1}B=void 0}}finally{B?V():P=!1}}}var V;if(typeof k=="function")V=function(){k(H)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,J=X.port2;X.port1.onmessage=H,V=function(){J.postMessage(null)}}else V=function(){T(H,0)};function ie(R,B){j=T(function(){R(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(R){switch(v){case 1:case 2:case 3:var B=3;break;default:B=v}var F=v;v=B;try{return R()}finally{v=F}},t.unstable_requestPaint=function(){C=!0},t.unstable_runWithPriority=function(R,B){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var F=v;v=R;try{return B()}finally{v=F}},t.unstable_scheduleCallback=function(R,B,F){var se=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?se+F:se):F=se,R){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=F+W,R={id:m++,callback:B,priorityLevel:R,startTime:F,expirationTime:W,sortIndex:-1},F>se?(R.sortIndex=F,e(h,R),n(d)===null&&R===n(h)&&(w?(N(j),j=-1):w=!0,ie(O,F-se))):(R.sortIndex=W,e(d,R),_||x||(_=!0,P||(P=!0,V()))),R},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(R){var B=v;return function(){var F=v;v=B;try{return R.apply(this,arguments)}finally{v=F}}}}(Xv)),Xv}var WC;function m4(){return WC||(WC=1,Wv.exports=p4()),Wv.exports}var Qv={exports:{}},Vn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XC;function g4(){if(XC)return Vn;XC=1;var t=$d();function e(d){var h="https://react.dev/errors/"+d;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)h+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(d,h,m){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:d,containerInfo:h,implementation:m}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,h){if(d==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Vn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Vn.createPortal=function(d,h){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return o(d,h,null,m)},Vn.flushSync=function(d){var h=l.T,m=s.p;try{if(l.T=null,s.p=2,d)return d()}finally{l.T=h,s.p=m,s.d.f()}},Vn.preconnect=function(d,h){typeof d=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,s.d.C(d,h))},Vn.prefetchDNS=function(d){typeof d=="string"&&s.d.D(d)},Vn.preinit=function(d,h){if(typeof d=="string"&&h&&typeof h.as=="string"){var m=h.as,p=u(m,h.crossOrigin),v=typeof h.integrity=="string"?h.integrity:void 0,x=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;m==="style"?s.d.S(d,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:p,integrity:v,fetchPriority:x}):m==="script"&&s.d.X(d,{crossOrigin:p,integrity:v,fetchPriority:x,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Vn.preinitModule=function(d,h){if(typeof d=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var m=u(h.as,h.crossOrigin);s.d.M(d,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&s.d.M(d)},Vn.preload=function(d,h){if(typeof d=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var m=h.as,p=u(m,h.crossOrigin);s.d.L(d,m,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Vn.preloadModule=function(d,h){if(typeof d=="string")if(h){var m=u(h.as,h.crossOrigin);s.d.m(d,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else s.d.m(d)},Vn.requestFormReset=function(d){s.d.r(d)},Vn.unstable_batchedUpdates=function(d,h){return d(h)},Vn.useFormState=function(d,h,m){return l.H.useFormState(d,h,m)},Vn.useFormStatus=function(){return l.H.useHostTransitionStatus()},Vn.version="19.2.0",Vn}var QC;function BN(){if(QC)return Qv.exports;QC=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Qv.exports=g4(),Qv.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JC;function v4(){if(JC)return Uu;JC=1;var t=m4(),e=$d(),n=BN();function s(r){var a="https://react.dev/errors/"+r;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+r+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function o(r){var a=r,c=r;if(r.alternate)for(;a.return;)a=a.return;else{r=a;do a=r,(a.flags&4098)!==0&&(c=a.return),r=a.return;while(r)}return a.tag===3?c:null}function l(r){if(r.tag===13){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function u(r){if(r.tag===31){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function d(r){if(o(r)!==r)throw Error(s(188))}function h(r){var a=r.alternate;if(!a){if(a=o(r),a===null)throw Error(s(188));return a!==r?null:r}for(var c=r,f=a;;){var y=c.return;if(y===null)break;var b=y.alternate;if(b===null){if(f=y.return,f!==null){c=f;continue}break}if(y.child===b.child){for(b=y.child;b;){if(b===c)return d(y),r;if(b===f)return d(y),a;b=b.sibling}throw Error(s(188))}if(c.return!==f.return)c=y,f=b;else{for(var E=!1,M=y.child;M;){if(M===c){E=!0,c=y,f=b;break}if(M===f){E=!0,f=y,c=b;break}M=M.sibling}if(!E){for(M=b.child;M;){if(M===c){E=!0,c=b,f=y;break}if(M===f){E=!0,f=b,c=y;break}M=M.sibling}if(!E)throw Error(s(189))}}if(c.alternate!==f)throw Error(s(190))}if(c.tag!==3)throw Error(s(188));return c.stateNode.current===c?r:a}function m(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r;for(r=r.child;r!==null;){if(a=m(r),a!==null)return a;r=r.sibling}return null}var p=Object.assign,v=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),N=Symbol.for("react.consumer"),k=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),z=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),H=Symbol.iterator;function V(r){return r===null||typeof r!="object"?null:(r=H&&r[H]||r["@@iterator"],typeof r=="function"?r:null)}var X=Symbol.for("react.client.reference");function J(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===X?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case w:return"Fragment";case T:return"Profiler";case C:return"StrictMode";case O:return"Suspense";case P:return"SuspenseList";case z:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case _:return"Portal";case k:return r.displayName||"Context";case N:return(r._context.displayName||"Context")+".Consumer";case A:var a=r.render;return r=r.displayName,r||(r=a.displayName||a.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case j:return a=r.displayName||null,a!==null?a:J(r.type)||"Memo";case D:a=r._payload,r=r._init;try{return J(r(a))}catch{}}return null}var ie=Array.isArray,R=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F={pending:!1,data:null,method:null,action:null},se=[],W=-1;function L(r){return{current:r}}function $(r){0>W||(r.current=se[W],se[W]=null,W--)}function Y(r,a){W++,se[W]=r.current,r.current=a}var ee=L(null),de=L(null),ce=L(null),ae=L(null);function me(r,a){switch(Y(ce,a),Y(de,r),Y(ee,null),a.nodeType){case 9:case 11:r=(r=a.documentElement)&&(r=r.namespaceURI)?iC(r):0;break;default:if(r=a.tagName,a=a.namespaceURI)a=iC(a),r=aC(a,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}$(ee),Y(ee,r)}function ge(){$(ee),$(de),$(ce)}function pe(r){r.memoizedState!==null&&Y(ae,r);var a=ee.current,c=aC(a,r.type);a!==c&&(Y(de,r),Y(ee,c))}function Ce(r){de.current===r&&($(ee),$(de)),ae.current===r&&($(ae),Pu._currentValue=F)}var Ee,Ke;function st(r){if(Ee===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);Ee=a&&a[1]||"",Ke=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ee+r+Ke}var Ve=!1;function Ut(r,a){if(!r||Ve)return"";Ve=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(a){var he=function(){throw Error()};if(Object.defineProperty(he.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(he,[])}catch(oe){var ne=oe}Reflect.construct(r,[],he)}else{try{he.call()}catch(oe){ne=oe}r.call(he.prototype)}}else{try{throw Error()}catch(oe){ne=oe}(he=r())&&typeof he.catch=="function"&&he.catch(function(){})}}catch(oe){if(oe&&ne&&typeof oe.stack=="string")return[oe.stack,ne.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=f.DetermineComponentFrameRoot(),E=b[0],M=b[1];if(E&&M){var U=E.split(`
`),Z=M.split(`
`);for(y=f=0;f<U.length&&!U[f].includes("DetermineComponentFrameRoot");)f++;for(;y<Z.length&&!Z[y].includes("DetermineComponentFrameRoot");)y++;if(f===U.length||y===Z.length)for(f=U.length-1,y=Z.length-1;1<=f&&0<=y&&U[f]!==Z[y];)y--;for(;1<=f&&0<=y;f--,y--)if(U[f]!==Z[y]){if(f!==1||y!==1)do if(f--,y--,0>y||U[f]!==Z[y]){var ue=`
`+U[f].replace(" at new "," at ");return r.displayName&&ue.includes("<anonymous>")&&(ue=ue.replace("<anonymous>",r.displayName)),ue}while(1<=f&&0<=y);break}}}finally{Ve=!1,Error.prepareStackTrace=c}return(c=r?r.displayName||r.name:"")?st(c):""}function ft(r,a){switch(r.tag){case 26:case 27:case 5:return st(r.type);case 16:return st("Lazy");case 13:return r.child!==a&&a!==null?st("Suspense Fallback"):st("Suspense");case 19:return st("SuspenseList");case 0:case 15:return Ut(r.type,!1);case 11:return Ut(r.type.render,!1);case 1:return Ut(r.type,!0);case 31:return st("Activity");default:return""}}function rn(r){try{var a="",c=null;do a+=ft(r,c),c=r,r=r.return;while(r);return a}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}var yt=Object.prototype.hasOwnProperty,an=t.unstable_scheduleCallback,zn=t.unstable_cancelCallback,Fe=t.unstable_shouldYield,it=t.unstable_requestPaint,pt=t.unstable_now,Or=t.unstable_getCurrentPriorityLevel,Bn=t.unstable_ImmediatePriority,Xn=t.unstable_UserBlockingPriority,Un=t.unstable_NormalPriority,gr=t.unstable_LowPriority,ls=t.unstable_IdlePriority,fi=t.log,ks=t.unstable_setDisableYieldValue,Qt=null,on=null;function wn(r){if(typeof fi=="function"&&ks(r),on&&typeof on.setStrictMode=="function")try{on.setStrictMode(Qt,r)}catch{}}var Ft=Math.clz32?Math.clz32:Jt,hi=Math.log,Dr=Math.LN2;function Jt(r){return r>>>=0,r===0?32:31-(hi(r)/Dr|0)|0}var Pe=256,at=262144,Et=4194304;function ct(r){var a=r&42;if(a!==0)return a;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function te(r,a,c){var f=r.pendingLanes;if(f===0)return 0;var y=0,b=r.suspendedLanes,E=r.pingedLanes;r=r.warmLanes;var M=f&134217727;return M!==0?(f=M&~b,f!==0?y=ct(f):(E&=M,E!==0?y=ct(E):c||(c=M&~r,c!==0&&(y=ct(c))))):(M=f&~b,M!==0?y=ct(M):E!==0?y=ct(E):c||(c=f&~r,c!==0&&(y=ct(c)))),y===0?0:a!==0&&a!==y&&(a&b)===0&&(b=y&-y,c=a&-a,b>=c||b===32&&(c&4194048)!==0)?a:y}function ye(r,a){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&a)===0}function je(r,a){switch(r){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function At(){var r=Et;return Et<<=1,(Et&62914560)===0&&(Et=4194304),r}function _n(r){for(var a=[],c=0;31>c;c++)a.push(r);return a}function Xe(r,a){r.pendingLanes|=a,a!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function bt(r,a,c,f,y,b){var E=r.pendingLanes;r.pendingLanes=c,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=c,r.entangledLanes&=c,r.errorRecoveryDisabledLanes&=c,r.shellSuspendCounter=0;var M=r.entanglements,U=r.expirationTimes,Z=r.hiddenUpdates;for(c=E&~c;0<c;){var ue=31-Ft(c),he=1<<ue;M[ue]=0,U[ue]=-1;var ne=Z[ue];if(ne!==null)for(Z[ue]=null,ue=0;ue<ne.length;ue++){var oe=ne[ue];oe!==null&&(oe.lane&=-536870913)}c&=~he}f!==0&&Zt(r,f,0),b!==0&&y===0&&r.tag!==0&&(r.suspendedLanes|=b&~(E&~a))}function Zt(r,a,c){r.pendingLanes|=a,r.suspendedLanes&=~a;var f=31-Ft(a);r.entangledLanes|=a,r.entanglements[f]=r.entanglements[f]|1073741824|c&261930}function Rt(r,a){var c=r.entangledLanes|=a;for(r=r.entanglements;c;){var f=31-Ft(c),y=1<<f;y&a|r[f]&a&&(r[f]|=a),c&=~y}}function Vt(r,a){var c=a&-a;return c=(c&42)!==0?1:Qn(c),(c&(r.suspendedLanes|a))!==0?0:c}function Qn(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function pn(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Pr(){var r=B.p;return r!==0?r:(r=window.event,r===void 0?32:AC(r.type))}function Vs(r,a){var c=B.p;try{return B.p=r,a()}finally{B.p=c}}var Nn=Math.random().toString(36).slice(2),Tt="__reactFiber$"+Nn,Dt="__reactProps$"+Nn,An="__reactContainer$"+Nn,Lr="__reactEvents$"+Nn,Jo="__reactListeners$"+Nn,Gi="__reactHandles$"+Nn,vr="__reactResources$"+Nn,Jn="__reactMarker$"+Nn;function yr(r){delete r[Tt],delete r[Dt],delete r[Lr],delete r[Jo],delete r[Gi]}function mn(r){var a=r[Tt];if(a)return a;for(var c=r.parentNode;c;){if(a=c[An]||c[Tt]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(r=hC(r);r!==null;){if(c=r[Tt])return c;r=hC(r)}return a}r=c,c=r.parentNode}return null}function Ns(r){if(r=r[Tt]||r[An]){var a=r.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return r}return null}function As(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r.stateNode;throw Error(s(33))}function Zn(r){var a=r[vr];return a||(a=r[vr]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function kt(r){r[Jn]=!0}var $s=new Set,Hs={};function gn(r,a){$t(r,a),$t(r+"Capture",a)}function $t(r,a){for(Hs[r]=a,r=0;r<a.length;r++)$s.add(a[r])}var Rn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),cs={},qs={};function us(r){return yt.call(qs,r)?!0:yt.call(cs,r)?!1:Rn.test(r)?qs[r]=!0:(cs[r]=!0,!1)}function br(r,a,c){if(us(a))if(c===null)r.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":r.removeAttribute(a);return;case"boolean":var f=a.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){r.removeAttribute(a);return}}r.setAttribute(a,""+c)}}function es(r,a,c){if(c===null)r.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(a);return}r.setAttribute(a,""+c)}}function Ht(r,a,c,f){if(f===null)r.removeAttribute(c);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(c);return}r.setAttributeNS(a,c,""+f)}}function Sn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Yi(r){var a=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Zd(r,a,c){var f=Object.getOwnPropertyDescriptor(r.constructor.prototype,a);if(!r.hasOwnProperty(a)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var y=f.get,b=f.set;return Object.defineProperty(r,a,{configurable:!0,get:function(){return y.call(this)},set:function(E){c=""+E,b.call(this,E)}}),Object.defineProperty(r,a,{enumerable:f.enumerable}),{getValue:function(){return c},setValue:function(E){c=""+E},stopTracking:function(){r._valueTracker=null,delete r[a]}}}}function Zo(r){if(!r._valueTracker){var a=Yi(r)?"checked":"value";r._valueTracker=Zd(r,a,""+r[a])}}function Qc(r){if(!r)return!1;var a=r._valueTracker;if(!a)return!0;var c=a.getValue(),f="";return r&&(f=Yi(r)?r.checked?"true":"false":r.value),r=f,r!==c?(a.setValue(r),!0):!1}function el(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var UD=/[\n"\\]/g;function Ks(r){return r.replace(UD,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Lm(r,a,c,f,y,b,E,M){r.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?r.type=E:r.removeAttribute("type"),a!=null?E==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+Sn(a)):r.value!==""+Sn(a)&&(r.value=""+Sn(a)):E!=="submit"&&E!=="reset"||r.removeAttribute("value"),a!=null?Im(r,E,Sn(a)):c!=null?Im(r,E,Sn(c)):f!=null&&r.removeAttribute("value"),y==null&&b!=null&&(r.defaultChecked=!!b),y!=null&&(r.checked=y&&typeof y!="function"&&typeof y!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?r.name=""+Sn(M):r.removeAttribute("name")}function Zw(r,a,c,f,y,b,E,M){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(r.type=b),a!=null||c!=null){if(!(b!=="submit"&&b!=="reset"||a!=null)){Zo(r);return}c=c!=null?""+Sn(c):"",a=a!=null?""+Sn(a):c,M||a===r.value||(r.value=a),r.defaultValue=a}f=f??y,f=typeof f!="function"&&typeof f!="symbol"&&!!f,r.checked=M?r.checked:!!f,r.defaultChecked=!!f,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(r.name=E),Zo(r)}function Im(r,a,c){a==="number"&&el(r.ownerDocument)===r||r.defaultValue===""+c||(r.defaultValue=""+c)}function tl(r,a,c,f){if(r=r.options,a){a={};for(var y=0;y<c.length;y++)a["$"+c[y]]=!0;for(c=0;c<r.length;c++)y=a.hasOwnProperty("$"+r[c].value),r[c].selected!==y&&(r[c].selected=y),y&&f&&(r[c].defaultSelected=!0)}else{for(c=""+Sn(c),a=null,y=0;y<r.length;y++){if(r[y].value===c){r[y].selected=!0,f&&(r[y].defaultSelected=!0);return}a!==null||r[y].disabled||(a=r[y])}a!==null&&(a.selected=!0)}}function e_(r,a,c){if(a!=null&&(a=""+Sn(a),a!==r.value&&(r.value=a),c==null)){r.defaultValue!==a&&(r.defaultValue=a);return}r.defaultValue=c!=null?""+Sn(c):""}function t_(r,a,c,f){if(a==null){if(f!=null){if(c!=null)throw Error(s(92));if(ie(f)){if(1<f.length)throw Error(s(93));f=f[0]}c=f}c==null&&(c=""),a=c}c=Sn(a),r.defaultValue=c,f=r.textContent,f===c&&f!==""&&f!==null&&(r.value=f),Zo(r)}function nl(r,a){if(a){var c=r.firstChild;if(c&&c===r.lastChild&&c.nodeType===3){c.nodeValue=a;return}}r.textContent=a}var VD=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function n_(r,a,c){var f=a.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?f?r.setProperty(a,""):a==="float"?r.cssFloat="":r[a]="":f?r.setProperty(a,c):typeof c!="number"||c===0||VD.has(a)?a==="float"?r.cssFloat=c:r[a]=(""+c).trim():r[a]=c+"px"}function s_(r,a,c){if(a!=null&&typeof a!="object")throw Error(s(62));if(r=r.style,c!=null){for(var f in c)!c.hasOwnProperty(f)||a!=null&&a.hasOwnProperty(f)||(f.indexOf("--")===0?r.setProperty(f,""):f==="float"?r.cssFloat="":r[f]="");for(var y in a)f=a[y],a.hasOwnProperty(y)&&c[y]!==f&&n_(r,y,f)}else for(var b in a)a.hasOwnProperty(b)&&n_(r,b,a[b])}function Fm(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $D=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),HD=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ef(r){return HD.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function pi(){}var zm=null;function Bm(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var sl=null,rl=null;function r_(r){var a=Ns(r);if(a&&(r=a.stateNode)){var c=r[Dt]||null;e:switch(r=a.stateNode,a.type){case"input":if(Lm(r,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),a=c.name,c.type==="radio"&&a!=null){for(c=r;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+Ks(""+a)+'"][type="radio"]'),a=0;a<c.length;a++){var f=c[a];if(f!==r&&f.form===r.form){var y=f[Dt]||null;if(!y)throw Error(s(90));Lm(f,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(a=0;a<c.length;a++)f=c[a],f.form===r.form&&Qc(f)}break e;case"textarea":e_(r,c.value,c.defaultValue);break e;case"select":a=c.value,a!=null&&tl(r,!!c.multiple,a,!1)}}}var Um=!1;function i_(r,a,c){if(Um)return r(a,c);Um=!0;try{var f=r(a);return f}finally{if(Um=!1,(sl!==null||rl!==null)&&(Vf(),sl&&(a=sl,r=rl,rl=sl=null,r_(a),r)))for(a=0;a<r.length;a++)r_(r[a])}}function Jc(r,a){var c=r.stateNode;if(c===null)return null;var f=c[Dt]||null;if(f===null)return null;c=f[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(r=r.type,f=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!f;break e;default:r=!1}if(r)return null;if(c&&typeof c!="function")throw Error(s(231,a,typeof c));return c}var mi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vm=!1;if(mi)try{var Zc={};Object.defineProperty(Zc,"passive",{get:function(){Vm=!0}}),window.addEventListener("test",Zc,Zc),window.removeEventListener("test",Zc,Zc)}catch{Vm=!1}var Wi=null,$m=null,tf=null;function a_(){if(tf)return tf;var r,a=$m,c=a.length,f,y="value"in Wi?Wi.value:Wi.textContent,b=y.length;for(r=0;r<c&&a[r]===y[r];r++);var E=c-r;for(f=1;f<=E&&a[c-f]===y[b-f];f++);return tf=y.slice(r,1<f?1-f:void 0)}function nf(r){var a=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&a===13&&(r=13)):r=a,r===10&&(r=13),32<=r||r===13?r:0}function sf(){return!0}function o_(){return!1}function ds(r){function a(c,f,y,b,E){this._reactName=c,this._targetInst=y,this.type=f,this.nativeEvent=b,this.target=E,this.currentTarget=null;for(var M in r)r.hasOwnProperty(M)&&(c=r[M],this[M]=c?c(b):b[M]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?sf:o_,this.isPropagationStopped=o_,this}return p(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=sf)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=sf)},persist:function(){},isPersistent:sf}),a}var Xa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rf=ds(Xa),eu=p({},Xa,{view:0,detail:0}),qD=ds(eu),Hm,qm,tu,af=p({},eu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gm,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==tu&&(tu&&r.type==="mousemove"?(Hm=r.screenX-tu.screenX,qm=r.screenY-tu.screenY):qm=Hm=0,tu=r),Hm)},movementY:function(r){return"movementY"in r?r.movementY:qm}}),l_=ds(af),KD=p({},af,{dataTransfer:0}),GD=ds(KD),YD=p({},eu,{relatedTarget:0}),Km=ds(YD),WD=p({},Xa,{animationName:0,elapsedTime:0,pseudoElement:0}),XD=ds(WD),QD=p({},Xa,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),JD=ds(QD),ZD=p({},Xa,{data:0}),c_=ds(ZD),eP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sP(r){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(r):(r=nP[r])?!!a[r]:!1}function Gm(){return sP}var rP=p({},eu,{key:function(r){if(r.key){var a=eP[r.key]||r.key;if(a!=="Unidentified")return a}return r.type==="keypress"?(r=nf(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?tP[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gm,charCode:function(r){return r.type==="keypress"?nf(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?nf(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),iP=ds(rP),aP=p({},af,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),u_=ds(aP),oP=p({},eu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gm}),lP=ds(oP),cP=p({},Xa,{propertyName:0,elapsedTime:0,pseudoElement:0}),uP=ds(cP),dP=p({},af,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),fP=ds(dP),hP=p({},Xa,{newState:0,oldState:0}),pP=ds(hP),mP=[9,13,27,32],Ym=mi&&"CompositionEvent"in window,nu=null;mi&&"documentMode"in document&&(nu=document.documentMode);var gP=mi&&"TextEvent"in window&&!nu,d_=mi&&(!Ym||nu&&8<nu&&11>=nu),f_=" ",h_=!1;function p_(r,a){switch(r){case"keyup":return mP.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function m_(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var il=!1;function vP(r,a){switch(r){case"compositionend":return m_(a);case"keypress":return a.which!==32?null:(h_=!0,f_);case"textInput":return r=a.data,r===f_&&h_?null:r;default:return null}}function yP(r,a){if(il)return r==="compositionend"||!Ym&&p_(r,a)?(r=a_(),tf=$m=Wi=null,il=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return d_&&a.locale!=="ko"?null:a.data;default:return null}}var bP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function g_(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a==="input"?!!bP[r.type]:a==="textarea"}function v_(r,a,c,f){sl?rl?rl.push(f):rl=[f]:sl=f,a=Wf(a,"onChange"),0<a.length&&(c=new rf("onChange","change",null,c,f),r.push({event:c,listeners:a}))}var su=null,ru=null;function xP(r){Z1(r,0)}function of(r){var a=As(r);if(Qc(a))return r}function y_(r,a){if(r==="change")return a}var b_=!1;if(mi){var Wm;if(mi){var Xm="oninput"in document;if(!Xm){var x_=document.createElement("div");x_.setAttribute("oninput","return;"),Xm=typeof x_.oninput=="function"}Wm=Xm}else Wm=!1;b_=Wm&&(!document.documentMode||9<document.documentMode)}function w_(){su&&(su.detachEvent("onpropertychange",__),ru=su=null)}function __(r){if(r.propertyName==="value"&&of(ru)){var a=[];v_(a,ru,r,Bm(r)),i_(xP,a)}}function wP(r,a,c){r==="focusin"?(w_(),su=a,ru=c,su.attachEvent("onpropertychange",__)):r==="focusout"&&w_()}function _P(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return of(ru)}function SP(r,a){if(r==="click")return of(a)}function CP(r,a){if(r==="input"||r==="change")return of(a)}function EP(r,a){return r===a&&(r!==0||1/r===1/a)||r!==r&&a!==a}var Rs=typeof Object.is=="function"?Object.is:EP;function iu(r,a){if(Rs(r,a))return!0;if(typeof r!="object"||r===null||typeof a!="object"||a===null)return!1;var c=Object.keys(r),f=Object.keys(a);if(c.length!==f.length)return!1;for(f=0;f<c.length;f++){var y=c[f];if(!yt.call(a,y)||!Rs(r[y],a[y]))return!1}return!0}function S_(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function C_(r,a){var c=S_(r);r=0;for(var f;c;){if(c.nodeType===3){if(f=r+c.textContent.length,r<=a&&f>=a)return{node:c,offset:a-r};r=f}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=S_(c)}}function E_(r,a){return r&&a?r===a?!0:r&&r.nodeType===3?!1:a&&a.nodeType===3?E_(r,a.parentNode):"contains"in r?r.contains(a):r.compareDocumentPosition?!!(r.compareDocumentPosition(a)&16):!1:!1}function T_(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var a=el(r.document);a instanceof r.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)r=a.contentWindow;else break;a=el(r.document)}return a}function Qm(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a&&(a==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||a==="textarea"||r.contentEditable==="true")}var TP=mi&&"documentMode"in document&&11>=document.documentMode,al=null,Jm=null,au=null,Zm=!1;function k_(r,a,c){var f=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Zm||al==null||al!==el(f)||(f=al,"selectionStart"in f&&Qm(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),au&&iu(au,f)||(au=f,f=Wf(Jm,"onSelect"),0<f.length&&(a=new rf("onSelect","select",null,a,c),r.push({event:a,listeners:f}),a.target=al)))}function Qa(r,a){var c={};return c[r.toLowerCase()]=a.toLowerCase(),c["Webkit"+r]="webkit"+a,c["Moz"+r]="moz"+a,c}var ol={animationend:Qa("Animation","AnimationEnd"),animationiteration:Qa("Animation","AnimationIteration"),animationstart:Qa("Animation","AnimationStart"),transitionrun:Qa("Transition","TransitionRun"),transitionstart:Qa("Transition","TransitionStart"),transitioncancel:Qa("Transition","TransitionCancel"),transitionend:Qa("Transition","TransitionEnd")},eg={},N_={};mi&&(N_=document.createElement("div").style,"AnimationEvent"in window||(delete ol.animationend.animation,delete ol.animationiteration.animation,delete ol.animationstart.animation),"TransitionEvent"in window||delete ol.transitionend.transition);function Ja(r){if(eg[r])return eg[r];if(!ol[r])return r;var a=ol[r],c;for(c in a)if(a.hasOwnProperty(c)&&c in N_)return eg[r]=a[c];return r}var A_=Ja("animationend"),R_=Ja("animationiteration"),j_=Ja("animationstart"),kP=Ja("transitionrun"),NP=Ja("transitionstart"),AP=Ja("transitioncancel"),M_=Ja("transitionend"),O_=new Map,tg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");tg.push("scrollEnd");function xr(r,a){O_.set(r,a),gn(a,[r])}var lf=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},Gs=[],ll=0,ng=0;function cf(){for(var r=ll,a=ng=ll=0;a<r;){var c=Gs[a];Gs[a++]=null;var f=Gs[a];Gs[a++]=null;var y=Gs[a];Gs[a++]=null;var b=Gs[a];if(Gs[a++]=null,f!==null&&y!==null){var E=f.pending;E===null?y.next=y:(y.next=E.next,E.next=y),f.pending=y}b!==0&&D_(c,y,b)}}function uf(r,a,c,f){Gs[ll++]=r,Gs[ll++]=a,Gs[ll++]=c,Gs[ll++]=f,ng|=f,r.lanes|=f,r=r.alternate,r!==null&&(r.lanes|=f)}function sg(r,a,c,f){return uf(r,a,c,f),df(r)}function Za(r,a){return uf(r,null,null,a),df(r)}function D_(r,a,c){r.lanes|=c;var f=r.alternate;f!==null&&(f.lanes|=c);for(var y=!1,b=r.return;b!==null;)b.childLanes|=c,f=b.alternate,f!==null&&(f.childLanes|=c),b.tag===22&&(r=b.stateNode,r===null||r._visibility&1||(y=!0)),r=b,b=b.return;return r.tag===3?(b=r.stateNode,y&&a!==null&&(y=31-Ft(c),r=b.hiddenUpdates,f=r[y],f===null?r[y]=[a]:f.push(a),a.lane=c|536870912),b):null}function df(r){if(50<Nu)throw Nu=0,fv=null,Error(s(185));for(var a=r.return;a!==null;)r=a,a=r.return;return r.tag===3?r.stateNode:null}var cl={};function RP(r,a,c,f){this.tag=r,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function js(r,a,c,f){return new RP(r,a,c,f)}function rg(r){return r=r.prototype,!(!r||!r.isReactComponent)}function gi(r,a){var c=r.alternate;return c===null?(c=js(r.tag,a,r.key,r.mode),c.elementType=r.elementType,c.type=r.type,c.stateNode=r.stateNode,c.alternate=r,r.alternate=c):(c.pendingProps=a,c.type=r.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=r.flags&65011712,c.childLanes=r.childLanes,c.lanes=r.lanes,c.child=r.child,c.memoizedProps=r.memoizedProps,c.memoizedState=r.memoizedState,c.updateQueue=r.updateQueue,a=r.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=r.sibling,c.index=r.index,c.ref=r.ref,c.refCleanup=r.refCleanup,c}function P_(r,a){r.flags&=65011714;var c=r.alternate;return c===null?(r.childLanes=0,r.lanes=a,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=c.childLanes,r.lanes=c.lanes,r.child=c.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=c.memoizedProps,r.memoizedState=c.memoizedState,r.updateQueue=c.updateQueue,r.type=c.type,a=c.dependencies,r.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),r}function ff(r,a,c,f,y,b){var E=0;if(f=r,typeof r=="function")rg(r)&&(E=1);else if(typeof r=="string")E=PL(r,c,ee.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case z:return r=js(31,c,a,y),r.elementType=z,r.lanes=b,r;case w:return eo(c.children,y,b,a);case C:E=8,y|=24;break;case T:return r=js(12,c,a,y|2),r.elementType=T,r.lanes=b,r;case O:return r=js(13,c,a,y),r.elementType=O,r.lanes=b,r;case P:return r=js(19,c,a,y),r.elementType=P,r.lanes=b,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case k:E=10;break e;case N:E=9;break e;case A:E=11;break e;case j:E=14;break e;case D:E=16,f=null;break e}E=29,c=Error(s(130,r===null?"null":typeof r,"")),f=null}return a=js(E,c,a,y),a.elementType=r,a.type=f,a.lanes=b,a}function eo(r,a,c,f){return r=js(7,r,f,a),r.lanes=c,r}function ig(r,a,c){return r=js(6,r,null,a),r.lanes=c,r}function L_(r){var a=js(18,null,null,0);return a.stateNode=r,a}function ag(r,a,c){return a=js(4,r.children!==null?r.children:[],r.key,a),a.lanes=c,a.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},a}var I_=new WeakMap;function Ys(r,a){if(typeof r=="object"&&r!==null){var c=I_.get(r);return c!==void 0?c:(a={value:r,source:a,stack:rn(a)},I_.set(r,a),a)}return{value:r,source:a,stack:rn(a)}}var ul=[],dl=0,hf=null,ou=0,Ws=[],Xs=0,Xi=null,Ir=1,Fr="";function vi(r,a){ul[dl++]=ou,ul[dl++]=hf,hf=r,ou=a}function F_(r,a,c){Ws[Xs++]=Ir,Ws[Xs++]=Fr,Ws[Xs++]=Xi,Xi=r;var f=Ir;r=Fr;var y=32-Ft(f)-1;f&=~(1<<y),c+=1;var b=32-Ft(a)+y;if(30<b){var E=y-y%5;b=(f&(1<<E)-1).toString(32),f>>=E,y-=E,Ir=1<<32-Ft(a)+y|c<<y|f,Fr=b+r}else Ir=1<<b|c<<y|f,Fr=r}function og(r){r.return!==null&&(vi(r,1),F_(r,1,0))}function lg(r){for(;r===hf;)hf=ul[--dl],ul[dl]=null,ou=ul[--dl],ul[dl]=null;for(;r===Xi;)Xi=Ws[--Xs],Ws[Xs]=null,Fr=Ws[--Xs],Ws[Xs]=null,Ir=Ws[--Xs],Ws[Xs]=null}function z_(r,a){Ws[Xs++]=Ir,Ws[Xs++]=Fr,Ws[Xs++]=Xi,Ir=a.id,Fr=a.overflow,Xi=r}var jn=null,jt=null,Ze=!1,Qi=null,Qs=!1,cg=Error(s(519));function Ji(r){var a=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw lu(Ys(a,r)),cg}function B_(r){var a=r.stateNode,c=r.type,f=r.memoizedProps;switch(a[Tt]=r,a[Dt]=f,c){case"dialog":Ye("cancel",a),Ye("close",a);break;case"iframe":case"object":case"embed":Ye("load",a);break;case"video":case"audio":for(c=0;c<Ru.length;c++)Ye(Ru[c],a);break;case"source":Ye("error",a);break;case"img":case"image":case"link":Ye("error",a),Ye("load",a);break;case"details":Ye("toggle",a);break;case"input":Ye("invalid",a),Zw(a,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0);break;case"select":Ye("invalid",a);break;case"textarea":Ye("invalid",a),t_(a,f.value,f.defaultValue,f.children)}c=f.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||a.textContent===""+c||f.suppressHydrationWarning===!0||sC(a.textContent,c)?(f.popover!=null&&(Ye("beforetoggle",a),Ye("toggle",a)),f.onScroll!=null&&Ye("scroll",a),f.onScrollEnd!=null&&Ye("scrollend",a),f.onClick!=null&&(a.onclick=pi),a=!0):a=!1,a||Ji(r,!0)}function U_(r){for(jn=r.return;jn;)switch(jn.tag){case 5:case 31:case 13:Qs=!1;return;case 27:case 3:Qs=!0;return;default:jn=jn.return}}function fl(r){if(r!==jn)return!1;if(!Ze)return U_(r),Ze=!0,!1;var a=r.tag,c;if((c=a!==3&&a!==27)&&((c=a===5)&&(c=r.type,c=!(c!=="form"&&c!=="button")||kv(r.type,r.memoizedProps)),c=!c),c&&jt&&Ji(r),U_(r),a===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));jt=fC(r)}else if(a===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));jt=fC(r)}else a===27?(a=jt,fa(r.type)?(r=Mv,Mv=null,jt=r):jt=a):jt=jn?Zs(r.stateNode.nextSibling):null;return!0}function to(){jt=jn=null,Ze=!1}function ug(){var r=Qi;return r!==null&&(ms===null?ms=r:ms.push.apply(ms,r),Qi=null),r}function lu(r){Qi===null?Qi=[r]:Qi.push(r)}var dg=L(null),no=null,yi=null;function Zi(r,a,c){Y(dg,a._currentValue),a._currentValue=c}function bi(r){r._currentValue=dg.current,$(dg)}function fg(r,a,c){for(;r!==null;){var f=r.alternate;if((r.childLanes&a)!==a?(r.childLanes|=a,f!==null&&(f.childLanes|=a)):f!==null&&(f.childLanes&a)!==a&&(f.childLanes|=a),r===c)break;r=r.return}}function hg(r,a,c,f){var y=r.child;for(y!==null&&(y.return=r);y!==null;){var b=y.dependencies;if(b!==null){var E=y.child;b=b.firstContext;e:for(;b!==null;){var M=b;b=y;for(var U=0;U<a.length;U++)if(M.context===a[U]){b.lanes|=c,M=b.alternate,M!==null&&(M.lanes|=c),fg(b.return,c,r),f||(E=null);break e}b=M.next}}else if(y.tag===18){if(E=y.return,E===null)throw Error(s(341));E.lanes|=c,b=E.alternate,b!==null&&(b.lanes|=c),fg(E,c,r),E=null}else E=y.child;if(E!==null)E.return=y;else for(E=y;E!==null;){if(E===r){E=null;break}if(y=E.sibling,y!==null){y.return=E.return,E=y;break}E=E.return}y=E}}function hl(r,a,c,f){r=null;for(var y=a,b=!1;y!==null;){if(!b){if((y.flags&524288)!==0)b=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var E=y.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var M=y.type;Rs(y.pendingProps.value,E.value)||(r!==null?r.push(M):r=[M])}}else if(y===ae.current){if(E=y.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(r!==null?r.push(Pu):r=[Pu])}y=y.return}r!==null&&hg(a,r,c,f),a.flags|=262144}function pf(r){for(r=r.firstContext;r!==null;){if(!Rs(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function so(r){no=r,yi=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Mn(r){return V_(no,r)}function mf(r,a){return no===null&&so(r),V_(r,a)}function V_(r,a){var c=a._currentValue;if(a={context:a,memoizedValue:c,next:null},yi===null){if(r===null)throw Error(s(308));yi=a,r.dependencies={lanes:0,firstContext:a},r.flags|=524288}else yi=yi.next=a;return c}var jP=typeof AbortController<"u"?AbortController:function(){var r=[],a=this.signal={aborted:!1,addEventListener:function(c,f){r.push(f)}};this.abort=function(){a.aborted=!0,r.forEach(function(c){return c()})}},MP=t.unstable_scheduleCallback,OP=t.unstable_NormalPriority,ln={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function pg(){return{controller:new jP,data:new Map,refCount:0}}function cu(r){r.refCount--,r.refCount===0&&MP(OP,function(){r.controller.abort()})}var uu=null,mg=0,pl=0,ml=null;function DP(r,a){if(uu===null){var c=uu=[];mg=0,pl=yv(),ml={status:"pending",value:void 0,then:function(f){c.push(f)}}}return mg++,a.then($_,$_),a}function $_(){if(--mg===0&&uu!==null){ml!==null&&(ml.status="fulfilled");var r=uu;uu=null,pl=0,ml=null;for(var a=0;a<r.length;a++)(0,r[a])()}}function PP(r,a){var c=[],f={status:"pending",value:null,reason:null,then:function(y){c.push(y)}};return r.then(function(){f.status="fulfilled",f.value=a;for(var y=0;y<c.length;y++)(0,c[y])(a)},function(y){for(f.status="rejected",f.reason=y,y=0;y<c.length;y++)(0,c[y])(void 0)}),f}var H_=R.S;R.S=function(r,a){k1=pt(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&DP(r,a),H_!==null&&H_(r,a)};var ro=L(null);function gg(){var r=ro.current;return r!==null?r:Nt.pooledCache}function gf(r,a){a===null?Y(ro,ro.current):Y(ro,a.pool)}function q_(){var r=gg();return r===null?null:{parent:ln._currentValue,pool:r}}var gl=Error(s(460)),vg=Error(s(474)),vf=Error(s(542)),yf={then:function(){}};function K_(r){return r=r.status,r==="fulfilled"||r==="rejected"}function G_(r,a,c){switch(c=r[c],c===void 0?r.push(a):c!==a&&(a.then(pi,pi),a=c),a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,W_(r),r;default:if(typeof a.status=="string")a.then(pi,pi);else{if(r=Nt,r!==null&&100<r.shellSuspendCounter)throw Error(s(482));r=a,r.status="pending",r.then(function(f){if(a.status==="pending"){var y=a;y.status="fulfilled",y.value=f}},function(f){if(a.status==="pending"){var y=a;y.status="rejected",y.reason=f}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,W_(r),r}throw ao=a,gl}}function io(r){try{var a=r._init;return a(r._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(ao=c,gl):c}}var ao=null;function Y_(){if(ao===null)throw Error(s(459));var r=ao;return ao=null,r}function W_(r){if(r===gl||r===vf)throw Error(s(483))}var vl=null,du=0;function bf(r){var a=du;return du+=1,vl===null&&(vl=[]),G_(vl,r,a)}function fu(r,a){a=a.props.ref,r.ref=a!==void 0?a:null}function xf(r,a){throw a.$$typeof===v?Error(s(525)):(r=Object.prototype.toString.call(a),Error(s(31,r==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":r)))}function X_(r){function a(G,q){if(r){var Q=G.deletions;Q===null?(G.deletions=[q],G.flags|=16):Q.push(q)}}function c(G,q){if(!r)return null;for(;q!==null;)a(G,q),q=q.sibling;return null}function f(G){for(var q=new Map;G!==null;)G.key!==null?q.set(G.key,G):q.set(G.index,G),G=G.sibling;return q}function y(G,q){return G=gi(G,q),G.index=0,G.sibling=null,G}function b(G,q,Q){return G.index=Q,r?(Q=G.alternate,Q!==null?(Q=Q.index,Q<q?(G.flags|=67108866,q):Q):(G.flags|=67108866,q)):(G.flags|=1048576,q)}function E(G){return r&&G.alternate===null&&(G.flags|=67108866),G}function M(G,q,Q,fe){return q===null||q.tag!==6?(q=ig(Q,G.mode,fe),q.return=G,q):(q=y(q,Q),q.return=G,q)}function U(G,q,Q,fe){var Ae=Q.type;return Ae===w?ue(G,q,Q.props.children,fe,Q.key):q!==null&&(q.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===D&&io(Ae)===q.type)?(q=y(q,Q.props),fu(q,Q),q.return=G,q):(q=ff(Q.type,Q.key,Q.props,null,G.mode,fe),fu(q,Q),q.return=G,q)}function Z(G,q,Q,fe){return q===null||q.tag!==4||q.stateNode.containerInfo!==Q.containerInfo||q.stateNode.implementation!==Q.implementation?(q=ag(Q,G.mode,fe),q.return=G,q):(q=y(q,Q.children||[]),q.return=G,q)}function ue(G,q,Q,fe,Ae){return q===null||q.tag!==7?(q=eo(Q,G.mode,fe,Ae),q.return=G,q):(q=y(q,Q),q.return=G,q)}function he(G,q,Q){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=ig(""+q,G.mode,Q),q.return=G,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case x:return Q=ff(q.type,q.key,q.props,null,G.mode,Q),fu(Q,q),Q.return=G,Q;case _:return q=ag(q,G.mode,Q),q.return=G,q;case D:return q=io(q),he(G,q,Q)}if(ie(q)||V(q))return q=eo(q,G.mode,Q,null),q.return=G,q;if(typeof q.then=="function")return he(G,bf(q),Q);if(q.$$typeof===k)return he(G,mf(G,q),Q);xf(G,q)}return null}function ne(G,q,Q,fe){var Ae=q!==null?q.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Ae!==null?null:M(G,q,""+Q,fe);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case x:return Q.key===Ae?U(G,q,Q,fe):null;case _:return Q.key===Ae?Z(G,q,Q,fe):null;case D:return Q=io(Q),ne(G,q,Q,fe)}if(ie(Q)||V(Q))return Ae!==null?null:ue(G,q,Q,fe,null);if(typeof Q.then=="function")return ne(G,q,bf(Q),fe);if(Q.$$typeof===k)return ne(G,q,mf(G,Q),fe);xf(G,Q)}return null}function oe(G,q,Q,fe,Ae){if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return G=G.get(Q)||null,M(q,G,""+fe,Ae);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case x:return G=G.get(fe.key===null?Q:fe.key)||null,U(q,G,fe,Ae);case _:return G=G.get(fe.key===null?Q:fe.key)||null,Z(q,G,fe,Ae);case D:return fe=io(fe),oe(G,q,Q,fe,Ae)}if(ie(fe)||V(fe))return G=G.get(Q)||null,ue(q,G,fe,Ae,null);if(typeof fe.then=="function")return oe(G,q,Q,bf(fe),Ae);if(fe.$$typeof===k)return oe(G,q,Q,mf(q,fe),Ae);xf(q,fe)}return null}function _e(G,q,Q,fe){for(var Ae=null,ot=null,Ne=q,$e=q=0,Je=null;Ne!==null&&$e<Q.length;$e++){Ne.index>$e?(Je=Ne,Ne=null):Je=Ne.sibling;var lt=ne(G,Ne,Q[$e],fe);if(lt===null){Ne===null&&(Ne=Je);break}r&&Ne&&lt.alternate===null&&a(G,Ne),q=b(lt,q,$e),ot===null?Ae=lt:ot.sibling=lt,ot=lt,Ne=Je}if($e===Q.length)return c(G,Ne),Ze&&vi(G,$e),Ae;if(Ne===null){for(;$e<Q.length;$e++)Ne=he(G,Q[$e],fe),Ne!==null&&(q=b(Ne,q,$e),ot===null?Ae=Ne:ot.sibling=Ne,ot=Ne);return Ze&&vi(G,$e),Ae}for(Ne=f(Ne);$e<Q.length;$e++)Je=oe(Ne,G,$e,Q[$e],fe),Je!==null&&(r&&Je.alternate!==null&&Ne.delete(Je.key===null?$e:Je.key),q=b(Je,q,$e),ot===null?Ae=Je:ot.sibling=Je,ot=Je);return r&&Ne.forEach(function(va){return a(G,va)}),Ze&&vi(G,$e),Ae}function Re(G,q,Q,fe){if(Q==null)throw Error(s(151));for(var Ae=null,ot=null,Ne=q,$e=q=0,Je=null,lt=Q.next();Ne!==null&&!lt.done;$e++,lt=Q.next()){Ne.index>$e?(Je=Ne,Ne=null):Je=Ne.sibling;var va=ne(G,Ne,lt.value,fe);if(va===null){Ne===null&&(Ne=Je);break}r&&Ne&&va.alternate===null&&a(G,Ne),q=b(va,q,$e),ot===null?Ae=va:ot.sibling=va,ot=va,Ne=Je}if(lt.done)return c(G,Ne),Ze&&vi(G,$e),Ae;if(Ne===null){for(;!lt.done;$e++,lt=Q.next())lt=he(G,lt.value,fe),lt!==null&&(q=b(lt,q,$e),ot===null?Ae=lt:ot.sibling=lt,ot=lt);return Ze&&vi(G,$e),Ae}for(Ne=f(Ne);!lt.done;$e++,lt=Q.next())lt=oe(Ne,G,$e,lt.value,fe),lt!==null&&(r&&lt.alternate!==null&&Ne.delete(lt.key===null?$e:lt.key),q=b(lt,q,$e),ot===null?Ae=lt:ot.sibling=lt,ot=lt);return r&&Ne.forEach(function(KL){return a(G,KL)}),Ze&&vi(G,$e),Ae}function _t(G,q,Q,fe){if(typeof Q=="object"&&Q!==null&&Q.type===w&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case x:e:{for(var Ae=Q.key;q!==null;){if(q.key===Ae){if(Ae=Q.type,Ae===w){if(q.tag===7){c(G,q.sibling),fe=y(q,Q.props.children),fe.return=G,G=fe;break e}}else if(q.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===D&&io(Ae)===q.type){c(G,q.sibling),fe=y(q,Q.props),fu(fe,Q),fe.return=G,G=fe;break e}c(G,q);break}else a(G,q);q=q.sibling}Q.type===w?(fe=eo(Q.props.children,G.mode,fe,Q.key),fe.return=G,G=fe):(fe=ff(Q.type,Q.key,Q.props,null,G.mode,fe),fu(fe,Q),fe.return=G,G=fe)}return E(G);case _:e:{for(Ae=Q.key;q!==null;){if(q.key===Ae)if(q.tag===4&&q.stateNode.containerInfo===Q.containerInfo&&q.stateNode.implementation===Q.implementation){c(G,q.sibling),fe=y(q,Q.children||[]),fe.return=G,G=fe;break e}else{c(G,q);break}else a(G,q);q=q.sibling}fe=ag(Q,G.mode,fe),fe.return=G,G=fe}return E(G);case D:return Q=io(Q),_t(G,q,Q,fe)}if(ie(Q))return _e(G,q,Q,fe);if(V(Q)){if(Ae=V(Q),typeof Ae!="function")throw Error(s(150));return Q=Ae.call(Q),Re(G,q,Q,fe)}if(typeof Q.then=="function")return _t(G,q,bf(Q),fe);if(Q.$$typeof===k)return _t(G,q,mf(G,Q),fe);xf(G,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,q!==null&&q.tag===6?(c(G,q.sibling),fe=y(q,Q),fe.return=G,G=fe):(c(G,q),fe=ig(Q,G.mode,fe),fe.return=G,G=fe),E(G)):c(G,q)}return function(G,q,Q,fe){try{du=0;var Ae=_t(G,q,Q,fe);return vl=null,Ae}catch(Ne){if(Ne===gl||Ne===vf)throw Ne;var ot=js(29,Ne,null,G.mode);return ot.lanes=fe,ot.return=G,ot}finally{}}}var oo=X_(!0),Q_=X_(!1),ea=!1;function yg(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function bg(r,a){r=r.updateQueue,a.updateQueue===r&&(a.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function ta(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function na(r,a,c){var f=r.updateQueue;if(f===null)return null;if(f=f.shared,(ut&2)!==0){var y=f.pending;return y===null?a.next=a:(a.next=y.next,y.next=a),f.pending=a,a=df(r),D_(r,null,c),a}return uf(r,f,a,c),df(r)}function hu(r,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194048)!==0)){var f=a.lanes;f&=r.pendingLanes,c|=f,a.lanes=c,Rt(r,c)}}function xg(r,a){var c=r.updateQueue,f=r.alternate;if(f!==null&&(f=f.updateQueue,c===f)){var y=null,b=null;if(c=c.firstBaseUpdate,c!==null){do{var E={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};b===null?y=b=E:b=b.next=E,c=c.next}while(c!==null);b===null?y=b=a:b=b.next=a}else y=b=a;c={baseState:f.baseState,firstBaseUpdate:y,lastBaseUpdate:b,shared:f.shared,callbacks:f.callbacks},r.updateQueue=c;return}r=c.lastBaseUpdate,r===null?c.firstBaseUpdate=a:r.next=a,c.lastBaseUpdate=a}var wg=!1;function pu(){if(wg){var r=ml;if(r!==null)throw r}}function mu(r,a,c,f){wg=!1;var y=r.updateQueue;ea=!1;var b=y.firstBaseUpdate,E=y.lastBaseUpdate,M=y.shared.pending;if(M!==null){y.shared.pending=null;var U=M,Z=U.next;U.next=null,E===null?b=Z:E.next=Z,E=U;var ue=r.alternate;ue!==null&&(ue=ue.updateQueue,M=ue.lastBaseUpdate,M!==E&&(M===null?ue.firstBaseUpdate=Z:M.next=Z,ue.lastBaseUpdate=U))}if(b!==null){var he=y.baseState;E=0,ue=Z=U=null,M=b;do{var ne=M.lane&-536870913,oe=ne!==M.lane;if(oe?(Qe&ne)===ne:(f&ne)===ne){ne!==0&&ne===pl&&(wg=!0),ue!==null&&(ue=ue.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});e:{var _e=r,Re=M;ne=a;var _t=c;switch(Re.tag){case 1:if(_e=Re.payload,typeof _e=="function"){he=_e.call(_t,he,ne);break e}he=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=Re.payload,ne=typeof _e=="function"?_e.call(_t,he,ne):_e,ne==null)break e;he=p({},he,ne);break e;case 2:ea=!0}}ne=M.callback,ne!==null&&(r.flags|=64,oe&&(r.flags|=8192),oe=y.callbacks,oe===null?y.callbacks=[ne]:oe.push(ne))}else oe={lane:ne,tag:M.tag,payload:M.payload,callback:M.callback,next:null},ue===null?(Z=ue=oe,U=he):ue=ue.next=oe,E|=ne;if(M=M.next,M===null){if(M=y.shared.pending,M===null)break;oe=M,M=oe.next,oe.next=null,y.lastBaseUpdate=oe,y.shared.pending=null}}while(!0);ue===null&&(U=he),y.baseState=U,y.firstBaseUpdate=Z,y.lastBaseUpdate=ue,b===null&&(y.shared.lanes=0),oa|=E,r.lanes=E,r.memoizedState=he}}function J_(r,a){if(typeof r!="function")throw Error(s(191,r));r.call(a)}function Z_(r,a){var c=r.callbacks;if(c!==null)for(r.callbacks=null,r=0;r<c.length;r++)J_(c[r],a)}var yl=L(null),wf=L(0);function eS(r,a){r=Ni,Y(wf,r),Y(yl,a),Ni=r|a.baseLanes}function _g(){Y(wf,Ni),Y(yl,yl.current)}function Sg(){Ni=wf.current,$(yl),$(wf)}var Ms=L(null),Js=null;function sa(r){var a=r.alternate;Y(en,en.current&1),Y(Ms,r),Js===null&&(a===null||yl.current!==null||a.memoizedState!==null)&&(Js=r)}function Cg(r){Y(en,en.current),Y(Ms,r),Js===null&&(Js=r)}function tS(r){r.tag===22?(Y(en,en.current),Y(Ms,r),Js===null&&(Js=r)):ra()}function ra(){Y(en,en.current),Y(Ms,Ms.current)}function Os(r){$(Ms),Js===r&&(Js=null),$(en)}var en=L(0);function _f(r){for(var a=r;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||Rv(c)||jv(c)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var xi=0,Ue=null,xt=null,cn=null,Sf=!1,bl=!1,lo=!1,Cf=0,gu=0,xl=null,LP=0;function qt(){throw Error(s(321))}function Eg(r,a){if(a===null)return!1;for(var c=0;c<a.length&&c<r.length;c++)if(!Rs(r[c],a[c]))return!1;return!0}function Tg(r,a,c,f,y,b){return xi=b,Ue=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,R.H=r===null||r.memoizedState===null?FS:Ug,lo=!1,b=c(f,y),lo=!1,bl&&(b=sS(a,c,f,y)),nS(r),b}function nS(r){R.H=bu;var a=xt!==null&&xt.next!==null;if(xi=0,cn=xt=Ue=null,Sf=!1,gu=0,xl=null,a)throw Error(s(300));r===null||un||(r=r.dependencies,r!==null&&pf(r)&&(un=!0))}function sS(r,a,c,f){Ue=r;var y=0;do{if(bl&&(xl=null),gu=0,bl=!1,25<=y)throw Error(s(301));if(y+=1,cn=xt=null,r.updateQueue!=null){var b=r.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}R.H=zS,b=a(c,f)}while(bl);return b}function IP(){var r=R.H,a=r.useState()[0];return a=typeof a.then=="function"?vu(a):a,r=r.useState()[0],(xt!==null?xt.memoizedState:null)!==r&&(Ue.flags|=1024),a}function kg(){var r=Cf!==0;return Cf=0,r}function Ng(r,a,c){a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~c}function Ag(r){if(Sf){for(r=r.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}Sf=!1}xi=0,cn=xt=Ue=null,bl=!1,gu=Cf=0,xl=null}function ts(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return cn===null?Ue.memoizedState=cn=r:cn=cn.next=r,cn}function tn(){if(xt===null){var r=Ue.alternate;r=r!==null?r.memoizedState:null}else r=xt.next;var a=cn===null?Ue.memoizedState:cn.next;if(a!==null)cn=a,xt=r;else{if(r===null)throw Ue.alternate===null?Error(s(467)):Error(s(310));xt=r,r={memoizedState:xt.memoizedState,baseState:xt.baseState,baseQueue:xt.baseQueue,queue:xt.queue,next:null},cn===null?Ue.memoizedState=cn=r:cn=cn.next=r}return cn}function Ef(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function vu(r){var a=gu;return gu+=1,xl===null&&(xl=[]),r=G_(xl,r,a),a=Ue,(cn===null?a.memoizedState:cn.next)===null&&(a=a.alternate,R.H=a===null||a.memoizedState===null?FS:Ug),r}function Tf(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return vu(r);if(r.$$typeof===k)return Mn(r)}throw Error(s(438,String(r)))}function Rg(r){var a=null,c=Ue.updateQueue;if(c!==null&&(a=c.memoCache),a==null){var f=Ue.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(a={data:f.data.map(function(y){return y.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),c===null&&(c=Ef(),Ue.updateQueue=c),c.memoCache=a,c=a.data[a.index],c===void 0)for(c=a.data[a.index]=Array(r),f=0;f<r;f++)c[f]=I;return a.index++,c}function wi(r,a){return typeof a=="function"?a(r):a}function kf(r){var a=tn();return jg(a,xt,r)}function jg(r,a,c){var f=r.queue;if(f===null)throw Error(s(311));f.lastRenderedReducer=c;var y=r.baseQueue,b=f.pending;if(b!==null){if(y!==null){var E=y.next;y.next=b.next,b.next=E}a.baseQueue=y=b,f.pending=null}if(b=r.baseState,y===null)r.memoizedState=b;else{a=y.next;var M=E=null,U=null,Z=a,ue=!1;do{var he=Z.lane&-536870913;if(he!==Z.lane?(Qe&he)===he:(xi&he)===he){var ne=Z.revertLane;if(ne===0)U!==null&&(U=U.next={lane:0,revertLane:0,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),he===pl&&(ue=!0);else if((xi&ne)===ne){Z=Z.next,ne===pl&&(ue=!0);continue}else he={lane:0,revertLane:Z.revertLane,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},U===null?(M=U=he,E=b):U=U.next=he,Ue.lanes|=ne,oa|=ne;he=Z.action,lo&&c(b,he),b=Z.hasEagerState?Z.eagerState:c(b,he)}else ne={lane:he,revertLane:Z.revertLane,gesture:Z.gesture,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},U===null?(M=U=ne,E=b):U=U.next=ne,Ue.lanes|=he,oa|=he;Z=Z.next}while(Z!==null&&Z!==a);if(U===null?E=b:U.next=M,!Rs(b,r.memoizedState)&&(un=!0,ue&&(c=ml,c!==null)))throw c;r.memoizedState=b,r.baseState=E,r.baseQueue=U,f.lastRenderedState=b}return y===null&&(f.lanes=0),[r.memoizedState,f.dispatch]}function Mg(r){var a=tn(),c=a.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=r;var f=c.dispatch,y=c.pending,b=a.memoizedState;if(y!==null){c.pending=null;var E=y=y.next;do b=r(b,E.action),E=E.next;while(E!==y);Rs(b,a.memoizedState)||(un=!0),a.memoizedState=b,a.baseQueue===null&&(a.baseState=b),c.lastRenderedState=b}return[b,f]}function rS(r,a,c){var f=Ue,y=tn(),b=Ze;if(b){if(c===void 0)throw Error(s(407));c=c()}else c=a();var E=!Rs((xt||y).memoizedState,c);if(E&&(y.memoizedState=c,un=!0),y=y.queue,Pg(oS.bind(null,f,y,r),[r]),y.getSnapshot!==a||E||cn!==null&&cn.memoizedState.tag&1){if(f.flags|=2048,wl(9,{destroy:void 0},aS.bind(null,f,y,c,a),null),Nt===null)throw Error(s(349));b||(xi&127)!==0||iS(f,a,c)}return c}function iS(r,a,c){r.flags|=16384,r={getSnapshot:a,value:c},a=Ue.updateQueue,a===null?(a=Ef(),Ue.updateQueue=a,a.stores=[r]):(c=a.stores,c===null?a.stores=[r]:c.push(r))}function aS(r,a,c,f){a.value=c,a.getSnapshot=f,lS(a)&&cS(r)}function oS(r,a,c){return c(function(){lS(a)&&cS(r)})}function lS(r){var a=r.getSnapshot;r=r.value;try{var c=a();return!Rs(r,c)}catch{return!0}}function cS(r){var a=Za(r,2);a!==null&&gs(a,r,2)}function Og(r){var a=ts();if(typeof r=="function"){var c=r;if(r=c(),lo){wn(!0);try{c()}finally{wn(!1)}}}return a.memoizedState=a.baseState=r,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:r},a}function uS(r,a,c,f){return r.baseState=c,jg(r,xt,typeof f=="function"?f:wi)}function FP(r,a,c,f,y){if(Rf(r))throw Error(s(485));if(r=a.action,r!==null){var b={payload:y,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){b.listeners.push(E)}};R.T!==null?c(!0):b.isTransition=!1,f(b),c=a.pending,c===null?(b.next=a.pending=b,dS(a,b)):(b.next=c.next,a.pending=c.next=b)}}function dS(r,a){var c=a.action,f=a.payload,y=r.state;if(a.isTransition){var b=R.T,E={};R.T=E;try{var M=c(y,f),U=R.S;U!==null&&U(E,M),fS(r,a,M)}catch(Z){Dg(r,a,Z)}finally{b!==null&&E.types!==null&&(b.types=E.types),R.T=b}}else try{b=c(y,f),fS(r,a,b)}catch(Z){Dg(r,a,Z)}}function fS(r,a,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(f){hS(r,a,f)},function(f){return Dg(r,a,f)}):hS(r,a,c)}function hS(r,a,c){a.status="fulfilled",a.value=c,pS(a),r.state=c,a=r.pending,a!==null&&(c=a.next,c===a?r.pending=null:(c=c.next,a.next=c,dS(r,c)))}function Dg(r,a,c){var f=r.pending;if(r.pending=null,f!==null){f=f.next;do a.status="rejected",a.reason=c,pS(a),a=a.next;while(a!==f)}r.action=null}function pS(r){r=r.listeners;for(var a=0;a<r.length;a++)(0,r[a])()}function mS(r,a){return a}function gS(r,a){if(Ze){var c=Nt.formState;if(c!==null){e:{var f=Ue;if(Ze){if(jt){t:{for(var y=jt,b=Qs;y.nodeType!==8;){if(!b){y=null;break t}if(y=Zs(y.nextSibling),y===null){y=null;break t}}b=y.data,y=b==="F!"||b==="F"?y:null}if(y){jt=Zs(y.nextSibling),f=y.data==="F!";break e}}Ji(f)}f=!1}f&&(a=c[0])}}return c=ts(),c.memoizedState=c.baseState=a,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mS,lastRenderedState:a},c.queue=f,c=PS.bind(null,Ue,f),f.dispatch=c,f=Og(!1),b=Bg.bind(null,Ue,!1,f.queue),f=ts(),y={state:a,dispatch:null,action:r,pending:null},f.queue=y,c=FP.bind(null,Ue,y,b,c),y.dispatch=c,f.memoizedState=r,[a,c,!1]}function vS(r){var a=tn();return yS(a,xt,r)}function yS(r,a,c){if(a=jg(r,a,mS)[0],r=kf(wi)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var f=vu(a)}catch(E){throw E===gl?vf:E}else f=a;a=tn();var y=a.queue,b=y.dispatch;return c!==a.memoizedState&&(Ue.flags|=2048,wl(9,{destroy:void 0},zP.bind(null,y,c),null)),[f,b,r]}function zP(r,a){r.action=a}function bS(r){var a=tn(),c=xt;if(c!==null)return yS(a,c,r);tn(),a=a.memoizedState,c=tn();var f=c.queue.dispatch;return c.memoizedState=r,[a,f,!1]}function wl(r,a,c,f){return r={tag:r,create:c,deps:f,inst:a,next:null},a=Ue.updateQueue,a===null&&(a=Ef(),Ue.updateQueue=a),c=a.lastEffect,c===null?a.lastEffect=r.next=r:(f=c.next,c.next=r,r.next=f,a.lastEffect=r),r}function xS(){return tn().memoizedState}function Nf(r,a,c,f){var y=ts();Ue.flags|=r,y.memoizedState=wl(1|a,{destroy:void 0},c,f===void 0?null:f)}function Af(r,a,c,f){var y=tn();f=f===void 0?null:f;var b=y.memoizedState.inst;xt!==null&&f!==null&&Eg(f,xt.memoizedState.deps)?y.memoizedState=wl(a,b,c,f):(Ue.flags|=r,y.memoizedState=wl(1|a,b,c,f))}function wS(r,a){Nf(8390656,8,r,a)}function Pg(r,a){Af(2048,8,r,a)}function BP(r){Ue.flags|=4;var a=Ue.updateQueue;if(a===null)a=Ef(),Ue.updateQueue=a,a.events=[r];else{var c=a.events;c===null?a.events=[r]:c.push(r)}}function _S(r){var a=tn().memoizedState;return BP({ref:a,nextImpl:r}),function(){if((ut&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}function SS(r,a){return Af(4,2,r,a)}function CS(r,a){return Af(4,4,r,a)}function ES(r,a){if(typeof a=="function"){r=r();var c=a(r);return function(){typeof c=="function"?c():a(null)}}if(a!=null)return r=r(),a.current=r,function(){a.current=null}}function TS(r,a,c){c=c!=null?c.concat([r]):null,Af(4,4,ES.bind(null,a,r),c)}function Lg(){}function kS(r,a){var c=tn();a=a===void 0?null:a;var f=c.memoizedState;return a!==null&&Eg(a,f[1])?f[0]:(c.memoizedState=[r,a],r)}function NS(r,a){var c=tn();a=a===void 0?null:a;var f=c.memoizedState;if(a!==null&&Eg(a,f[1]))return f[0];if(f=r(),lo){wn(!0);try{r()}finally{wn(!1)}}return c.memoizedState=[f,a],f}function Ig(r,a,c){return c===void 0||(xi&1073741824)!==0&&(Qe&261930)===0?r.memoizedState=a:(r.memoizedState=c,r=A1(),Ue.lanes|=r,oa|=r,c)}function AS(r,a,c,f){return Rs(c,a)?c:yl.current!==null?(r=Ig(r,c,f),Rs(r,a)||(un=!0),r):(xi&42)===0||(xi&1073741824)!==0&&(Qe&261930)===0?(un=!0,r.memoizedState=c):(r=A1(),Ue.lanes|=r,oa|=r,a)}function RS(r,a,c,f,y){var b=B.p;B.p=b!==0&&8>b?b:8;var E=R.T,M={};R.T=M,Bg(r,!1,a,c);try{var U=y(),Z=R.S;if(Z!==null&&Z(M,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var ue=PP(U,f);yu(r,a,ue,Ls(r))}else yu(r,a,f,Ls(r))}catch(he){yu(r,a,{then:function(){},status:"rejected",reason:he},Ls())}finally{B.p=b,E!==null&&M.types!==null&&(E.types=M.types),R.T=E}}function UP(){}function Fg(r,a,c,f){if(r.tag!==5)throw Error(s(476));var y=jS(r).queue;RS(r,y,a,F,c===null?UP:function(){return MS(r),c(f)})}function jS(r){var a=r.memoizedState;if(a!==null)return a;a={memoizedState:F,baseState:F,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:F},next:null};var c={};return a.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:c},next:null},r.memoizedState=a,r=r.alternate,r!==null&&(r.memoizedState=a),a}function MS(r){var a=jS(r);a.next===null&&(a=r.alternate.memoizedState),yu(r,a.next.queue,{},Ls())}function zg(){return Mn(Pu)}function OS(){return tn().memoizedState}function DS(){return tn().memoizedState}function VP(r){for(var a=r.return;a!==null;){switch(a.tag){case 24:case 3:var c=Ls();r=ta(c);var f=na(a,r,c);f!==null&&(gs(f,a,c),hu(f,a,c)),a={cache:pg()},r.payload=a;return}a=a.return}}function $P(r,a,c){var f=Ls();c={lane:f,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Rf(r)?LS(a,c):(c=sg(r,a,c,f),c!==null&&(gs(c,r,f),IS(c,a,f)))}function PS(r,a,c){var f=Ls();yu(r,a,c,f)}function yu(r,a,c,f){var y={lane:f,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(Rf(r))LS(a,y);else{var b=r.alternate;if(r.lanes===0&&(b===null||b.lanes===0)&&(b=a.lastRenderedReducer,b!==null))try{var E=a.lastRenderedState,M=b(E,c);if(y.hasEagerState=!0,y.eagerState=M,Rs(M,E))return uf(r,a,y,0),Nt===null&&cf(),!1}catch{}finally{}if(c=sg(r,a,y,f),c!==null)return gs(c,r,f),IS(c,a,f),!0}return!1}function Bg(r,a,c,f){if(f={lane:2,revertLane:yv(),gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},Rf(r)){if(a)throw Error(s(479))}else a=sg(r,c,f,2),a!==null&&gs(a,r,2)}function Rf(r){var a=r.alternate;return r===Ue||a!==null&&a===Ue}function LS(r,a){bl=Sf=!0;var c=r.pending;c===null?a.next=a:(a.next=c.next,c.next=a),r.pending=a}function IS(r,a,c){if((c&4194048)!==0){var f=a.lanes;f&=r.pendingLanes,c|=f,a.lanes=c,Rt(r,c)}}var bu={readContext:Mn,use:Tf,useCallback:qt,useContext:qt,useEffect:qt,useImperativeHandle:qt,useLayoutEffect:qt,useInsertionEffect:qt,useMemo:qt,useReducer:qt,useRef:qt,useState:qt,useDebugValue:qt,useDeferredValue:qt,useTransition:qt,useSyncExternalStore:qt,useId:qt,useHostTransitionStatus:qt,useFormState:qt,useActionState:qt,useOptimistic:qt,useMemoCache:qt,useCacheRefresh:qt};bu.useEffectEvent=qt;var FS={readContext:Mn,use:Tf,useCallback:function(r,a){return ts().memoizedState=[r,a===void 0?null:a],r},useContext:Mn,useEffect:wS,useImperativeHandle:function(r,a,c){c=c!=null?c.concat([r]):null,Nf(4194308,4,ES.bind(null,a,r),c)},useLayoutEffect:function(r,a){return Nf(4194308,4,r,a)},useInsertionEffect:function(r,a){Nf(4,2,r,a)},useMemo:function(r,a){var c=ts();a=a===void 0?null:a;var f=r();if(lo){wn(!0);try{r()}finally{wn(!1)}}return c.memoizedState=[f,a],f},useReducer:function(r,a,c){var f=ts();if(c!==void 0){var y=c(a);if(lo){wn(!0);try{c(a)}finally{wn(!1)}}}else y=a;return f.memoizedState=f.baseState=y,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:y},f.queue=r,r=r.dispatch=$P.bind(null,Ue,r),[f.memoizedState,r]},useRef:function(r){var a=ts();return r={current:r},a.memoizedState=r},useState:function(r){r=Og(r);var a=r.queue,c=PS.bind(null,Ue,a);return a.dispatch=c,[r.memoizedState,c]},useDebugValue:Lg,useDeferredValue:function(r,a){var c=ts();return Ig(c,r,a)},useTransition:function(){var r=Og(!1);return r=RS.bind(null,Ue,r.queue,!0,!1),ts().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,a,c){var f=Ue,y=ts();if(Ze){if(c===void 0)throw Error(s(407));c=c()}else{if(c=a(),Nt===null)throw Error(s(349));(Qe&127)!==0||iS(f,a,c)}y.memoizedState=c;var b={value:c,getSnapshot:a};return y.queue=b,wS(oS.bind(null,f,b,r),[r]),f.flags|=2048,wl(9,{destroy:void 0},aS.bind(null,f,b,c,a),null),c},useId:function(){var r=ts(),a=Nt.identifierPrefix;if(Ze){var c=Fr,f=Ir;c=(f&~(1<<32-Ft(f)-1)).toString(32)+c,a="_"+a+"R_"+c,c=Cf++,0<c&&(a+="H"+c.toString(32)),a+="_"}else c=LP++,a="_"+a+"r_"+c.toString(32)+"_";return r.memoizedState=a},useHostTransitionStatus:zg,useFormState:gS,useActionState:gS,useOptimistic:function(r){var a=ts();a.memoizedState=a.baseState=r;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=c,a=Bg.bind(null,Ue,!0,c),c.dispatch=a,[r,a]},useMemoCache:Rg,useCacheRefresh:function(){return ts().memoizedState=VP.bind(null,Ue)},useEffectEvent:function(r){var a=ts(),c={impl:r};return a.memoizedState=c,function(){if((ut&2)!==0)throw Error(s(440));return c.impl.apply(void 0,arguments)}}},Ug={readContext:Mn,use:Tf,useCallback:kS,useContext:Mn,useEffect:Pg,useImperativeHandle:TS,useInsertionEffect:SS,useLayoutEffect:CS,useMemo:NS,useReducer:kf,useRef:xS,useState:function(){return kf(wi)},useDebugValue:Lg,useDeferredValue:function(r,a){var c=tn();return AS(c,xt.memoizedState,r,a)},useTransition:function(){var r=kf(wi)[0],a=tn().memoizedState;return[typeof r=="boolean"?r:vu(r),a]},useSyncExternalStore:rS,useId:OS,useHostTransitionStatus:zg,useFormState:vS,useActionState:vS,useOptimistic:function(r,a){var c=tn();return uS(c,xt,r,a)},useMemoCache:Rg,useCacheRefresh:DS};Ug.useEffectEvent=_S;var zS={readContext:Mn,use:Tf,useCallback:kS,useContext:Mn,useEffect:Pg,useImperativeHandle:TS,useInsertionEffect:SS,useLayoutEffect:CS,useMemo:NS,useReducer:Mg,useRef:xS,useState:function(){return Mg(wi)},useDebugValue:Lg,useDeferredValue:function(r,a){var c=tn();return xt===null?Ig(c,r,a):AS(c,xt.memoizedState,r,a)},useTransition:function(){var r=Mg(wi)[0],a=tn().memoizedState;return[typeof r=="boolean"?r:vu(r),a]},useSyncExternalStore:rS,useId:OS,useHostTransitionStatus:zg,useFormState:bS,useActionState:bS,useOptimistic:function(r,a){var c=tn();return xt!==null?uS(c,xt,r,a):(c.baseState=r,[r,c.queue.dispatch])},useMemoCache:Rg,useCacheRefresh:DS};zS.useEffectEvent=_S;function Vg(r,a,c,f){a=r.memoizedState,c=c(f,a),c=c==null?a:p({},a,c),r.memoizedState=c,r.lanes===0&&(r.updateQueue.baseState=c)}var $g={enqueueSetState:function(r,a,c){r=r._reactInternals;var f=Ls(),y=ta(f);y.payload=a,c!=null&&(y.callback=c),a=na(r,y,f),a!==null&&(gs(a,r,f),hu(a,r,f))},enqueueReplaceState:function(r,a,c){r=r._reactInternals;var f=Ls(),y=ta(f);y.tag=1,y.payload=a,c!=null&&(y.callback=c),a=na(r,y,f),a!==null&&(gs(a,r,f),hu(a,r,f))},enqueueForceUpdate:function(r,a){r=r._reactInternals;var c=Ls(),f=ta(c);f.tag=2,a!=null&&(f.callback=a),a=na(r,f,c),a!==null&&(gs(a,r,c),hu(a,r,c))}};function BS(r,a,c,f,y,b,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(f,b,E):a.prototype&&a.prototype.isPureReactComponent?!iu(c,f)||!iu(y,b):!0}function US(r,a,c,f){r=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,f),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,f),a.state!==r&&$g.enqueueReplaceState(a,a.state,null)}function co(r,a){var c=a;if("ref"in a){c={};for(var f in a)f!=="ref"&&(c[f]=a[f])}if(r=r.defaultProps){c===a&&(c=p({},c));for(var y in r)c[y]===void 0&&(c[y]=r[y])}return c}function VS(r){lf(r)}function $S(r){console.error(r)}function HS(r){lf(r)}function jf(r,a){try{var c=r.onUncaughtError;c(a.value,{componentStack:a.stack})}catch(f){setTimeout(function(){throw f})}}function qS(r,a,c){try{var f=r.onCaughtError;f(c.value,{componentStack:c.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function Hg(r,a,c){return c=ta(c),c.tag=3,c.payload={element:null},c.callback=function(){jf(r,a)},c}function KS(r){return r=ta(r),r.tag=3,r}function GS(r,a,c,f){var y=c.type.getDerivedStateFromError;if(typeof y=="function"){var b=f.value;r.payload=function(){return y(b)},r.callback=function(){qS(a,c,f)}}var E=c.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(r.callback=function(){qS(a,c,f),typeof y!="function"&&(la===null?la=new Set([this]):la.add(this));var M=f.stack;this.componentDidCatch(f.value,{componentStack:M!==null?M:""})})}function HP(r,a,c,f,y){if(c.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(a=c.alternate,a!==null&&hl(a,c,y,!0),c=Ms.current,c!==null){switch(c.tag){case 31:case 13:return Js===null?$f():c.alternate===null&&Kt===0&&(Kt=3),c.flags&=-257,c.flags|=65536,c.lanes=y,f===yf?c.flags|=16384:(a=c.updateQueue,a===null?c.updateQueue=new Set([f]):a.add(f),mv(r,f,y)),!1;case 22:return c.flags|=65536,f===yf?c.flags|=16384:(a=c.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([f])},c.updateQueue=a):(c=a.retryQueue,c===null?a.retryQueue=new Set([f]):c.add(f)),mv(r,f,y)),!1}throw Error(s(435,c.tag))}return mv(r,f,y),$f(),!1}if(Ze)return a=Ms.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=y,f!==cg&&(r=Error(s(422),{cause:f}),lu(Ys(r,c)))):(f!==cg&&(a=Error(s(423),{cause:f}),lu(Ys(a,c))),r=r.current.alternate,r.flags|=65536,y&=-y,r.lanes|=y,f=Ys(f,c),y=Hg(r.stateNode,f,y),xg(r,y),Kt!==4&&(Kt=2)),!1;var b=Error(s(520),{cause:f});if(b=Ys(b,c),ku===null?ku=[b]:ku.push(b),Kt!==4&&(Kt=2),a===null)return!0;f=Ys(f,c),c=a;do{switch(c.tag){case 3:return c.flags|=65536,r=y&-y,c.lanes|=r,r=Hg(c.stateNode,f,r),xg(c,r),!1;case 1:if(a=c.type,b=c.stateNode,(c.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(la===null||!la.has(b))))return c.flags|=65536,y&=-y,c.lanes|=y,y=KS(y),GS(y,r,c,f),xg(c,y),!1}c=c.return}while(c!==null);return!1}var qg=Error(s(461)),un=!1;function On(r,a,c,f){a.child=r===null?Q_(a,null,c,f):oo(a,r.child,c,f)}function YS(r,a,c,f,y){c=c.render;var b=a.ref;if("ref"in f){var E={};for(var M in f)M!=="ref"&&(E[M]=f[M])}else E=f;return so(a),f=Tg(r,a,c,E,b,y),M=kg(),r!==null&&!un?(Ng(r,a,y),_i(r,a,y)):(Ze&&M&&og(a),a.flags|=1,On(r,a,f,y),a.child)}function WS(r,a,c,f,y){if(r===null){var b=c.type;return typeof b=="function"&&!rg(b)&&b.defaultProps===void 0&&c.compare===null?(a.tag=15,a.type=b,XS(r,a,b,f,y)):(r=ff(c.type,null,f,a,a.mode,y),r.ref=a.ref,r.return=a,a.child=r)}if(b=r.child,!Zg(r,y)){var E=b.memoizedProps;if(c=c.compare,c=c!==null?c:iu,c(E,f)&&r.ref===a.ref)return _i(r,a,y)}return a.flags|=1,r=gi(b,f),r.ref=a.ref,r.return=a,a.child=r}function XS(r,a,c,f,y){if(r!==null){var b=r.memoizedProps;if(iu(b,f)&&r.ref===a.ref)if(un=!1,a.pendingProps=f=b,Zg(r,y))(r.flags&131072)!==0&&(un=!0);else return a.lanes=r.lanes,_i(r,a,y)}return Kg(r,a,c,f,y)}function QS(r,a,c,f){var y=f.children,b=r!==null?r.memoizedState:null;if(r===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.mode==="hidden"){if((a.flags&128)!==0){if(b=b!==null?b.baseLanes|c:c,r!==null){for(f=a.child=r.child,y=0;f!==null;)y=y|f.lanes|f.childLanes,f=f.sibling;f=y&~b}else f=0,a.child=null;return JS(r,a,b,c,f)}if((c&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},r!==null&&gf(a,b!==null?b.cachePool:null),b!==null?eS(a,b):_g(),tS(a);else return f=a.lanes=536870912,JS(r,a,b!==null?b.baseLanes|c:c,c,f)}else b!==null?(gf(a,b.cachePool),eS(a,b),ra(),a.memoizedState=null):(r!==null&&gf(a,null),_g(),ra());return On(r,a,y,c),a.child}function xu(r,a){return r!==null&&r.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function JS(r,a,c,f,y){var b=gg();return b=b===null?null:{parent:ln._currentValue,pool:b},a.memoizedState={baseLanes:c,cachePool:b},r!==null&&gf(a,null),_g(),tS(a),r!==null&&hl(r,a,f,!0),a.childLanes=y,null}function Mf(r,a){return a=Df({mode:a.mode,children:a.children},r.mode),a.ref=r.ref,r.child=a,a.return=r,a}function ZS(r,a,c){return oo(a,r.child,null,c),r=Mf(a,a.pendingProps),r.flags|=2,Os(a),a.memoizedState=null,r}function qP(r,a,c){var f=a.pendingProps,y=(a.flags&128)!==0;if(a.flags&=-129,r===null){if(Ze){if(f.mode==="hidden")return r=Mf(a,f),a.lanes=536870912,xu(null,r);if(Cg(a),(r=jt)?(r=dC(r,Qs),r=r!==null&&r.data==="&"?r:null,r!==null&&(a.memoizedState={dehydrated:r,treeContext:Xi!==null?{id:Ir,overflow:Fr}:null,retryLane:536870912,hydrationErrors:null},c=L_(r),c.return=a,a.child=c,jn=a,jt=null)):r=null,r===null)throw Ji(a);return a.lanes=536870912,null}return Mf(a,f)}var b=r.memoizedState;if(b!==null){var E=b.dehydrated;if(Cg(a),y)if(a.flags&256)a.flags&=-257,a=ZS(r,a,c);else if(a.memoizedState!==null)a.child=r.child,a.flags|=128,a=null;else throw Error(s(558));else if(un||hl(r,a,c,!1),y=(c&r.childLanes)!==0,un||y){if(f=Nt,f!==null&&(E=Vt(f,c),E!==0&&E!==b.retryLane))throw b.retryLane=E,Za(r,E),gs(f,r,E),qg;$f(),a=ZS(r,a,c)}else r=b.treeContext,jt=Zs(E.nextSibling),jn=a,Ze=!0,Qi=null,Qs=!1,r!==null&&z_(a,r),a=Mf(a,f),a.flags|=4096;return a}return r=gi(r.child,{mode:f.mode,children:f.children}),r.ref=a.ref,a.child=r,r.return=a,r}function Of(r,a){var c=a.ref;if(c===null)r!==null&&r.ref!==null&&(a.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(s(284));(r===null||r.ref!==c)&&(a.flags|=4194816)}}function Kg(r,a,c,f,y){return so(a),c=Tg(r,a,c,f,void 0,y),f=kg(),r!==null&&!un?(Ng(r,a,y),_i(r,a,y)):(Ze&&f&&og(a),a.flags|=1,On(r,a,c,y),a.child)}function e1(r,a,c,f,y,b){return so(a),a.updateQueue=null,c=sS(a,f,c,y),nS(r),f=kg(),r!==null&&!un?(Ng(r,a,b),_i(r,a,b)):(Ze&&f&&og(a),a.flags|=1,On(r,a,c,b),a.child)}function t1(r,a,c,f,y){if(so(a),a.stateNode===null){var b=cl,E=c.contextType;typeof E=="object"&&E!==null&&(b=Mn(E)),b=new c(f,b),a.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=$g,a.stateNode=b,b._reactInternals=a,b=a.stateNode,b.props=f,b.state=a.memoizedState,b.refs={},yg(a),E=c.contextType,b.context=typeof E=="object"&&E!==null?Mn(E):cl,b.state=a.memoizedState,E=c.getDerivedStateFromProps,typeof E=="function"&&(Vg(a,c,E,f),b.state=a.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(E=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),E!==b.state&&$g.enqueueReplaceState(b,b.state,null),mu(a,f,b,y),pu(),b.state=a.memoizedState),typeof b.componentDidMount=="function"&&(a.flags|=4194308),f=!0}else if(r===null){b=a.stateNode;var M=a.memoizedProps,U=co(c,M);b.props=U;var Z=b.context,ue=c.contextType;E=cl,typeof ue=="object"&&ue!==null&&(E=Mn(ue));var he=c.getDerivedStateFromProps;ue=typeof he=="function"||typeof b.getSnapshotBeforeUpdate=="function",M=a.pendingProps!==M,ue||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(M||Z!==E)&&US(a,b,f,E),ea=!1;var ne=a.memoizedState;b.state=ne,mu(a,f,b,y),pu(),Z=a.memoizedState,M||ne!==Z||ea?(typeof he=="function"&&(Vg(a,c,he,f),Z=a.memoizedState),(U=ea||BS(a,c,U,f,ne,Z,E))?(ue||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(a.flags|=4194308)):(typeof b.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=f,a.memoizedState=Z),b.props=f,b.state=Z,b.context=E,f=U):(typeof b.componentDidMount=="function"&&(a.flags|=4194308),f=!1)}else{b=a.stateNode,bg(r,a),E=a.memoizedProps,ue=co(c,E),b.props=ue,he=a.pendingProps,ne=b.context,Z=c.contextType,U=cl,typeof Z=="object"&&Z!==null&&(U=Mn(Z)),M=c.getDerivedStateFromProps,(Z=typeof M=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(E!==he||ne!==U)&&US(a,b,f,U),ea=!1,ne=a.memoizedState,b.state=ne,mu(a,f,b,y),pu();var oe=a.memoizedState;E!==he||ne!==oe||ea||r!==null&&r.dependencies!==null&&pf(r.dependencies)?(typeof M=="function"&&(Vg(a,c,M,f),oe=a.memoizedState),(ue=ea||BS(a,c,ue,f,ne,oe,U)||r!==null&&r.dependencies!==null&&pf(r.dependencies))?(Z||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(f,oe,U),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(f,oe,U)),typeof b.componentDidUpdate=="function"&&(a.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof b.componentDidUpdate!="function"||E===r.memoizedProps&&ne===r.memoizedState||(a.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&ne===r.memoizedState||(a.flags|=1024),a.memoizedProps=f,a.memoizedState=oe),b.props=f,b.state=oe,b.context=U,f=ue):(typeof b.componentDidUpdate!="function"||E===r.memoizedProps&&ne===r.memoizedState||(a.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&ne===r.memoizedState||(a.flags|=1024),f=!1)}return b=f,Of(r,a),f=(a.flags&128)!==0,b||f?(b=a.stateNode,c=f&&typeof c.getDerivedStateFromError!="function"?null:b.render(),a.flags|=1,r!==null&&f?(a.child=oo(a,r.child,null,y),a.child=oo(a,null,c,y)):On(r,a,c,y),a.memoizedState=b.state,r=a.child):r=_i(r,a,y),r}function n1(r,a,c,f){return to(),a.flags|=256,On(r,a,c,f),a.child}var Gg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yg(r){return{baseLanes:r,cachePool:q_()}}function Wg(r,a,c){return r=r!==null?r.childLanes&~c:0,a&&(r|=Ps),r}function s1(r,a,c){var f=a.pendingProps,y=!1,b=(a.flags&128)!==0,E;if((E=b)||(E=r!==null&&r.memoizedState===null?!1:(en.current&2)!==0),E&&(y=!0,a.flags&=-129),E=(a.flags&32)!==0,a.flags&=-33,r===null){if(Ze){if(y?sa(a):ra(),(r=jt)?(r=dC(r,Qs),r=r!==null&&r.data!=="&"?r:null,r!==null&&(a.memoizedState={dehydrated:r,treeContext:Xi!==null?{id:Ir,overflow:Fr}:null,retryLane:536870912,hydrationErrors:null},c=L_(r),c.return=a,a.child=c,jn=a,jt=null)):r=null,r===null)throw Ji(a);return jv(r)?a.lanes=32:a.lanes=536870912,null}var M=f.children;return f=f.fallback,y?(ra(),y=a.mode,M=Df({mode:"hidden",children:M},y),f=eo(f,y,c,null),M.return=a,f.return=a,M.sibling=f,a.child=M,f=a.child,f.memoizedState=Yg(c),f.childLanes=Wg(r,E,c),a.memoizedState=Gg,xu(null,f)):(sa(a),Xg(a,M))}var U=r.memoizedState;if(U!==null&&(M=U.dehydrated,M!==null)){if(b)a.flags&256?(sa(a),a.flags&=-257,a=Qg(r,a,c)):a.memoizedState!==null?(ra(),a.child=r.child,a.flags|=128,a=null):(ra(),M=f.fallback,y=a.mode,f=Df({mode:"visible",children:f.children},y),M=eo(M,y,c,null),M.flags|=2,f.return=a,M.return=a,f.sibling=M,a.child=f,oo(a,r.child,null,c),f=a.child,f.memoizedState=Yg(c),f.childLanes=Wg(r,E,c),a.memoizedState=Gg,a=xu(null,f));else if(sa(a),jv(M)){if(E=M.nextSibling&&M.nextSibling.dataset,E)var Z=E.dgst;E=Z,f=Error(s(419)),f.stack="",f.digest=E,lu({value:f,source:null,stack:null}),a=Qg(r,a,c)}else if(un||hl(r,a,c,!1),E=(c&r.childLanes)!==0,un||E){if(E=Nt,E!==null&&(f=Vt(E,c),f!==0&&f!==U.retryLane))throw U.retryLane=f,Za(r,f),gs(E,r,f),qg;Rv(M)||$f(),a=Qg(r,a,c)}else Rv(M)?(a.flags|=192,a.child=r.child,a=null):(r=U.treeContext,jt=Zs(M.nextSibling),jn=a,Ze=!0,Qi=null,Qs=!1,r!==null&&z_(a,r),a=Xg(a,f.children),a.flags|=4096);return a}return y?(ra(),M=f.fallback,y=a.mode,U=r.child,Z=U.sibling,f=gi(U,{mode:"hidden",children:f.children}),f.subtreeFlags=U.subtreeFlags&65011712,Z!==null?M=gi(Z,M):(M=eo(M,y,c,null),M.flags|=2),M.return=a,f.return=a,f.sibling=M,a.child=f,xu(null,f),f=a.child,M=r.child.memoizedState,M===null?M=Yg(c):(y=M.cachePool,y!==null?(U=ln._currentValue,y=y.parent!==U?{parent:U,pool:U}:y):y=q_(),M={baseLanes:M.baseLanes|c,cachePool:y}),f.memoizedState=M,f.childLanes=Wg(r,E,c),a.memoizedState=Gg,xu(r.child,f)):(sa(a),c=r.child,r=c.sibling,c=gi(c,{mode:"visible",children:f.children}),c.return=a,c.sibling=null,r!==null&&(E=a.deletions,E===null?(a.deletions=[r],a.flags|=16):E.push(r)),a.child=c,a.memoizedState=null,c)}function Xg(r,a){return a=Df({mode:"visible",children:a},r.mode),a.return=r,r.child=a}function Df(r,a){return r=js(22,r,null,a),r.lanes=0,r}function Qg(r,a,c){return oo(a,r.child,null,c),r=Xg(a,a.pendingProps.children),r.flags|=2,a.memoizedState=null,r}function r1(r,a,c){r.lanes|=a;var f=r.alternate;f!==null&&(f.lanes|=a),fg(r.return,a,c)}function Jg(r,a,c,f,y,b){var E=r.memoizedState;E===null?r.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:f,tail:c,tailMode:y,treeForkCount:b}:(E.isBackwards=a,E.rendering=null,E.renderingStartTime=0,E.last=f,E.tail=c,E.tailMode=y,E.treeForkCount=b)}function i1(r,a,c){var f=a.pendingProps,y=f.revealOrder,b=f.tail;f=f.children;var E=en.current,M=(E&2)!==0;if(M?(E=E&1|2,a.flags|=128):E&=1,Y(en,E),On(r,a,f,c),f=Ze?ou:0,!M&&r!==null&&(r.flags&128)!==0)e:for(r=a.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&r1(r,c,a);else if(r.tag===19)r1(r,c,a);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break e;for(;r.sibling===null;){if(r.return===null||r.return===a)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(y){case"forwards":for(c=a.child,y=null;c!==null;)r=c.alternate,r!==null&&_f(r)===null&&(y=c),c=c.sibling;c=y,c===null?(y=a.child,a.child=null):(y=c.sibling,c.sibling=null),Jg(a,!1,y,c,b,f);break;case"backwards":case"unstable_legacy-backwards":for(c=null,y=a.child,a.child=null;y!==null;){if(r=y.alternate,r!==null&&_f(r)===null){a.child=y;break}r=y.sibling,y.sibling=c,c=y,y=r}Jg(a,!0,c,null,b,f);break;case"together":Jg(a,!1,null,null,void 0,f);break;default:a.memoizedState=null}return a.child}function _i(r,a,c){if(r!==null&&(a.dependencies=r.dependencies),oa|=a.lanes,(c&a.childLanes)===0)if(r!==null){if(hl(r,a,c,!1),(c&a.childLanes)===0)return null}else return null;if(r!==null&&a.child!==r.child)throw Error(s(153));if(a.child!==null){for(r=a.child,c=gi(r,r.pendingProps),a.child=c,c.return=a;r.sibling!==null;)r=r.sibling,c=c.sibling=gi(r,r.pendingProps),c.return=a;c.sibling=null}return a.child}function Zg(r,a){return(r.lanes&a)!==0?!0:(r=r.dependencies,!!(r!==null&&pf(r)))}function KP(r,a,c){switch(a.tag){case 3:me(a,a.stateNode.containerInfo),Zi(a,ln,r.memoizedState.cache),to();break;case 27:case 5:pe(a);break;case 4:me(a,a.stateNode.containerInfo);break;case 10:Zi(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,Cg(a),null;break;case 13:var f=a.memoizedState;if(f!==null)return f.dehydrated!==null?(sa(a),a.flags|=128,null):(c&a.child.childLanes)!==0?s1(r,a,c):(sa(a),r=_i(r,a,c),r!==null?r.sibling:null);sa(a);break;case 19:var y=(r.flags&128)!==0;if(f=(c&a.childLanes)!==0,f||(hl(r,a,c,!1),f=(c&a.childLanes)!==0),y){if(f)return i1(r,a,c);a.flags|=128}if(y=a.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),Y(en,en.current),f)break;return null;case 22:return a.lanes=0,QS(r,a,c,a.pendingProps);case 24:Zi(a,ln,r.memoizedState.cache)}return _i(r,a,c)}function a1(r,a,c){if(r!==null)if(r.memoizedProps!==a.pendingProps)un=!0;else{if(!Zg(r,c)&&(a.flags&128)===0)return un=!1,KP(r,a,c);un=(r.flags&131072)!==0}else un=!1,Ze&&(a.flags&1048576)!==0&&F_(a,ou,a.index);switch(a.lanes=0,a.tag){case 16:e:{var f=a.pendingProps;if(r=io(a.elementType),a.type=r,typeof r=="function")rg(r)?(f=co(r,f),a.tag=1,a=t1(null,a,r,f,c)):(a.tag=0,a=Kg(null,a,r,f,c));else{if(r!=null){var y=r.$$typeof;if(y===A){a.tag=11,a=YS(null,a,r,f,c);break e}else if(y===j){a.tag=14,a=WS(null,a,r,f,c);break e}}throw a=J(r)||r,Error(s(306,a,""))}}return a;case 0:return Kg(r,a,a.type,a.pendingProps,c);case 1:return f=a.type,y=co(f,a.pendingProps),t1(r,a,f,y,c);case 3:e:{if(me(a,a.stateNode.containerInfo),r===null)throw Error(s(387));f=a.pendingProps;var b=a.memoizedState;y=b.element,bg(r,a),mu(a,f,null,c);var E=a.memoizedState;if(f=E.cache,Zi(a,ln,f),f!==b.cache&&hg(a,[ln],c,!0),pu(),f=E.element,b.isDehydrated)if(b={element:f,isDehydrated:!1,cache:E.cache},a.updateQueue.baseState=b,a.memoizedState=b,a.flags&256){a=n1(r,a,f,c);break e}else if(f!==y){y=Ys(Error(s(424)),a),lu(y),a=n1(r,a,f,c);break e}else{switch(r=a.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(jt=Zs(r.firstChild),jn=a,Ze=!0,Qi=null,Qs=!0,c=Q_(a,null,f,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(to(),f===y){a=_i(r,a,c);break e}On(r,a,f,c)}a=a.child}return a;case 26:return Of(r,a),r===null?(c=vC(a.type,null,a.pendingProps,null))?a.memoizedState=c:Ze||(c=a.type,r=a.pendingProps,f=Xf(ce.current).createElement(c),f[Tt]=a,f[Dt]=r,Dn(f,c,r),kt(f),a.stateNode=f):a.memoizedState=vC(a.type,r.memoizedProps,a.pendingProps,r.memoizedState),null;case 27:return pe(a),r===null&&Ze&&(f=a.stateNode=pC(a.type,a.pendingProps,ce.current),jn=a,Qs=!0,y=jt,fa(a.type)?(Mv=y,jt=Zs(f.firstChild)):jt=y),On(r,a,a.pendingProps.children,c),Of(r,a),r===null&&(a.flags|=4194304),a.child;case 5:return r===null&&Ze&&((y=f=jt)&&(f=_L(f,a.type,a.pendingProps,Qs),f!==null?(a.stateNode=f,jn=a,jt=Zs(f.firstChild),Qs=!1,y=!0):y=!1),y||Ji(a)),pe(a),y=a.type,b=a.pendingProps,E=r!==null?r.memoizedProps:null,f=b.children,kv(y,b)?f=null:E!==null&&kv(y,E)&&(a.flags|=32),a.memoizedState!==null&&(y=Tg(r,a,IP,null,null,c),Pu._currentValue=y),Of(r,a),On(r,a,f,c),a.child;case 6:return r===null&&Ze&&((r=c=jt)&&(c=SL(c,a.pendingProps,Qs),c!==null?(a.stateNode=c,jn=a,jt=null,r=!0):r=!1),r||Ji(a)),null;case 13:return s1(r,a,c);case 4:return me(a,a.stateNode.containerInfo),f=a.pendingProps,r===null?a.child=oo(a,null,f,c):On(r,a,f,c),a.child;case 11:return YS(r,a,a.type,a.pendingProps,c);case 7:return On(r,a,a.pendingProps,c),a.child;case 8:return On(r,a,a.pendingProps.children,c),a.child;case 12:return On(r,a,a.pendingProps.children,c),a.child;case 10:return f=a.pendingProps,Zi(a,a.type,f.value),On(r,a,f.children,c),a.child;case 9:return y=a.type._context,f=a.pendingProps.children,so(a),y=Mn(y),f=f(y),a.flags|=1,On(r,a,f,c),a.child;case 14:return WS(r,a,a.type,a.pendingProps,c);case 15:return XS(r,a,a.type,a.pendingProps,c);case 19:return i1(r,a,c);case 31:return qP(r,a,c);case 22:return QS(r,a,c,a.pendingProps);case 24:return so(a),f=Mn(ln),r===null?(y=gg(),y===null&&(y=Nt,b=pg(),y.pooledCache=b,b.refCount++,b!==null&&(y.pooledCacheLanes|=c),y=b),a.memoizedState={parent:f,cache:y},yg(a),Zi(a,ln,y)):((r.lanes&c)!==0&&(bg(r,a),mu(a,null,null,c),pu()),y=r.memoizedState,b=a.memoizedState,y.parent!==f?(y={parent:f,cache:f},a.memoizedState=y,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=y),Zi(a,ln,f)):(f=b.cache,Zi(a,ln,f),f!==y.cache&&hg(a,[ln],c,!0))),On(r,a,a.pendingProps.children,c),a.child;case 29:throw a.pendingProps}throw Error(s(156,a.tag))}function Si(r){r.flags|=4}function ev(r,a,c,f,y){if((a=(r.mode&32)!==0)&&(a=!1),a){if(r.flags|=16777216,(y&335544128)===y)if(r.stateNode.complete)r.flags|=8192;else if(O1())r.flags|=8192;else throw ao=yf,vg}else r.flags&=-16777217}function o1(r,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!_C(a))if(O1())r.flags|=8192;else throw ao=yf,vg}function Pf(r,a){a!==null&&(r.flags|=4),r.flags&16384&&(a=r.tag!==22?At():536870912,r.lanes|=a,El|=a)}function wu(r,a){if(!Ze)switch(r.tailMode){case"hidden":a=r.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?r.tail=null:c.sibling=null;break;case"collapsed":c=r.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?a||r.tail===null?r.tail=null:r.tail.sibling=null:f.sibling=null}}function Mt(r){var a=r.alternate!==null&&r.alternate.child===r.child,c=0,f=0;if(a)for(var y=r.child;y!==null;)c|=y.lanes|y.childLanes,f|=y.subtreeFlags&65011712,f|=y.flags&65011712,y.return=r,y=y.sibling;else for(y=r.child;y!==null;)c|=y.lanes|y.childLanes,f|=y.subtreeFlags,f|=y.flags,y.return=r,y=y.sibling;return r.subtreeFlags|=f,r.childLanes=c,a}function GP(r,a,c){var f=a.pendingProps;switch(lg(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mt(a),null;case 1:return Mt(a),null;case 3:return c=a.stateNode,f=null,r!==null&&(f=r.memoizedState.cache),a.memoizedState.cache!==f&&(a.flags|=2048),bi(ln),ge(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(r===null||r.child===null)&&(fl(a)?Si(a):r===null||r.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,ug())),Mt(a),null;case 26:var y=a.type,b=a.memoizedState;return r===null?(Si(a),b!==null?(Mt(a),o1(a,b)):(Mt(a),ev(a,y,null,f,c))):b?b!==r.memoizedState?(Si(a),Mt(a),o1(a,b)):(Mt(a),a.flags&=-16777217):(r=r.memoizedProps,r!==f&&Si(a),Mt(a),ev(a,y,r,f,c)),null;case 27:if(Ce(a),c=ce.current,y=a.type,r!==null&&a.stateNode!=null)r.memoizedProps!==f&&Si(a);else{if(!f){if(a.stateNode===null)throw Error(s(166));return Mt(a),null}r=ee.current,fl(a)?B_(a):(r=pC(y,f,c),a.stateNode=r,Si(a))}return Mt(a),null;case 5:if(Ce(a),y=a.type,r!==null&&a.stateNode!=null)r.memoizedProps!==f&&Si(a);else{if(!f){if(a.stateNode===null)throw Error(s(166));return Mt(a),null}if(b=ee.current,fl(a))B_(a);else{var E=Xf(ce.current);switch(b){case 1:b=E.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:b=E.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":b=E.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":b=E.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":b=E.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof f.is=="string"?E.createElement("select",{is:f.is}):E.createElement("select"),f.multiple?b.multiple=!0:f.size&&(b.size=f.size);break;default:b=typeof f.is=="string"?E.createElement(y,{is:f.is}):E.createElement(y)}}b[Tt]=a,b[Dt]=f;e:for(E=a.child;E!==null;){if(E.tag===5||E.tag===6)b.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===a)break e;for(;E.sibling===null;){if(E.return===null||E.return===a)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}a.stateNode=b;e:switch(Dn(b,y,f),y){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}f&&Si(a)}}return Mt(a),ev(a,a.type,r===null?null:r.memoizedProps,a.pendingProps,c),null;case 6:if(r&&a.stateNode!=null)r.memoizedProps!==f&&Si(a);else{if(typeof f!="string"&&a.stateNode===null)throw Error(s(166));if(r=ce.current,fl(a)){if(r=a.stateNode,c=a.memoizedProps,f=null,y=jn,y!==null)switch(y.tag){case 27:case 5:f=y.memoizedProps}r[Tt]=a,r=!!(r.nodeValue===c||f!==null&&f.suppressHydrationWarning===!0||sC(r.nodeValue,c)),r||Ji(a,!0)}else r=Xf(r).createTextNode(f),r[Tt]=a,a.stateNode=r}return Mt(a),null;case 31:if(c=a.memoizedState,r===null||r.memoizedState!==null){if(f=fl(a),c!==null){if(r===null){if(!f)throw Error(s(318));if(r=a.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(557));r[Tt]=a}else to(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Mt(a),r=!1}else c=ug(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=c),r=!0;if(!r)return a.flags&256?(Os(a),a):(Os(a),null);if((a.flags&128)!==0)throw Error(s(558))}return Mt(a),null;case 13:if(f=a.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(y=fl(a),f!==null&&f.dehydrated!==null){if(r===null){if(!y)throw Error(s(318));if(y=a.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(s(317));y[Tt]=a}else to(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Mt(a),y=!1}else y=ug(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=y),y=!0;if(!y)return a.flags&256?(Os(a),a):(Os(a),null)}return Os(a),(a.flags&128)!==0?(a.lanes=c,a):(c=f!==null,r=r!==null&&r.memoizedState!==null,c&&(f=a.child,y=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(y=f.alternate.memoizedState.cachePool.pool),b=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(b=f.memoizedState.cachePool.pool),b!==y&&(f.flags|=2048)),c!==r&&c&&(a.child.flags|=8192),Pf(a,a.updateQueue),Mt(a),null);case 4:return ge(),r===null&&_v(a.stateNode.containerInfo),Mt(a),null;case 10:return bi(a.type),Mt(a),null;case 19:if($(en),f=a.memoizedState,f===null)return Mt(a),null;if(y=(a.flags&128)!==0,b=f.rendering,b===null)if(y)wu(f,!1);else{if(Kt!==0||r!==null&&(r.flags&128)!==0)for(r=a.child;r!==null;){if(b=_f(r),b!==null){for(a.flags|=128,wu(f,!1),r=b.updateQueue,a.updateQueue=r,Pf(a,r),a.subtreeFlags=0,r=c,c=a.child;c!==null;)P_(c,r),c=c.sibling;return Y(en,en.current&1|2),Ze&&vi(a,f.treeForkCount),a.child}r=r.sibling}f.tail!==null&&pt()>Bf&&(a.flags|=128,y=!0,wu(f,!1),a.lanes=4194304)}else{if(!y)if(r=_f(b),r!==null){if(a.flags|=128,y=!0,r=r.updateQueue,a.updateQueue=r,Pf(a,r),wu(f,!0),f.tail===null&&f.tailMode==="hidden"&&!b.alternate&&!Ze)return Mt(a),null}else 2*pt()-f.renderingStartTime>Bf&&c!==536870912&&(a.flags|=128,y=!0,wu(f,!1),a.lanes=4194304);f.isBackwards?(b.sibling=a.child,a.child=b):(r=f.last,r!==null?r.sibling=b:a.child=b,f.last=b)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=pt(),r.sibling=null,c=en.current,Y(en,y?c&1|2:c&1),Ze&&vi(a,f.treeForkCount),r):(Mt(a),null);case 22:case 23:return Os(a),Sg(),f=a.memoizedState!==null,r!==null?r.memoizedState!==null!==f&&(a.flags|=8192):f&&(a.flags|=8192),f?(c&536870912)!==0&&(a.flags&128)===0&&(Mt(a),a.subtreeFlags&6&&(a.flags|=8192)):Mt(a),c=a.updateQueue,c!==null&&Pf(a,c.retryQueue),c=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),f=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(f=a.memoizedState.cachePool.pool),f!==c&&(a.flags|=2048),r!==null&&$(ro),null;case 24:return c=null,r!==null&&(c=r.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),bi(ln),Mt(a),null;case 25:return null;case 30:return null}throw Error(s(156,a.tag))}function YP(r,a){switch(lg(a),a.tag){case 1:return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 3:return bi(ln),ge(),r=a.flags,(r&65536)!==0&&(r&128)===0?(a.flags=r&-65537|128,a):null;case 26:case 27:case 5:return Ce(a),null;case 31:if(a.memoizedState!==null){if(Os(a),a.alternate===null)throw Error(s(340));to()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 13:if(Os(a),r=a.memoizedState,r!==null&&r.dehydrated!==null){if(a.alternate===null)throw Error(s(340));to()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 19:return $(en),null;case 4:return ge(),null;case 10:return bi(a.type),null;case 22:case 23:return Os(a),Sg(),r!==null&&$(ro),r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 24:return bi(ln),null;case 25:return null;default:return null}}function l1(r,a){switch(lg(a),a.tag){case 3:bi(ln),ge();break;case 26:case 27:case 5:Ce(a);break;case 4:ge();break;case 31:a.memoizedState!==null&&Os(a);break;case 13:Os(a);break;case 19:$(en);break;case 10:bi(a.type);break;case 22:case 23:Os(a),Sg(),r!==null&&$(ro);break;case 24:bi(ln)}}function _u(r,a){try{var c=a.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var y=f.next;c=y;do{if((c.tag&r)===r){f=void 0;var b=c.create,E=c.inst;f=b(),E.destroy=f}c=c.next}while(c!==y)}}catch(M){gt(a,a.return,M)}}function ia(r,a,c){try{var f=a.updateQueue,y=f!==null?f.lastEffect:null;if(y!==null){var b=y.next;f=b;do{if((f.tag&r)===r){var E=f.inst,M=E.destroy;if(M!==void 0){E.destroy=void 0,y=a;var U=c,Z=M;try{Z()}catch(ue){gt(y,U,ue)}}}f=f.next}while(f!==b)}}catch(ue){gt(a,a.return,ue)}}function c1(r){var a=r.updateQueue;if(a!==null){var c=r.stateNode;try{Z_(a,c)}catch(f){gt(r,r.return,f)}}}function u1(r,a,c){c.props=co(r.type,r.memoizedProps),c.state=r.memoizedState;try{c.componentWillUnmount()}catch(f){gt(r,a,f)}}function Su(r,a){try{var c=r.ref;if(c!==null){switch(r.tag){case 26:case 27:case 5:var f=r.stateNode;break;case 30:f=r.stateNode;break;default:f=r.stateNode}typeof c=="function"?r.refCleanup=c(f):c.current=f}}catch(y){gt(r,a,y)}}function zr(r,a){var c=r.ref,f=r.refCleanup;if(c!==null)if(typeof f=="function")try{f()}catch(y){gt(r,a,y)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(y){gt(r,a,y)}else c.current=null}function d1(r){var a=r.type,c=r.memoizedProps,f=r.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":c.autoFocus&&f.focus();break e;case"img":c.src?f.src=c.src:c.srcSet&&(f.srcset=c.srcSet)}}catch(y){gt(r,r.return,y)}}function tv(r,a,c){try{var f=r.stateNode;gL(f,r.type,c,a),f[Dt]=a}catch(y){gt(r,r.return,y)}}function f1(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&fa(r.type)||r.tag===4}function nv(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||f1(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&fa(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function sv(r,a,c){var f=r.tag;if(f===5||f===6)r=r.stateNode,a?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(r,a):(a=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,a.appendChild(r),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=pi));else if(f!==4&&(f===27&&fa(r.type)&&(c=r.stateNode,a=null),r=r.child,r!==null))for(sv(r,a,c),r=r.sibling;r!==null;)sv(r,a,c),r=r.sibling}function Lf(r,a,c){var f=r.tag;if(f===5||f===6)r=r.stateNode,a?c.insertBefore(r,a):c.appendChild(r);else if(f!==4&&(f===27&&fa(r.type)&&(c=r.stateNode),r=r.child,r!==null))for(Lf(r,a,c),r=r.sibling;r!==null;)Lf(r,a,c),r=r.sibling}function h1(r){var a=r.stateNode,c=r.memoizedProps;try{for(var f=r.type,y=a.attributes;y.length;)a.removeAttributeNode(y[0]);Dn(a,f,c),a[Tt]=r,a[Dt]=c}catch(b){gt(r,r.return,b)}}var Ci=!1,dn=!1,rv=!1,p1=typeof WeakSet=="function"?WeakSet:Set,Cn=null;function WP(r,a){if(r=r.containerInfo,Ev=sh,r=T_(r),Qm(r)){if("selectionStart"in r)var c={start:r.selectionStart,end:r.selectionEnd};else e:{c=(c=r.ownerDocument)&&c.defaultView||window;var f=c.getSelection&&c.getSelection();if(f&&f.rangeCount!==0){c=f.anchorNode;var y=f.anchorOffset,b=f.focusNode;f=f.focusOffset;try{c.nodeType,b.nodeType}catch{c=null;break e}var E=0,M=-1,U=-1,Z=0,ue=0,he=r,ne=null;t:for(;;){for(var oe;he!==c||y!==0&&he.nodeType!==3||(M=E+y),he!==b||f!==0&&he.nodeType!==3||(U=E+f),he.nodeType===3&&(E+=he.nodeValue.length),(oe=he.firstChild)!==null;)ne=he,he=oe;for(;;){if(he===r)break t;if(ne===c&&++Z===y&&(M=E),ne===b&&++ue===f&&(U=E),(oe=he.nextSibling)!==null)break;he=ne,ne=he.parentNode}he=oe}c=M===-1||U===-1?null:{start:M,end:U}}else c=null}c=c||{start:0,end:0}}else c=null;for(Tv={focusedElem:r,selectionRange:c},sh=!1,Cn=a;Cn!==null;)if(a=Cn,r=a.child,(a.subtreeFlags&1028)!==0&&r!==null)r.return=a,Cn=r;else for(;Cn!==null;){switch(a=Cn,b=a.alternate,r=a.flags,a.tag){case 0:if((r&4)!==0&&(r=a.updateQueue,r=r!==null?r.events:null,r!==null))for(c=0;c<r.length;c++)y=r[c],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&b!==null){r=void 0,c=a,y=b.memoizedProps,b=b.memoizedState,f=c.stateNode;try{var _e=co(c.type,y);r=f.getSnapshotBeforeUpdate(_e,b),f.__reactInternalSnapshotBeforeUpdate=r}catch(Re){gt(c,c.return,Re)}}break;case 3:if((r&1024)!==0){if(r=a.stateNode.containerInfo,c=r.nodeType,c===9)Av(r);else if(c===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Av(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(s(163))}if(r=a.sibling,r!==null){r.return=a.return,Cn=r;break}Cn=a.return}}function m1(r,a,c){var f=c.flags;switch(c.tag){case 0:case 11:case 15:Ti(r,c),f&4&&_u(5,c);break;case 1:if(Ti(r,c),f&4)if(r=c.stateNode,a===null)try{r.componentDidMount()}catch(E){gt(c,c.return,E)}else{var y=co(c.type,a.memoizedProps);a=a.memoizedState;try{r.componentDidUpdate(y,a,r.__reactInternalSnapshotBeforeUpdate)}catch(E){gt(c,c.return,E)}}f&64&&c1(c),f&512&&Su(c,c.return);break;case 3:if(Ti(r,c),f&64&&(r=c.updateQueue,r!==null)){if(a=null,c.child!==null)switch(c.child.tag){case 27:case 5:a=c.child.stateNode;break;case 1:a=c.child.stateNode}try{Z_(r,a)}catch(E){gt(c,c.return,E)}}break;case 27:a===null&&f&4&&h1(c);case 26:case 5:Ti(r,c),a===null&&f&4&&d1(c),f&512&&Su(c,c.return);break;case 12:Ti(r,c);break;case 31:Ti(r,c),f&4&&y1(r,c);break;case 13:Ti(r,c),f&4&&b1(r,c),f&64&&(r=c.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(c=rL.bind(null,c),CL(r,c))));break;case 22:if(f=c.memoizedState!==null||Ci,!f){a=a!==null&&a.memoizedState!==null||dn,y=Ci;var b=dn;Ci=f,(dn=a)&&!b?ki(r,c,(c.subtreeFlags&8772)!==0):Ti(r,c),Ci=y,dn=b}break;case 30:break;default:Ti(r,c)}}function g1(r){var a=r.alternate;a!==null&&(r.alternate=null,g1(a)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(a=r.stateNode,a!==null&&yr(a)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Pt=null,fs=!1;function Ei(r,a,c){for(c=c.child;c!==null;)v1(r,a,c),c=c.sibling}function v1(r,a,c){if(on&&typeof on.onCommitFiberUnmount=="function")try{on.onCommitFiberUnmount(Qt,c)}catch{}switch(c.tag){case 26:dn||zr(c,a),Ei(r,a,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:dn||zr(c,a);var f=Pt,y=fs;fa(c.type)&&(Pt=c.stateNode,fs=!1),Ei(r,a,c),Mu(c.stateNode),Pt=f,fs=y;break;case 5:dn||zr(c,a);case 6:if(f=Pt,y=fs,Pt=null,Ei(r,a,c),Pt=f,fs=y,Pt!==null)if(fs)try{(Pt.nodeType===9?Pt.body:Pt.nodeName==="HTML"?Pt.ownerDocument.body:Pt).removeChild(c.stateNode)}catch(b){gt(c,a,b)}else try{Pt.removeChild(c.stateNode)}catch(b){gt(c,a,b)}break;case 18:Pt!==null&&(fs?(r=Pt,cC(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,c.stateNode),Ol(r)):cC(Pt,c.stateNode));break;case 4:f=Pt,y=fs,Pt=c.stateNode.containerInfo,fs=!0,Ei(r,a,c),Pt=f,fs=y;break;case 0:case 11:case 14:case 15:ia(2,c,a),dn||ia(4,c,a),Ei(r,a,c);break;case 1:dn||(zr(c,a),f=c.stateNode,typeof f.componentWillUnmount=="function"&&u1(c,a,f)),Ei(r,a,c);break;case 21:Ei(r,a,c);break;case 22:dn=(f=dn)||c.memoizedState!==null,Ei(r,a,c),dn=f;break;default:Ei(r,a,c)}}function y1(r,a){if(a.memoizedState===null&&(r=a.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{Ol(r)}catch(c){gt(a,a.return,c)}}}function b1(r,a){if(a.memoizedState===null&&(r=a.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Ol(r)}catch(c){gt(a,a.return,c)}}function XP(r){switch(r.tag){case 31:case 13:case 19:var a=r.stateNode;return a===null&&(a=r.stateNode=new p1),a;case 22:return r=r.stateNode,a=r._retryCache,a===null&&(a=r._retryCache=new p1),a;default:throw Error(s(435,r.tag))}}function If(r,a){var c=XP(r);a.forEach(function(f){if(!c.has(f)){c.add(f);var y=iL.bind(null,r,f);f.then(y,y)}})}function hs(r,a){var c=a.deletions;if(c!==null)for(var f=0;f<c.length;f++){var y=c[f],b=r,E=a,M=E;e:for(;M!==null;){switch(M.tag){case 27:if(fa(M.type)){Pt=M.stateNode,fs=!1;break e}break;case 5:Pt=M.stateNode,fs=!1;break e;case 3:case 4:Pt=M.stateNode.containerInfo,fs=!0;break e}M=M.return}if(Pt===null)throw Error(s(160));v1(b,E,y),Pt=null,fs=!1,b=y.alternate,b!==null&&(b.return=null),y.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)x1(a,r),a=a.sibling}var wr=null;function x1(r,a){var c=r.alternate,f=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:hs(a,r),ps(r),f&4&&(ia(3,r,r.return),_u(3,r),ia(5,r,r.return));break;case 1:hs(a,r),ps(r),f&512&&(dn||c===null||zr(c,c.return)),f&64&&Ci&&(r=r.updateQueue,r!==null&&(f=r.callbacks,f!==null&&(c=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=c===null?f:c.concat(f))));break;case 26:var y=wr;if(hs(a,r),ps(r),f&512&&(dn||c===null||zr(c,c.return)),f&4){var b=c!==null?c.memoizedState:null;if(f=r.memoizedState,c===null)if(f===null)if(r.stateNode===null){e:{f=r.type,c=r.memoizedProps,y=y.ownerDocument||y;t:switch(f){case"title":b=y.getElementsByTagName("title")[0],(!b||b[Jn]||b[Tt]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=y.createElement(f),y.head.insertBefore(b,y.querySelector("head > title"))),Dn(b,f,c),b[Tt]=r,kt(b),f=b;break e;case"link":var E=xC("link","href",y).get(f+(c.href||""));if(E){for(var M=0;M<E.length;M++)if(b=E[M],b.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&b.getAttribute("rel")===(c.rel==null?null:c.rel)&&b.getAttribute("title")===(c.title==null?null:c.title)&&b.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){E.splice(M,1);break t}}b=y.createElement(f),Dn(b,f,c),y.head.appendChild(b);break;case"meta":if(E=xC("meta","content",y).get(f+(c.content||""))){for(M=0;M<E.length;M++)if(b=E[M],b.getAttribute("content")===(c.content==null?null:""+c.content)&&b.getAttribute("name")===(c.name==null?null:c.name)&&b.getAttribute("property")===(c.property==null?null:c.property)&&b.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&b.getAttribute("charset")===(c.charSet==null?null:c.charSet)){E.splice(M,1);break t}}b=y.createElement(f),Dn(b,f,c),y.head.appendChild(b);break;default:throw Error(s(468,f))}b[Tt]=r,kt(b),f=b}r.stateNode=f}else wC(y,r.type,r.stateNode);else r.stateNode=bC(y,f,r.memoizedProps);else b!==f?(b===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):b.count--,f===null?wC(y,r.type,r.stateNode):bC(y,f,r.memoizedProps)):f===null&&r.stateNode!==null&&tv(r,r.memoizedProps,c.memoizedProps)}break;case 27:hs(a,r),ps(r),f&512&&(dn||c===null||zr(c,c.return)),c!==null&&f&4&&tv(r,r.memoizedProps,c.memoizedProps);break;case 5:if(hs(a,r),ps(r),f&512&&(dn||c===null||zr(c,c.return)),r.flags&32){y=r.stateNode;try{nl(y,"")}catch(_e){gt(r,r.return,_e)}}f&4&&r.stateNode!=null&&(y=r.memoizedProps,tv(r,y,c!==null?c.memoizedProps:y)),f&1024&&(rv=!0);break;case 6:if(hs(a,r),ps(r),f&4){if(r.stateNode===null)throw Error(s(162));f=r.memoizedProps,c=r.stateNode;try{c.nodeValue=f}catch(_e){gt(r,r.return,_e)}}break;case 3:if(Zf=null,y=wr,wr=Qf(a.containerInfo),hs(a,r),wr=y,ps(r),f&4&&c!==null&&c.memoizedState.isDehydrated)try{Ol(a.containerInfo)}catch(_e){gt(r,r.return,_e)}rv&&(rv=!1,w1(r));break;case 4:f=wr,wr=Qf(r.stateNode.containerInfo),hs(a,r),ps(r),wr=f;break;case 12:hs(a,r),ps(r);break;case 31:hs(a,r),ps(r),f&4&&(f=r.updateQueue,f!==null&&(r.updateQueue=null,If(r,f)));break;case 13:hs(a,r),ps(r),r.child.flags&8192&&r.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(zf=pt()),f&4&&(f=r.updateQueue,f!==null&&(r.updateQueue=null,If(r,f)));break;case 22:y=r.memoizedState!==null;var U=c!==null&&c.memoizedState!==null,Z=Ci,ue=dn;if(Ci=Z||y,dn=ue||U,hs(a,r),dn=ue,Ci=Z,ps(r),f&8192)e:for(a=r.stateNode,a._visibility=y?a._visibility&-2:a._visibility|1,y&&(c===null||U||Ci||dn||uo(r)),c=null,a=r;;){if(a.tag===5||a.tag===26){if(c===null){U=c=a;try{if(b=U.stateNode,y)E=b.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{M=U.stateNode;var he=U.memoizedProps.style,ne=he!=null&&he.hasOwnProperty("display")?he.display:null;M.style.display=ne==null||typeof ne=="boolean"?"":(""+ne).trim()}}catch(_e){gt(U,U.return,_e)}}}else if(a.tag===6){if(c===null){U=a;try{U.stateNode.nodeValue=y?"":U.memoizedProps}catch(_e){gt(U,U.return,_e)}}}else if(a.tag===18){if(c===null){U=a;try{var oe=U.stateNode;y?uC(oe,!0):uC(U.stateNode,!1)}catch(_e){gt(U,U.return,_e)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===r)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break e;for(;a.sibling===null;){if(a.return===null||a.return===r)break e;c===a&&(c=null),a=a.return}c===a&&(c=null),a.sibling.return=a.return,a=a.sibling}f&4&&(f=r.updateQueue,f!==null&&(c=f.retryQueue,c!==null&&(f.retryQueue=null,If(r,c))));break;case 19:hs(a,r),ps(r),f&4&&(f=r.updateQueue,f!==null&&(r.updateQueue=null,If(r,f)));break;case 30:break;case 21:break;default:hs(a,r),ps(r)}}function ps(r){var a=r.flags;if(a&2){try{for(var c,f=r.return;f!==null;){if(f1(f)){c=f;break}f=f.return}if(c==null)throw Error(s(160));switch(c.tag){case 27:var y=c.stateNode,b=nv(r);Lf(r,b,y);break;case 5:var E=c.stateNode;c.flags&32&&(nl(E,""),c.flags&=-33);var M=nv(r);Lf(r,M,E);break;case 3:case 4:var U=c.stateNode.containerInfo,Z=nv(r);sv(r,Z,U);break;default:throw Error(s(161))}}catch(ue){gt(r,r.return,ue)}r.flags&=-3}a&4096&&(r.flags&=-4097)}function w1(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var a=r;w1(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),r=r.sibling}}function Ti(r,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)m1(r,a.alternate,a),a=a.sibling}function uo(r){for(r=r.child;r!==null;){var a=r;switch(a.tag){case 0:case 11:case 14:case 15:ia(4,a,a.return),uo(a);break;case 1:zr(a,a.return);var c=a.stateNode;typeof c.componentWillUnmount=="function"&&u1(a,a.return,c),uo(a);break;case 27:Mu(a.stateNode);case 26:case 5:zr(a,a.return),uo(a);break;case 22:a.memoizedState===null&&uo(a);break;case 30:uo(a);break;default:uo(a)}r=r.sibling}}function ki(r,a,c){for(c=c&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var f=a.alternate,y=r,b=a,E=b.flags;switch(b.tag){case 0:case 11:case 15:ki(y,b,c),_u(4,b);break;case 1:if(ki(y,b,c),f=b,y=f.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(Z){gt(f,f.return,Z)}if(f=b,y=f.updateQueue,y!==null){var M=f.stateNode;try{var U=y.shared.hiddenCallbacks;if(U!==null)for(y.shared.hiddenCallbacks=null,y=0;y<U.length;y++)J_(U[y],M)}catch(Z){gt(f,f.return,Z)}}c&&E&64&&c1(b),Su(b,b.return);break;case 27:h1(b);case 26:case 5:ki(y,b,c),c&&f===null&&E&4&&d1(b),Su(b,b.return);break;case 12:ki(y,b,c);break;case 31:ki(y,b,c),c&&E&4&&y1(y,b);break;case 13:ki(y,b,c),c&&E&4&&b1(y,b);break;case 22:b.memoizedState===null&&ki(y,b,c),Su(b,b.return);break;case 30:break;default:ki(y,b,c)}a=a.sibling}}function iv(r,a){var c=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),r=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(r=a.memoizedState.cachePool.pool),r!==c&&(r!=null&&r.refCount++,c!=null&&cu(c))}function av(r,a){r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&cu(r))}function _r(r,a,c,f){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)_1(r,a,c,f),a=a.sibling}function _1(r,a,c,f){var y=a.flags;switch(a.tag){case 0:case 11:case 15:_r(r,a,c,f),y&2048&&_u(9,a);break;case 1:_r(r,a,c,f);break;case 3:_r(r,a,c,f),y&2048&&(r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&cu(r)));break;case 12:if(y&2048){_r(r,a,c,f),r=a.stateNode;try{var b=a.memoizedProps,E=b.id,M=b.onPostCommit;typeof M=="function"&&M(E,a.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(U){gt(a,a.return,U)}}else _r(r,a,c,f);break;case 31:_r(r,a,c,f);break;case 13:_r(r,a,c,f);break;case 23:break;case 22:b=a.stateNode,E=a.alternate,a.memoizedState!==null?b._visibility&2?_r(r,a,c,f):Cu(r,a):b._visibility&2?_r(r,a,c,f):(b._visibility|=2,_l(r,a,c,f,(a.subtreeFlags&10256)!==0||!1)),y&2048&&iv(E,a);break;case 24:_r(r,a,c,f),y&2048&&av(a.alternate,a);break;default:_r(r,a,c,f)}}function _l(r,a,c,f,y){for(y=y&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var b=r,E=a,M=c,U=f,Z=E.flags;switch(E.tag){case 0:case 11:case 15:_l(b,E,M,U,y),_u(8,E);break;case 23:break;case 22:var ue=E.stateNode;E.memoizedState!==null?ue._visibility&2?_l(b,E,M,U,y):Cu(b,E):(ue._visibility|=2,_l(b,E,M,U,y)),y&&Z&2048&&iv(E.alternate,E);break;case 24:_l(b,E,M,U,y),y&&Z&2048&&av(E.alternate,E);break;default:_l(b,E,M,U,y)}a=a.sibling}}function Cu(r,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var c=r,f=a,y=f.flags;switch(f.tag){case 22:Cu(c,f),y&2048&&iv(f.alternate,f);break;case 24:Cu(c,f),y&2048&&av(f.alternate,f);break;default:Cu(c,f)}a=a.sibling}}var Eu=8192;function Sl(r,a,c){if(r.subtreeFlags&Eu)for(r=r.child;r!==null;)S1(r,a,c),r=r.sibling}function S1(r,a,c){switch(r.tag){case 26:Sl(r,a,c),r.flags&Eu&&r.memoizedState!==null&&LL(c,wr,r.memoizedState,r.memoizedProps);break;case 5:Sl(r,a,c);break;case 3:case 4:var f=wr;wr=Qf(r.stateNode.containerInfo),Sl(r,a,c),wr=f;break;case 22:r.memoizedState===null&&(f=r.alternate,f!==null&&f.memoizedState!==null?(f=Eu,Eu=16777216,Sl(r,a,c),Eu=f):Sl(r,a,c));break;default:Sl(r,a,c)}}function C1(r){var a=r.alternate;if(a!==null&&(r=a.child,r!==null)){a.child=null;do a=r.sibling,r.sibling=null,r=a;while(r!==null)}}function Tu(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var c=0;c<a.length;c++){var f=a[c];Cn=f,T1(f,r)}C1(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)E1(r),r=r.sibling}function E1(r){switch(r.tag){case 0:case 11:case 15:Tu(r),r.flags&2048&&ia(9,r,r.return);break;case 3:Tu(r);break;case 12:Tu(r);break;case 22:var a=r.stateNode;r.memoizedState!==null&&a._visibility&2&&(r.return===null||r.return.tag!==13)?(a._visibility&=-3,Ff(r)):Tu(r);break;default:Tu(r)}}function Ff(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var c=0;c<a.length;c++){var f=a[c];Cn=f,T1(f,r)}C1(r)}for(r=r.child;r!==null;){switch(a=r,a.tag){case 0:case 11:case 15:ia(8,a,a.return),Ff(a);break;case 22:c=a.stateNode,c._visibility&2&&(c._visibility&=-3,Ff(a));break;default:Ff(a)}r=r.sibling}}function T1(r,a){for(;Cn!==null;){var c=Cn;switch(c.tag){case 0:case 11:case 15:ia(8,c,a);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var f=c.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:cu(c.memoizedState.cache)}if(f=c.child,f!==null)f.return=c,Cn=f;else e:for(c=r;Cn!==null;){f=Cn;var y=f.sibling,b=f.return;if(g1(f),f===c){Cn=null;break e}if(y!==null){y.return=b,Cn=y;break e}Cn=b}}}var QP={getCacheForType:function(r){var a=Mn(ln),c=a.data.get(r);return c===void 0&&(c=r(),a.data.set(r,c)),c},cacheSignal:function(){return Mn(ln).controller.signal}},JP=typeof WeakMap=="function"?WeakMap:Map,ut=0,Nt=null,Ge=null,Qe=0,mt=0,Ds=null,aa=!1,Cl=!1,ov=!1,Ni=0,Kt=0,oa=0,fo=0,lv=0,Ps=0,El=0,ku=null,ms=null,cv=!1,zf=0,k1=0,Bf=1/0,Uf=null,la=null,vn=0,ca=null,Tl=null,Ai=0,uv=0,dv=null,N1=null,Nu=0,fv=null;function Ls(){return(ut&2)!==0&&Qe!==0?Qe&-Qe:R.T!==null?yv():Pr()}function A1(){if(Ps===0)if((Qe&536870912)===0||Ze){var r=at;at<<=1,(at&3932160)===0&&(at=262144),Ps=r}else Ps=536870912;return r=Ms.current,r!==null&&(r.flags|=32),Ps}function gs(r,a,c){(r===Nt&&(mt===2||mt===9)||r.cancelPendingCommit!==null)&&(kl(r,0),ua(r,Qe,Ps,!1)),Xe(r,c),((ut&2)===0||r!==Nt)&&(r===Nt&&((ut&2)===0&&(fo|=c),Kt===4&&ua(r,Qe,Ps,!1)),Br(r))}function R1(r,a,c){if((ut&6)!==0)throw Error(s(327));var f=!c&&(a&127)===0&&(a&r.expiredLanes)===0||ye(r,a),y=f?tL(r,a):pv(r,a,!0),b=f;do{if(y===0){Cl&&!f&&ua(r,a,0,!1);break}else{if(c=r.current.alternate,b&&!ZP(c)){y=pv(r,a,!1),b=!1;continue}if(y===2){if(b=a,r.errorRecoveryDisabledLanes&b)var E=0;else E=r.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){a=E;e:{var M=r;y=ku;var U=M.current.memoizedState.isDehydrated;if(U&&(kl(M,E).flags|=256),E=pv(M,E,!1),E!==2){if(ov&&!U){M.errorRecoveryDisabledLanes|=b,fo|=b,y=4;break e}b=ms,ms=y,b!==null&&(ms===null?ms=b:ms.push.apply(ms,b))}y=E}if(b=!1,y!==2)continue}}if(y===1){kl(r,0),ua(r,a,0,!0);break}e:{switch(f=r,b=y,b){case 0:case 1:throw Error(s(345));case 4:if((a&4194048)!==a)break;case 6:ua(f,a,Ps,!aa);break e;case 2:ms=null;break;case 3:case 5:break;default:throw Error(s(329))}if((a&62914560)===a&&(y=zf+300-pt(),10<y)){if(ua(f,a,Ps,!aa),te(f,0,!0)!==0)break e;Ai=a,f.timeoutHandle=oC(j1.bind(null,f,c,ms,Uf,cv,a,Ps,fo,El,aa,b,"Throttled",-0,0),y);break e}j1(f,c,ms,Uf,cv,a,Ps,fo,El,aa,b,null,-0,0)}}break}while(!0);Br(r)}function j1(r,a,c,f,y,b,E,M,U,Z,ue,he,ne,oe){if(r.timeoutHandle=-1,he=a.subtreeFlags,he&8192||(he&16785408)===16785408){he={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:pi},S1(a,b,he);var _e=(b&62914560)===b?zf-pt():(b&4194048)===b?k1-pt():0;if(_e=IL(he,_e),_e!==null){Ai=b,r.cancelPendingCommit=_e(z1.bind(null,r,a,b,c,f,y,E,M,U,ue,he,null,ne,oe)),ua(r,b,E,!Z);return}}z1(r,a,b,c,f,y,E,M,U)}function ZP(r){for(var a=r;;){var c=a.tag;if((c===0||c===11||c===15)&&a.flags&16384&&(c=a.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var f=0;f<c.length;f++){var y=c[f],b=y.getSnapshot;y=y.value;try{if(!Rs(b(),y))return!1}catch{return!1}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function ua(r,a,c,f){a&=~lv,a&=~fo,r.suspendedLanes|=a,r.pingedLanes&=~a,f&&(r.warmLanes|=a),f=r.expirationTimes;for(var y=a;0<y;){var b=31-Ft(y),E=1<<b;f[b]=-1,y&=~E}c!==0&&Zt(r,c,a)}function Vf(){return(ut&6)===0?(Au(0),!1):!0}function hv(){if(Ge!==null){if(mt===0)var r=Ge.return;else r=Ge,yi=no=null,Ag(r),vl=null,du=0,r=Ge;for(;r!==null;)l1(r.alternate,r),r=r.return;Ge=null}}function kl(r,a){var c=r.timeoutHandle;c!==-1&&(r.timeoutHandle=-1,bL(c)),c=r.cancelPendingCommit,c!==null&&(r.cancelPendingCommit=null,c()),Ai=0,hv(),Nt=r,Ge=c=gi(r.current,null),Qe=a,mt=0,Ds=null,aa=!1,Cl=ye(r,a),ov=!1,El=Ps=lv=fo=oa=Kt=0,ms=ku=null,cv=!1,(a&8)!==0&&(a|=a&32);var f=r.entangledLanes;if(f!==0)for(r=r.entanglements,f&=a;0<f;){var y=31-Ft(f),b=1<<y;a|=r[y],f&=~b}return Ni=a,cf(),c}function M1(r,a){Ue=null,R.H=bu,a===gl||a===vf?(a=Y_(),mt=3):a===vg?(a=Y_(),mt=4):mt=a===qg?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Ds=a,Ge===null&&(Kt=1,jf(r,Ys(a,r.current)))}function O1(){var r=Ms.current;return r===null?!0:(Qe&4194048)===Qe?Js===null:(Qe&62914560)===Qe||(Qe&536870912)!==0?r===Js:!1}function D1(){var r=R.H;return R.H=bu,r===null?bu:r}function P1(){var r=R.A;return R.A=QP,r}function $f(){Kt=4,aa||(Qe&4194048)!==Qe&&Ms.current!==null||(Cl=!0),(oa&134217727)===0&&(fo&134217727)===0||Nt===null||ua(Nt,Qe,Ps,!1)}function pv(r,a,c){var f=ut;ut|=2;var y=D1(),b=P1();(Nt!==r||Qe!==a)&&(Uf=null,kl(r,a)),a=!1;var E=Kt;e:do try{if(mt!==0&&Ge!==null){var M=Ge,U=Ds;switch(mt){case 8:hv(),E=6;break e;case 3:case 2:case 9:case 6:Ms.current===null&&(a=!0);var Z=mt;if(mt=0,Ds=null,Nl(r,M,U,Z),c&&Cl){E=0;break e}break;default:Z=mt,mt=0,Ds=null,Nl(r,M,U,Z)}}eL(),E=Kt;break}catch(ue){M1(r,ue)}while(!0);return a&&r.shellSuspendCounter++,yi=no=null,ut=f,R.H=y,R.A=b,Ge===null&&(Nt=null,Qe=0,cf()),E}function eL(){for(;Ge!==null;)L1(Ge)}function tL(r,a){var c=ut;ut|=2;var f=D1(),y=P1();Nt!==r||Qe!==a?(Uf=null,Bf=pt()+500,kl(r,a)):Cl=ye(r,a);e:do try{if(mt!==0&&Ge!==null){a=Ge;var b=Ds;t:switch(mt){case 1:mt=0,Ds=null,Nl(r,a,b,1);break;case 2:case 9:if(K_(b)){mt=0,Ds=null,I1(a);break}a=function(){mt!==2&&mt!==9||Nt!==r||(mt=7),Br(r)},b.then(a,a);break e;case 3:mt=7;break e;case 4:mt=5;break e;case 7:K_(b)?(mt=0,Ds=null,I1(a)):(mt=0,Ds=null,Nl(r,a,b,7));break;case 5:var E=null;switch(Ge.tag){case 26:E=Ge.memoizedState;case 5:case 27:var M=Ge;if(E?_C(E):M.stateNode.complete){mt=0,Ds=null;var U=M.sibling;if(U!==null)Ge=U;else{var Z=M.return;Z!==null?(Ge=Z,Hf(Z)):Ge=null}break t}}mt=0,Ds=null,Nl(r,a,b,5);break;case 6:mt=0,Ds=null,Nl(r,a,b,6);break;case 8:hv(),Kt=6;break e;default:throw Error(s(462))}}nL();break}catch(ue){M1(r,ue)}while(!0);return yi=no=null,R.H=f,R.A=y,ut=c,Ge!==null?0:(Nt=null,Qe=0,cf(),Kt)}function nL(){for(;Ge!==null&&!Fe();)L1(Ge)}function L1(r){var a=a1(r.alternate,r,Ni);r.memoizedProps=r.pendingProps,a===null?Hf(r):Ge=a}function I1(r){var a=r,c=a.alternate;switch(a.tag){case 15:case 0:a=e1(c,a,a.pendingProps,a.type,void 0,Qe);break;case 11:a=e1(c,a,a.pendingProps,a.type.render,a.ref,Qe);break;case 5:Ag(a);default:l1(c,a),a=Ge=P_(a,Ni),a=a1(c,a,Ni)}r.memoizedProps=r.pendingProps,a===null?Hf(r):Ge=a}function Nl(r,a,c,f){yi=no=null,Ag(a),vl=null,du=0;var y=a.return;try{if(HP(r,y,a,c,Qe)){Kt=1,jf(r,Ys(c,r.current)),Ge=null;return}}catch(b){if(y!==null)throw Ge=y,b;Kt=1,jf(r,Ys(c,r.current)),Ge=null;return}a.flags&32768?(Ze||f===1?r=!0:Cl||(Qe&536870912)!==0?r=!1:(aa=r=!0,(f===2||f===9||f===3||f===6)&&(f=Ms.current,f!==null&&f.tag===13&&(f.flags|=16384))),F1(a,r)):Hf(a)}function Hf(r){var a=r;do{if((a.flags&32768)!==0){F1(a,aa);return}r=a.return;var c=GP(a.alternate,a,Ni);if(c!==null){Ge=c;return}if(a=a.sibling,a!==null){Ge=a;return}Ge=a=r}while(a!==null);Kt===0&&(Kt=5)}function F1(r,a){do{var c=YP(r.alternate,r);if(c!==null){c.flags&=32767,Ge=c;return}if(c=r.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!a&&(r=r.sibling,r!==null)){Ge=r;return}Ge=r=c}while(r!==null);Kt=6,Ge=null}function z1(r,a,c,f,y,b,E,M,U){r.cancelPendingCommit=null;do qf();while(vn!==0);if((ut&6)!==0)throw Error(s(327));if(a!==null){if(a===r.current)throw Error(s(177));if(b=a.lanes|a.childLanes,b|=ng,bt(r,c,b,E,M,U),r===Nt&&(Ge=Nt=null,Qe=0),Tl=a,ca=r,Ai=c,uv=b,dv=y,N1=f,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,aL(Un,function(){return H1(),null})):(r.callbackNode=null,r.callbackPriority=0),f=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||f){f=R.T,R.T=null,y=B.p,B.p=2,E=ut,ut|=4;try{WP(r,a,c)}finally{ut=E,B.p=y,R.T=f}}vn=1,B1(),U1(),V1()}}function B1(){if(vn===1){vn=0;var r=ca,a=Tl,c=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||c){c=R.T,R.T=null;var f=B.p;B.p=2;var y=ut;ut|=4;try{x1(a,r);var b=Tv,E=T_(r.containerInfo),M=b.focusedElem,U=b.selectionRange;if(E!==M&&M&&M.ownerDocument&&E_(M.ownerDocument.documentElement,M)){if(U!==null&&Qm(M)){var Z=U.start,ue=U.end;if(ue===void 0&&(ue=Z),"selectionStart"in M)M.selectionStart=Z,M.selectionEnd=Math.min(ue,M.value.length);else{var he=M.ownerDocument||document,ne=he&&he.defaultView||window;if(ne.getSelection){var oe=ne.getSelection(),_e=M.textContent.length,Re=Math.min(U.start,_e),_t=U.end===void 0?Re:Math.min(U.end,_e);!oe.extend&&Re>_t&&(E=_t,_t=Re,Re=E);var G=C_(M,Re),q=C_(M,_t);if(G&&q&&(oe.rangeCount!==1||oe.anchorNode!==G.node||oe.anchorOffset!==G.offset||oe.focusNode!==q.node||oe.focusOffset!==q.offset)){var Q=he.createRange();Q.setStart(G.node,G.offset),oe.removeAllRanges(),Re>_t?(oe.addRange(Q),oe.extend(q.node,q.offset)):(Q.setEnd(q.node,q.offset),oe.addRange(Q))}}}}for(he=[],oe=M;oe=oe.parentNode;)oe.nodeType===1&&he.push({element:oe,left:oe.scrollLeft,top:oe.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<he.length;M++){var fe=he[M];fe.element.scrollLeft=fe.left,fe.element.scrollTop=fe.top}}sh=!!Ev,Tv=Ev=null}finally{ut=y,B.p=f,R.T=c}}r.current=a,vn=2}}function U1(){if(vn===2){vn=0;var r=ca,a=Tl,c=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||c){c=R.T,R.T=null;var f=B.p;B.p=2;var y=ut;ut|=4;try{m1(r,a.alternate,a)}finally{ut=y,B.p=f,R.T=c}}vn=3}}function V1(){if(vn===4||vn===3){vn=0,it();var r=ca,a=Tl,c=Ai,f=N1;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?vn=5:(vn=0,Tl=ca=null,$1(r,r.pendingLanes));var y=r.pendingLanes;if(y===0&&(la=null),pn(c),a=a.stateNode,on&&typeof on.onCommitFiberRoot=="function")try{on.onCommitFiberRoot(Qt,a,void 0,(a.current.flags&128)===128)}catch{}if(f!==null){a=R.T,y=B.p,B.p=2,R.T=null;try{for(var b=r.onRecoverableError,E=0;E<f.length;E++){var M=f[E];b(M.value,{componentStack:M.stack})}}finally{R.T=a,B.p=y}}(Ai&3)!==0&&qf(),Br(r),y=r.pendingLanes,(c&261930)!==0&&(y&42)!==0?r===fv?Nu++:(Nu=0,fv=r):Nu=0,Au(0)}}function $1(r,a){(r.pooledCacheLanes&=a)===0&&(a=r.pooledCache,a!=null&&(r.pooledCache=null,cu(a)))}function qf(){return B1(),U1(),V1(),H1()}function H1(){if(vn!==5)return!1;var r=ca,a=uv;uv=0;var c=pn(Ai),f=R.T,y=B.p;try{B.p=32>c?32:c,R.T=null,c=dv,dv=null;var b=ca,E=Ai;if(vn=0,Tl=ca=null,Ai=0,(ut&6)!==0)throw Error(s(331));var M=ut;if(ut|=4,E1(b.current),_1(b,b.current,E,c),ut=M,Au(0,!1),on&&typeof on.onPostCommitFiberRoot=="function")try{on.onPostCommitFiberRoot(Qt,b)}catch{}return!0}finally{B.p=y,R.T=f,$1(r,a)}}function q1(r,a,c){a=Ys(c,a),a=Hg(r.stateNode,a,2),r=na(r,a,2),r!==null&&(Xe(r,2),Br(r))}function gt(r,a,c){if(r.tag===3)q1(r,r,c);else for(;a!==null;){if(a.tag===3){q1(a,r,c);break}else if(a.tag===1){var f=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(la===null||!la.has(f))){r=Ys(c,r),c=KS(2),f=na(a,c,2),f!==null&&(GS(c,f,a,r),Xe(f,2),Br(f));break}}a=a.return}}function mv(r,a,c){var f=r.pingCache;if(f===null){f=r.pingCache=new JP;var y=new Set;f.set(a,y)}else y=f.get(a),y===void 0&&(y=new Set,f.set(a,y));y.has(c)||(ov=!0,y.add(c),r=sL.bind(null,r,a,c),a.then(r,r))}function sL(r,a,c){var f=r.pingCache;f!==null&&f.delete(a),r.pingedLanes|=r.suspendedLanes&c,r.warmLanes&=~c,Nt===r&&(Qe&c)===c&&(Kt===4||Kt===3&&(Qe&62914560)===Qe&&300>pt()-zf?(ut&2)===0&&kl(r,0):lv|=c,El===Qe&&(El=0)),Br(r)}function K1(r,a){a===0&&(a=At()),r=Za(r,a),r!==null&&(Xe(r,a),Br(r))}function rL(r){var a=r.memoizedState,c=0;a!==null&&(c=a.retryLane),K1(r,c)}function iL(r,a){var c=0;switch(r.tag){case 31:case 13:var f=r.stateNode,y=r.memoizedState;y!==null&&(c=y.retryLane);break;case 19:f=r.stateNode;break;case 22:f=r.stateNode._retryCache;break;default:throw Error(s(314))}f!==null&&f.delete(a),K1(r,c)}function aL(r,a){return an(r,a)}var Kf=null,Al=null,gv=!1,Gf=!1,vv=!1,da=0;function Br(r){r!==Al&&r.next===null&&(Al===null?Kf=Al=r:Al=Al.next=r),Gf=!0,gv||(gv=!0,lL())}function Au(r,a){if(!vv&&Gf){vv=!0;do for(var c=!1,f=Kf;f!==null;){if(r!==0){var y=f.pendingLanes;if(y===0)var b=0;else{var E=f.suspendedLanes,M=f.pingedLanes;b=(1<<31-Ft(42|r)+1)-1,b&=y&~(E&~M),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(c=!0,X1(f,b))}else b=Qe,b=te(f,f===Nt?b:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(b&3)===0||ye(f,b)||(c=!0,X1(f,b));f=f.next}while(c);vv=!1}}function oL(){G1()}function G1(){Gf=gv=!1;var r=0;da!==0&&yL()&&(r=da);for(var a=pt(),c=null,f=Kf;f!==null;){var y=f.next,b=Y1(f,a);b===0?(f.next=null,c===null?Kf=y:c.next=y,y===null&&(Al=c)):(c=f,(r!==0||(b&3)!==0)&&(Gf=!0)),f=y}vn!==0&&vn!==5||Au(r),da!==0&&(da=0)}function Y1(r,a){for(var c=r.suspendedLanes,f=r.pingedLanes,y=r.expirationTimes,b=r.pendingLanes&-62914561;0<b;){var E=31-Ft(b),M=1<<E,U=y[E];U===-1?((M&c)===0||(M&f)!==0)&&(y[E]=je(M,a)):U<=a&&(r.expiredLanes|=M),b&=~M}if(a=Nt,c=Qe,c=te(r,r===a?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),f=r.callbackNode,c===0||r===a&&(mt===2||mt===9)||r.cancelPendingCommit!==null)return f!==null&&f!==null&&zn(f),r.callbackNode=null,r.callbackPriority=0;if((c&3)===0||ye(r,c)){if(a=c&-c,a===r.callbackPriority)return a;switch(f!==null&&zn(f),pn(c)){case 2:case 8:c=Xn;break;case 32:c=Un;break;case 268435456:c=ls;break;default:c=Un}return f=W1.bind(null,r),c=an(c,f),r.callbackPriority=a,r.callbackNode=c,a}return f!==null&&f!==null&&zn(f),r.callbackPriority=2,r.callbackNode=null,2}function W1(r,a){if(vn!==0&&vn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var c=r.callbackNode;if(qf()&&r.callbackNode!==c)return null;var f=Qe;return f=te(r,r===Nt?f:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),f===0?null:(R1(r,f,a),Y1(r,pt()),r.callbackNode!=null&&r.callbackNode===c?W1.bind(null,r):null)}function X1(r,a){if(qf())return null;R1(r,a,!0)}function lL(){xL(function(){(ut&6)!==0?an(Bn,oL):G1()})}function yv(){if(da===0){var r=pl;r===0&&(r=Pe,Pe<<=1,(Pe&261888)===0&&(Pe=256)),da=r}return da}function Q1(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:ef(""+r)}function J1(r,a){var c=a.ownerDocument.createElement("input");return c.name=a.name,c.value=a.value,r.id&&c.setAttribute("form",r.id),a.parentNode.insertBefore(c,a),r=new FormData(r),c.parentNode.removeChild(c),r}function cL(r,a,c,f,y){if(a==="submit"&&c&&c.stateNode===y){var b=Q1((y[Dt]||null).action),E=f.submitter;E&&(a=(a=E[Dt]||null)?Q1(a.formAction):E.getAttribute("formAction"),a!==null&&(b=a,E=null));var M=new rf("action","action",null,f,y);r.push({event:M,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(da!==0){var U=E?J1(y,E):new FormData(y);Fg(c,{pending:!0,data:U,method:y.method,action:b},null,U)}}else typeof b=="function"&&(M.preventDefault(),U=E?J1(y,E):new FormData(y),Fg(c,{pending:!0,data:U,method:y.method,action:b},b,U))},currentTarget:y}]})}}for(var bv=0;bv<tg.length;bv++){var xv=tg[bv],uL=xv.toLowerCase(),dL=xv[0].toUpperCase()+xv.slice(1);xr(uL,"on"+dL)}xr(A_,"onAnimationEnd"),xr(R_,"onAnimationIteration"),xr(j_,"onAnimationStart"),xr("dblclick","onDoubleClick"),xr("focusin","onFocus"),xr("focusout","onBlur"),xr(kP,"onTransitionRun"),xr(NP,"onTransitionStart"),xr(AP,"onTransitionCancel"),xr(M_,"onTransitionEnd"),$t("onMouseEnter",["mouseout","mouseover"]),$t("onMouseLeave",["mouseout","mouseover"]),$t("onPointerEnter",["pointerout","pointerover"]),$t("onPointerLeave",["pointerout","pointerover"]),gn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gn("onBeforeInput",["compositionend","keypress","textInput","paste"]),gn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ru="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fL=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ru));function Z1(r,a){a=(a&4)!==0;for(var c=0;c<r.length;c++){var f=r[c],y=f.event;f=f.listeners;e:{var b=void 0;if(a)for(var E=f.length-1;0<=E;E--){var M=f[E],U=M.instance,Z=M.currentTarget;if(M=M.listener,U!==b&&y.isPropagationStopped())break e;b=M,y.currentTarget=Z;try{b(y)}catch(ue){lf(ue)}y.currentTarget=null,b=U}else for(E=0;E<f.length;E++){if(M=f[E],U=M.instance,Z=M.currentTarget,M=M.listener,U!==b&&y.isPropagationStopped())break e;b=M,y.currentTarget=Z;try{b(y)}catch(ue){lf(ue)}y.currentTarget=null,b=U}}}}function Ye(r,a){var c=a[Lr];c===void 0&&(c=a[Lr]=new Set);var f=r+"__bubble";c.has(f)||(eC(a,r,2,!1),c.add(f))}function wv(r,a,c){var f=0;a&&(f|=4),eC(c,r,f,a)}var Yf="_reactListening"+Math.random().toString(36).slice(2);function _v(r){if(!r[Yf]){r[Yf]=!0,$s.forEach(function(c){c!=="selectionchange"&&(fL.has(c)||wv(c,!1,r),wv(c,!0,r))});var a=r.nodeType===9?r:r.ownerDocument;a===null||a[Yf]||(a[Yf]=!0,wv("selectionchange",!1,a))}}function eC(r,a,c,f){switch(AC(a)){case 2:var y=BL;break;case 8:y=UL;break;default:y=Iv}c=y.bind(null,a,c,r),y=void 0,!Vm||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(y=!0),f?y!==void 0?r.addEventListener(a,c,{capture:!0,passive:y}):r.addEventListener(a,c,!0):y!==void 0?r.addEventListener(a,c,{passive:y}):r.addEventListener(a,c,!1)}function Sv(r,a,c,f,y){var b=f;if((a&1)===0&&(a&2)===0&&f!==null)e:for(;;){if(f===null)return;var E=f.tag;if(E===3||E===4){var M=f.stateNode.containerInfo;if(M===y)break;if(E===4)for(E=f.return;E!==null;){var U=E.tag;if((U===3||U===4)&&E.stateNode.containerInfo===y)return;E=E.return}for(;M!==null;){if(E=mn(M),E===null)return;if(U=E.tag,U===5||U===6||U===26||U===27){f=b=E;continue e}M=M.parentNode}}f=f.return}i_(function(){var Z=b,ue=Bm(c),he=[];e:{var ne=O_.get(r);if(ne!==void 0){var oe=rf,_e=r;switch(r){case"keypress":if(nf(c)===0)break e;case"keydown":case"keyup":oe=iP;break;case"focusin":_e="focus",oe=Km;break;case"focusout":_e="blur",oe=Km;break;case"beforeblur":case"afterblur":oe=Km;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":oe=l_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":oe=GD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":oe=lP;break;case A_:case R_:case j_:oe=XD;break;case M_:oe=uP;break;case"scroll":case"scrollend":oe=qD;break;case"wheel":oe=fP;break;case"copy":case"cut":case"paste":oe=JD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":oe=u_;break;case"toggle":case"beforetoggle":oe=pP}var Re=(a&4)!==0,_t=!Re&&(r==="scroll"||r==="scrollend"),G=Re?ne!==null?ne+"Capture":null:ne;Re=[];for(var q=Z,Q;q!==null;){var fe=q;if(Q=fe.stateNode,fe=fe.tag,fe!==5&&fe!==26&&fe!==27||Q===null||G===null||(fe=Jc(q,G),fe!=null&&Re.push(ju(q,fe,Q))),_t)break;q=q.return}0<Re.length&&(ne=new oe(ne,_e,null,c,ue),he.push({event:ne,listeners:Re}))}}if((a&7)===0){e:{if(ne=r==="mouseover"||r==="pointerover",oe=r==="mouseout"||r==="pointerout",ne&&c!==zm&&(_e=c.relatedTarget||c.fromElement)&&(mn(_e)||_e[An]))break e;if((oe||ne)&&(ne=ue.window===ue?ue:(ne=ue.ownerDocument)?ne.defaultView||ne.parentWindow:window,oe?(_e=c.relatedTarget||c.toElement,oe=Z,_e=_e?mn(_e):null,_e!==null&&(_t=o(_e),Re=_e.tag,_e!==_t||Re!==5&&Re!==27&&Re!==6)&&(_e=null)):(oe=null,_e=Z),oe!==_e)){if(Re=l_,fe="onMouseLeave",G="onMouseEnter",q="mouse",(r==="pointerout"||r==="pointerover")&&(Re=u_,fe="onPointerLeave",G="onPointerEnter",q="pointer"),_t=oe==null?ne:As(oe),Q=_e==null?ne:As(_e),ne=new Re(fe,q+"leave",oe,c,ue),ne.target=_t,ne.relatedTarget=Q,fe=null,mn(ue)===Z&&(Re=new Re(G,q+"enter",_e,c,ue),Re.target=Q,Re.relatedTarget=_t,fe=Re),_t=fe,oe&&_e)t:{for(Re=hL,G=oe,q=_e,Q=0,fe=G;fe;fe=Re(fe))Q++;fe=0;for(var Ae=q;Ae;Ae=Re(Ae))fe++;for(;0<Q-fe;)G=Re(G),Q--;for(;0<fe-Q;)q=Re(q),fe--;for(;Q--;){if(G===q||q!==null&&G===q.alternate){Re=G;break t}G=Re(G),q=Re(q)}Re=null}else Re=null;oe!==null&&tC(he,ne,oe,Re,!1),_e!==null&&_t!==null&&tC(he,_t,_e,Re,!0)}}e:{if(ne=Z?As(Z):window,oe=ne.nodeName&&ne.nodeName.toLowerCase(),oe==="select"||oe==="input"&&ne.type==="file")var ot=y_;else if(g_(ne))if(b_)ot=CP;else{ot=_P;var Ne=wP}else oe=ne.nodeName,!oe||oe.toLowerCase()!=="input"||ne.type!=="checkbox"&&ne.type!=="radio"?Z&&Fm(Z.elementType)&&(ot=y_):ot=SP;if(ot&&(ot=ot(r,Z))){v_(he,ot,c,ue);break e}Ne&&Ne(r,ne,Z),r==="focusout"&&Z&&ne.type==="number"&&Z.memoizedProps.value!=null&&Im(ne,"number",ne.value)}switch(Ne=Z?As(Z):window,r){case"focusin":(g_(Ne)||Ne.contentEditable==="true")&&(al=Ne,Jm=Z,au=null);break;case"focusout":au=Jm=al=null;break;case"mousedown":Zm=!0;break;case"contextmenu":case"mouseup":case"dragend":Zm=!1,k_(he,c,ue);break;case"selectionchange":if(TP)break;case"keydown":case"keyup":k_(he,c,ue)}var $e;if(Ym)e:{switch(r){case"compositionstart":var Je="onCompositionStart";break e;case"compositionend":Je="onCompositionEnd";break e;case"compositionupdate":Je="onCompositionUpdate";break e}Je=void 0}else il?p_(r,c)&&(Je="onCompositionEnd"):r==="keydown"&&c.keyCode===229&&(Je="onCompositionStart");Je&&(d_&&c.locale!=="ko"&&(il||Je!=="onCompositionStart"?Je==="onCompositionEnd"&&il&&($e=a_()):(Wi=ue,$m="value"in Wi?Wi.value:Wi.textContent,il=!0)),Ne=Wf(Z,Je),0<Ne.length&&(Je=new c_(Je,r,null,c,ue),he.push({event:Je,listeners:Ne}),$e?Je.data=$e:($e=m_(c),$e!==null&&(Je.data=$e)))),($e=gP?vP(r,c):yP(r,c))&&(Je=Wf(Z,"onBeforeInput"),0<Je.length&&(Ne=new c_("onBeforeInput","beforeinput",null,c,ue),he.push({event:Ne,listeners:Je}),Ne.data=$e)),cL(he,r,Z,c,ue)}Z1(he,a)})}function ju(r,a,c){return{instance:r,listener:a,currentTarget:c}}function Wf(r,a){for(var c=a+"Capture",f=[];r!==null;){var y=r,b=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||b===null||(y=Jc(r,c),y!=null&&f.unshift(ju(r,y,b)),y=Jc(r,a),y!=null&&f.push(ju(r,y,b))),r.tag===3)return f;r=r.return}return[]}function hL(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function tC(r,a,c,f,y){for(var b=a._reactName,E=[];c!==null&&c!==f;){var M=c,U=M.alternate,Z=M.stateNode;if(M=M.tag,U!==null&&U===f)break;M!==5&&M!==26&&M!==27||Z===null||(U=Z,y?(Z=Jc(c,b),Z!=null&&E.unshift(ju(c,Z,U))):y||(Z=Jc(c,b),Z!=null&&E.push(ju(c,Z,U)))),c=c.return}E.length!==0&&r.push({event:a,listeners:E})}var pL=/\r\n?/g,mL=/\u0000|\uFFFD/g;function nC(r){return(typeof r=="string"?r:""+r).replace(pL,`
`).replace(mL,"")}function sC(r,a){return a=nC(a),nC(r)===a}function wt(r,a,c,f,y,b){switch(c){case"children":typeof f=="string"?a==="body"||a==="textarea"&&f===""||nl(r,f):(typeof f=="number"||typeof f=="bigint")&&a!=="body"&&nl(r,""+f);break;case"className":es(r,"class",f);break;case"tabIndex":es(r,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":es(r,c,f);break;case"style":s_(r,f,b);break;case"data":if(a!=="object"){es(r,"data",f);break}case"src":case"href":if(f===""&&(a!=="a"||c!=="href")){r.removeAttribute(c);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){r.removeAttribute(c);break}f=ef(""+f),r.setAttribute(c,f);break;case"action":case"formAction":if(typeof f=="function"){r.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(c==="formAction"?(a!=="input"&&wt(r,a,"name",y.name,y,null),wt(r,a,"formEncType",y.formEncType,y,null),wt(r,a,"formMethod",y.formMethod,y,null),wt(r,a,"formTarget",y.formTarget,y,null)):(wt(r,a,"encType",y.encType,y,null),wt(r,a,"method",y.method,y,null),wt(r,a,"target",y.target,y,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){r.removeAttribute(c);break}f=ef(""+f),r.setAttribute(c,f);break;case"onClick":f!=null&&(r.onclick=pi);break;case"onScroll":f!=null&&Ye("scroll",r);break;case"onScrollEnd":f!=null&&Ye("scrollend",r);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(s(61));if(c=f.__html,c!=null){if(y.children!=null)throw Error(s(60));r.innerHTML=c}}break;case"multiple":r.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":r.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){r.removeAttribute("xlink:href");break}c=ef(""+f),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(c,""+f):r.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(c,""):r.removeAttribute(c);break;case"capture":case"download":f===!0?r.setAttribute(c,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(c,f):r.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?r.setAttribute(c,f):r.removeAttribute(c);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?r.removeAttribute(c):r.setAttribute(c,f);break;case"popover":Ye("beforetoggle",r),Ye("toggle",r),br(r,"popover",f);break;case"xlinkActuate":Ht(r,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":Ht(r,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":Ht(r,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":Ht(r,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":Ht(r,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":Ht(r,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":Ht(r,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":Ht(r,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":Ht(r,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":br(r,"is",f);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=$D.get(c)||c,br(r,c,f))}}function Cv(r,a,c,f,y,b){switch(c){case"style":s_(r,f,b);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(s(61));if(c=f.__html,c!=null){if(y.children!=null)throw Error(s(60));r.innerHTML=c}}break;case"children":typeof f=="string"?nl(r,f):(typeof f=="number"||typeof f=="bigint")&&nl(r,""+f);break;case"onScroll":f!=null&&Ye("scroll",r);break;case"onScrollEnd":f!=null&&Ye("scrollend",r);break;case"onClick":f!=null&&(r.onclick=pi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Hs.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(y=c.endsWith("Capture"),a=c.slice(2,y?c.length-7:void 0),b=r[Dt]||null,b=b!=null?b[c]:null,typeof b=="function"&&r.removeEventListener(a,b,y),typeof f=="function")){typeof b!="function"&&b!==null&&(c in r?r[c]=null:r.hasAttribute(c)&&r.removeAttribute(c)),r.addEventListener(a,f,y);break e}c in r?r[c]=f:f===!0?r.setAttribute(c,""):br(r,c,f)}}}function Dn(r,a,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ye("error",r),Ye("load",r);var f=!1,y=!1,b;for(b in c)if(c.hasOwnProperty(b)){var E=c[b];if(E!=null)switch(b){case"src":f=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,a));default:wt(r,a,b,E,c,null)}}y&&wt(r,a,"srcSet",c.srcSet,c,null),f&&wt(r,a,"src",c.src,c,null);return;case"input":Ye("invalid",r);var M=b=E=y=null,U=null,Z=null;for(f in c)if(c.hasOwnProperty(f)){var ue=c[f];if(ue!=null)switch(f){case"name":y=ue;break;case"type":E=ue;break;case"checked":U=ue;break;case"defaultChecked":Z=ue;break;case"value":b=ue;break;case"defaultValue":M=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(s(137,a));break;default:wt(r,a,f,ue,c,null)}}Zw(r,b,M,U,Z,E,y,!1);return;case"select":Ye("invalid",r),f=E=b=null;for(y in c)if(c.hasOwnProperty(y)&&(M=c[y],M!=null))switch(y){case"value":b=M;break;case"defaultValue":E=M;break;case"multiple":f=M;default:wt(r,a,y,M,c,null)}a=b,c=E,r.multiple=!!f,a!=null?tl(r,!!f,a,!1):c!=null&&tl(r,!!f,c,!0);return;case"textarea":Ye("invalid",r),b=y=f=null;for(E in c)if(c.hasOwnProperty(E)&&(M=c[E],M!=null))switch(E){case"value":f=M;break;case"defaultValue":y=M;break;case"children":b=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(s(91));break;default:wt(r,a,E,M,c,null)}t_(r,f,y,b);return;case"option":for(U in c)if(c.hasOwnProperty(U)&&(f=c[U],f!=null))switch(U){case"selected":r.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:wt(r,a,U,f,c,null)}return;case"dialog":Ye("beforetoggle",r),Ye("toggle",r),Ye("cancel",r),Ye("close",r);break;case"iframe":case"object":Ye("load",r);break;case"video":case"audio":for(f=0;f<Ru.length;f++)Ye(Ru[f],r);break;case"image":Ye("error",r),Ye("load",r);break;case"details":Ye("toggle",r);break;case"embed":case"source":case"link":Ye("error",r),Ye("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in c)if(c.hasOwnProperty(Z)&&(f=c[Z],f!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,a));default:wt(r,a,Z,f,c,null)}return;default:if(Fm(a)){for(ue in c)c.hasOwnProperty(ue)&&(f=c[ue],f!==void 0&&Cv(r,a,ue,f,c,void 0));return}}for(M in c)c.hasOwnProperty(M)&&(f=c[M],f!=null&&wt(r,a,M,f,c,null))}function gL(r,a,c,f){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,b=null,E=null,M=null,U=null,Z=null,ue=null;for(oe in c){var he=c[oe];if(c.hasOwnProperty(oe)&&he!=null)switch(oe){case"checked":break;case"value":break;case"defaultValue":U=he;default:f.hasOwnProperty(oe)||wt(r,a,oe,null,f,he)}}for(var ne in f){var oe=f[ne];if(he=c[ne],f.hasOwnProperty(ne)&&(oe!=null||he!=null))switch(ne){case"type":b=oe;break;case"name":y=oe;break;case"checked":Z=oe;break;case"defaultChecked":ue=oe;break;case"value":E=oe;break;case"defaultValue":M=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(s(137,a));break;default:oe!==he&&wt(r,a,ne,oe,f,he)}}Lm(r,E,M,U,Z,ue,b,y);return;case"select":oe=E=M=ne=null;for(b in c)if(U=c[b],c.hasOwnProperty(b)&&U!=null)switch(b){case"value":break;case"multiple":oe=U;default:f.hasOwnProperty(b)||wt(r,a,b,null,f,U)}for(y in f)if(b=f[y],U=c[y],f.hasOwnProperty(y)&&(b!=null||U!=null))switch(y){case"value":ne=b;break;case"defaultValue":M=b;break;case"multiple":E=b;default:b!==U&&wt(r,a,y,b,f,U)}a=M,c=E,f=oe,ne!=null?tl(r,!!c,ne,!1):!!f!=!!c&&(a!=null?tl(r,!!c,a,!0):tl(r,!!c,c?[]:"",!1));return;case"textarea":oe=ne=null;for(M in c)if(y=c[M],c.hasOwnProperty(M)&&y!=null&&!f.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:wt(r,a,M,null,f,y)}for(E in f)if(y=f[E],b=c[E],f.hasOwnProperty(E)&&(y!=null||b!=null))switch(E){case"value":ne=y;break;case"defaultValue":oe=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(s(91));break;default:y!==b&&wt(r,a,E,y,f,b)}e_(r,ne,oe);return;case"option":for(var _e in c)if(ne=c[_e],c.hasOwnProperty(_e)&&ne!=null&&!f.hasOwnProperty(_e))switch(_e){case"selected":r.selected=!1;break;default:wt(r,a,_e,null,f,ne)}for(U in f)if(ne=f[U],oe=c[U],f.hasOwnProperty(U)&&ne!==oe&&(ne!=null||oe!=null))switch(U){case"selected":r.selected=ne&&typeof ne!="function"&&typeof ne!="symbol";break;default:wt(r,a,U,ne,f,oe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Re in c)ne=c[Re],c.hasOwnProperty(Re)&&ne!=null&&!f.hasOwnProperty(Re)&&wt(r,a,Re,null,f,ne);for(Z in f)if(ne=f[Z],oe=c[Z],f.hasOwnProperty(Z)&&ne!==oe&&(ne!=null||oe!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(s(137,a));break;default:wt(r,a,Z,ne,f,oe)}return;default:if(Fm(a)){for(var _t in c)ne=c[_t],c.hasOwnProperty(_t)&&ne!==void 0&&!f.hasOwnProperty(_t)&&Cv(r,a,_t,void 0,f,ne);for(ue in f)ne=f[ue],oe=c[ue],!f.hasOwnProperty(ue)||ne===oe||ne===void 0&&oe===void 0||Cv(r,a,ue,ne,f,oe);return}}for(var G in c)ne=c[G],c.hasOwnProperty(G)&&ne!=null&&!f.hasOwnProperty(G)&&wt(r,a,G,null,f,ne);for(he in f)ne=f[he],oe=c[he],!f.hasOwnProperty(he)||ne===oe||ne==null&&oe==null||wt(r,a,he,ne,f,oe)}function rC(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function vL(){if(typeof performance.getEntriesByType=="function"){for(var r=0,a=0,c=performance.getEntriesByType("resource"),f=0;f<c.length;f++){var y=c[f],b=y.transferSize,E=y.initiatorType,M=y.duration;if(b&&M&&rC(E)){for(E=0,M=y.responseEnd,f+=1;f<c.length;f++){var U=c[f],Z=U.startTime;if(Z>M)break;var ue=U.transferSize,he=U.initiatorType;ue&&rC(he)&&(U=U.responseEnd,E+=ue*(U<M?1:(M-Z)/(U-Z)))}if(--f,a+=8*(b+E)/(y.duration/1e3),r++,10<r)break}}if(0<r)return a/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var Ev=null,Tv=null;function Xf(r){return r.nodeType===9?r:r.ownerDocument}function iC(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function aC(r,a){if(r===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&a==="foreignObject"?0:r}function kv(r,a){return r==="textarea"||r==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Nv=null;function yL(){var r=window.event;return r&&r.type==="popstate"?r===Nv?!1:(Nv=r,!0):(Nv=null,!1)}var oC=typeof setTimeout=="function"?setTimeout:void 0,bL=typeof clearTimeout=="function"?clearTimeout:void 0,lC=typeof Promise=="function"?Promise:void 0,xL=typeof queueMicrotask=="function"?queueMicrotask:typeof lC<"u"?function(r){return lC.resolve(null).then(r).catch(wL)}:oC;function wL(r){setTimeout(function(){throw r})}function fa(r){return r==="head"}function cC(r,a){var c=a,f=0;do{var y=c.nextSibling;if(r.removeChild(c),y&&y.nodeType===8)if(c=y.data,c==="/$"||c==="/&"){if(f===0){r.removeChild(y),Ol(a);return}f--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")f++;else if(c==="html")Mu(r.ownerDocument.documentElement);else if(c==="head"){c=r.ownerDocument.head,Mu(c);for(var b=c.firstChild;b;){var E=b.nextSibling,M=b.nodeName;b[Jn]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&b.rel.toLowerCase()==="stylesheet"||c.removeChild(b),b=E}}else c==="body"&&Mu(r.ownerDocument.body);c=y}while(c);Ol(a)}function uC(r,a){var c=r;r=0;do{var f=c.nextSibling;if(c.nodeType===1?a?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(a?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),f&&f.nodeType===8)if(c=f.data,c==="/$"){if(r===0)break;r--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||r++;c=f}while(c)}function Av(r){var a=r.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var c=a;switch(a=a.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":Av(c),yr(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}r.removeChild(c)}}function _L(r,a,c,f){for(;r.nodeType===1;){var y=c;if(r.nodeName.toLowerCase()!==a.toLowerCase()){if(!f&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(f){if(!r[Jn])switch(a){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(b=r.getAttribute("rel"),b==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(b!==y.rel||r.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||r.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||r.getAttribute("title")!==(y.title==null?null:y.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(b=r.getAttribute("src"),(b!==(y.src==null?null:y.src)||r.getAttribute("type")!==(y.type==null?null:y.type)||r.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&b&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(a==="input"&&r.type==="hidden"){var b=y.name==null?null:""+y.name;if(y.type==="hidden"&&r.getAttribute("name")===b)return r}else return r;if(r=Zs(r.nextSibling),r===null)break}return null}function SL(r,a,c){if(a==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!c||(r=Zs(r.nextSibling),r===null))return null;return r}function dC(r,a){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!a||(r=Zs(r.nextSibling),r===null))return null;return r}function Rv(r){return r.data==="$?"||r.data==="$~"}function jv(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function CL(r,a){var c=r.ownerDocument;if(r.data==="$~")r._reactRetry=a;else if(r.data!=="$?"||c.readyState!=="loading")a();else{var f=function(){a(),c.removeEventListener("DOMContentLoaded",f)};c.addEventListener("DOMContentLoaded",f),r._reactRetry=f}}function Zs(r){for(;r!=null;r=r.nextSibling){var a=r.nodeType;if(a===1||a===3)break;if(a===8){if(a=r.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return r}var Mv=null;function fC(r){r=r.nextSibling;for(var a=0;r;){if(r.nodeType===8){var c=r.data;if(c==="/$"||c==="/&"){if(a===0)return Zs(r.nextSibling);a--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||a++}r=r.nextSibling}return null}function hC(r){r=r.previousSibling;for(var a=0;r;){if(r.nodeType===8){var c=r.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(a===0)return r;a--}else c!=="/$"&&c!=="/&"||a++}r=r.previousSibling}return null}function pC(r,a,c){switch(a=Xf(c),r){case"html":if(r=a.documentElement,!r)throw Error(s(452));return r;case"head":if(r=a.head,!r)throw Error(s(453));return r;case"body":if(r=a.body,!r)throw Error(s(454));return r;default:throw Error(s(451))}}function Mu(r){for(var a=r.attributes;a.length;)r.removeAttributeNode(a[0]);yr(r)}var er=new Map,mC=new Set;function Qf(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Ri=B.d;B.d={f:EL,r:TL,D:kL,C:NL,L:AL,m:RL,X:ML,S:jL,M:OL};function EL(){var r=Ri.f(),a=Vf();return r||a}function TL(r){var a=Ns(r);a!==null&&a.tag===5&&a.type==="form"?MS(a):Ri.r(r)}var Rl=typeof document>"u"?null:document;function gC(r,a,c){var f=Rl;if(f&&typeof a=="string"&&a){var y=Ks(a);y='link[rel="'+r+'"][href="'+y+'"]',typeof c=="string"&&(y+='[crossorigin="'+c+'"]'),mC.has(y)||(mC.add(y),r={rel:r,crossOrigin:c,href:a},f.querySelector(y)===null&&(a=f.createElement("link"),Dn(a,"link",r),kt(a),f.head.appendChild(a)))}}function kL(r){Ri.D(r),gC("dns-prefetch",r,null)}function NL(r,a){Ri.C(r,a),gC("preconnect",r,a)}function AL(r,a,c){Ri.L(r,a,c);var f=Rl;if(f&&r&&a){var y='link[rel="preload"][as="'+Ks(a)+'"]';a==="image"&&c&&c.imageSrcSet?(y+='[imagesrcset="'+Ks(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(y+='[imagesizes="'+Ks(c.imageSizes)+'"]')):y+='[href="'+Ks(r)+'"]';var b=y;switch(a){case"style":b=jl(r);break;case"script":b=Ml(r)}er.has(b)||(r=p({rel:"preload",href:a==="image"&&c&&c.imageSrcSet?void 0:r,as:a},c),er.set(b,r),f.querySelector(y)!==null||a==="style"&&f.querySelector(Ou(b))||a==="script"&&f.querySelector(Du(b))||(a=f.createElement("link"),Dn(a,"link",r),kt(a),f.head.appendChild(a)))}}function RL(r,a){Ri.m(r,a);var c=Rl;if(c&&r){var f=a&&typeof a.as=="string"?a.as:"script",y='link[rel="modulepreload"][as="'+Ks(f)+'"][href="'+Ks(r)+'"]',b=y;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=Ml(r)}if(!er.has(b)&&(r=p({rel:"modulepreload",href:r},a),er.set(b,r),c.querySelector(y)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Du(b)))return}f=c.createElement("link"),Dn(f,"link",r),kt(f),c.head.appendChild(f)}}}function jL(r,a,c){Ri.S(r,a,c);var f=Rl;if(f&&r){var y=Zn(f).hoistableStyles,b=jl(r);a=a||"default";var E=y.get(b);if(!E){var M={loading:0,preload:null};if(E=f.querySelector(Ou(b)))M.loading=5;else{r=p({rel:"stylesheet",href:r,"data-precedence":a},c),(c=er.get(b))&&Ov(r,c);var U=E=f.createElement("link");kt(U),Dn(U,"link",r),U._p=new Promise(function(Z,ue){U.onload=Z,U.onerror=ue}),U.addEventListener("load",function(){M.loading|=1}),U.addEventListener("error",function(){M.loading|=2}),M.loading|=4,Jf(E,a,f)}E={type:"stylesheet",instance:E,count:1,state:M},y.set(b,E)}}}function ML(r,a){Ri.X(r,a);var c=Rl;if(c&&r){var f=Zn(c).hoistableScripts,y=Ml(r),b=f.get(y);b||(b=c.querySelector(Du(y)),b||(r=p({src:r,async:!0},a),(a=er.get(y))&&Dv(r,a),b=c.createElement("script"),kt(b),Dn(b,"link",r),c.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},f.set(y,b))}}function OL(r,a){Ri.M(r,a);var c=Rl;if(c&&r){var f=Zn(c).hoistableScripts,y=Ml(r),b=f.get(y);b||(b=c.querySelector(Du(y)),b||(r=p({src:r,async:!0,type:"module"},a),(a=er.get(y))&&Dv(r,a),b=c.createElement("script"),kt(b),Dn(b,"link",r),c.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},f.set(y,b))}}function vC(r,a,c,f){var y=(y=ce.current)?Qf(y):null;if(!y)throw Error(s(446));switch(r){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(a=jl(c.href),c=Zn(y).hoistableStyles,f=c.get(a),f||(f={type:"style",instance:null,count:0,state:null},c.set(a,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){r=jl(c.href);var b=Zn(y).hoistableStyles,E=b.get(r);if(E||(y=y.ownerDocument||y,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(r,E),(b=y.querySelector(Ou(r)))&&!b._p&&(E.instance=b,E.state.loading=5),er.has(r)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},er.set(r,c),b||DL(y,r,c,E.state))),a&&f===null)throw Error(s(528,""));return E}if(a&&f!==null)throw Error(s(529,""));return null;case"script":return a=c.async,c=c.src,typeof c=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Ml(c),c=Zn(y).hoistableScripts,f=c.get(a),f||(f={type:"script",instance:null,count:0,state:null},c.set(a,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,r))}}function jl(r){return'href="'+Ks(r)+'"'}function Ou(r){return'link[rel="stylesheet"]['+r+"]"}function yC(r){return p({},r,{"data-precedence":r.precedence,precedence:null})}function DL(r,a,c,f){r.querySelector('link[rel="preload"][as="style"]['+a+"]")?f.loading=1:(a=r.createElement("link"),f.preload=a,a.addEventListener("load",function(){return f.loading|=1}),a.addEventListener("error",function(){return f.loading|=2}),Dn(a,"link",c),kt(a),r.head.appendChild(a))}function Ml(r){return'[src="'+Ks(r)+'"]'}function Du(r){return"script[async]"+r}function bC(r,a,c){if(a.count++,a.instance===null)switch(a.type){case"style":var f=r.querySelector('style[data-href~="'+Ks(c.href)+'"]');if(f)return a.instance=f,kt(f),f;var y=p({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return f=(r.ownerDocument||r).createElement("style"),kt(f),Dn(f,"style",y),Jf(f,c.precedence,r),a.instance=f;case"stylesheet":y=jl(c.href);var b=r.querySelector(Ou(y));if(b)return a.state.loading|=4,a.instance=b,kt(b),b;f=yC(c),(y=er.get(y))&&Ov(f,y),b=(r.ownerDocument||r).createElement("link"),kt(b);var E=b;return E._p=new Promise(function(M,U){E.onload=M,E.onerror=U}),Dn(b,"link",f),a.state.loading|=4,Jf(b,c.precedence,r),a.instance=b;case"script":return b=Ml(c.src),(y=r.querySelector(Du(b)))?(a.instance=y,kt(y),y):(f=c,(y=er.get(b))&&(f=p({},c),Dv(f,y)),r=r.ownerDocument||r,y=r.createElement("script"),kt(y),Dn(y,"link",f),r.head.appendChild(y),a.instance=y);case"void":return null;default:throw Error(s(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(f=a.instance,a.state.loading|=4,Jf(f,c.precedence,r));return a.instance}function Jf(r,a,c){for(var f=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=f.length?f[f.length-1]:null,b=y,E=0;E<f.length;E++){var M=f[E];if(M.dataset.precedence===a)b=M;else if(b!==y)break}b?b.parentNode.insertBefore(r,b.nextSibling):(a=c.nodeType===9?c.head:c,a.insertBefore(r,a.firstChild))}function Ov(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.title==null&&(r.title=a.title)}function Dv(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.integrity==null&&(r.integrity=a.integrity)}var Zf=null;function xC(r,a,c){if(Zf===null){var f=new Map,y=Zf=new Map;y.set(c,f)}else y=Zf,f=y.get(c),f||(f=new Map,y.set(c,f));if(f.has(r))return f;for(f.set(r,null),c=c.getElementsByTagName(r),y=0;y<c.length;y++){var b=c[y];if(!(b[Jn]||b[Tt]||r==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var E=b.getAttribute(a)||"";E=r+E;var M=f.get(E);M?M.push(b):f.set(E,[b])}}return f}function wC(r,a,c){r=r.ownerDocument||r,r.head.insertBefore(c,a==="title"?r.querySelector("head > title"):null)}function PL(r,a,c){if(c===1||a.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return r=a.disabled,typeof a.precedence=="string"&&r==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function _C(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function LL(r,a,c,f){if(c.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var y=jl(f.href),b=a.querySelector(Ou(y));if(b){a=b._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(r.count++,r=eh.bind(r),a.then(r,r)),c.state.loading|=4,c.instance=b,kt(b);return}b=a.ownerDocument||a,f=yC(f),(y=er.get(y))&&Ov(f,y),b=b.createElement("link"),kt(b);var E=b;E._p=new Promise(function(M,U){E.onload=M,E.onerror=U}),Dn(b,"link",f),c.instance=b}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(c,a),(a=c.state.preload)&&(c.state.loading&3)===0&&(r.count++,c=eh.bind(r),a.addEventListener("load",c),a.addEventListener("error",c))}}var Pv=0;function IL(r,a){return r.stylesheets&&r.count===0&&nh(r,r.stylesheets),0<r.count||0<r.imgCount?function(c){var f=setTimeout(function(){if(r.stylesheets&&nh(r,r.stylesheets),r.unsuspend){var b=r.unsuspend;r.unsuspend=null,b()}},6e4+a);0<r.imgBytes&&Pv===0&&(Pv=62500*vL());var y=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&nh(r,r.stylesheets),r.unsuspend)){var b=r.unsuspend;r.unsuspend=null,b()}},(r.imgBytes>Pv?50:800)+a);return r.unsuspend=c,function(){r.unsuspend=null,clearTimeout(f),clearTimeout(y)}}:null}function eh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)nh(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var th=null;function nh(r,a){r.stylesheets=null,r.unsuspend!==null&&(r.count++,th=new Map,a.forEach(FL,r),th=null,eh.call(r))}function FL(r,a){if(!(a.state.loading&4)){var c=th.get(r);if(c)var f=c.get(null);else{c=new Map,th.set(r,c);for(var y=r.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<y.length;b++){var E=y[b];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(c.set(E.dataset.precedence,E),f=E)}f&&c.set(null,f)}y=a.instance,E=y.getAttribute("data-precedence"),b=c.get(E)||f,b===f&&c.set(null,y),c.set(E,y),this.count++,f=eh.bind(this),y.addEventListener("load",f),y.addEventListener("error",f),b?b.parentNode.insertBefore(y,b.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(y,r.firstChild)),a.state.loading|=4}}var Pu={$$typeof:k,Provider:null,Consumer:null,_currentValue:F,_currentValue2:F,_threadCount:0};function zL(r,a,c,f,y,b,E,M,U){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_n(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_n(0),this.hiddenUpdates=_n(null),this.identifierPrefix=f,this.onUncaughtError=y,this.onCaughtError=b,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function SC(r,a,c,f,y,b,E,M,U,Z,ue,he){return r=new zL(r,a,c,E,U,Z,ue,he,M),a=1,b===!0&&(a|=24),b=js(3,null,null,a),r.current=b,b.stateNode=r,a=pg(),a.refCount++,r.pooledCache=a,a.refCount++,b.memoizedState={element:f,isDehydrated:c,cache:a},yg(b),r}function CC(r){return r?(r=cl,r):cl}function EC(r,a,c,f,y,b){y=CC(y),f.context===null?f.context=y:f.pendingContext=y,f=ta(a),f.payload={element:c},b=b===void 0?null:b,b!==null&&(f.callback=b),c=na(r,f,a),c!==null&&(gs(c,r,a),hu(c,r,a))}function TC(r,a){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var c=r.retryLane;r.retryLane=c!==0&&c<a?c:a}}function Lv(r,a){TC(r,a),(r=r.alternate)&&TC(r,a)}function kC(r){if(r.tag===13||r.tag===31){var a=Za(r,67108864);a!==null&&gs(a,r,67108864),Lv(r,67108864)}}function NC(r){if(r.tag===13||r.tag===31){var a=Ls();a=Qn(a);var c=Za(r,a);c!==null&&gs(c,r,a),Lv(r,a)}}var sh=!0;function BL(r,a,c,f){var y=R.T;R.T=null;var b=B.p;try{B.p=2,Iv(r,a,c,f)}finally{B.p=b,R.T=y}}function UL(r,a,c,f){var y=R.T;R.T=null;var b=B.p;try{B.p=8,Iv(r,a,c,f)}finally{B.p=b,R.T=y}}function Iv(r,a,c,f){if(sh){var y=Fv(f);if(y===null)Sv(r,a,f,rh,c),RC(r,f);else if($L(y,r,a,c,f))f.stopPropagation();else if(RC(r,f),a&4&&-1<VL.indexOf(r)){for(;y!==null;){var b=Ns(y);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var E=ct(b.pendingLanes);if(E!==0){var M=b;for(M.pendingLanes|=2,M.entangledLanes|=2;E;){var U=1<<31-Ft(E);M.entanglements[1]|=U,E&=~U}Br(b),(ut&6)===0&&(Bf=pt()+500,Au(0))}}break;case 31:case 13:M=Za(b,2),M!==null&&gs(M,b,2),Vf(),Lv(b,2)}if(b=Fv(f),b===null&&Sv(r,a,f,rh,c),b===y)break;y=b}y!==null&&f.stopPropagation()}else Sv(r,a,f,null,c)}}function Fv(r){return r=Bm(r),zv(r)}var rh=null;function zv(r){if(rh=null,r=mn(r),r!==null){var a=o(r);if(a===null)r=null;else{var c=a.tag;if(c===13){if(r=l(a),r!==null)return r;r=null}else if(c===31){if(r=u(a),r!==null)return r;r=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;r=null}else a!==r&&(r=null)}}return rh=r,null}function AC(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Or()){case Bn:return 2;case Xn:return 8;case Un:case gr:return 32;case ls:return 268435456;default:return 32}default:return 32}}var Bv=!1,ha=null,pa=null,ma=null,Lu=new Map,Iu=new Map,ga=[],VL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function RC(r,a){switch(r){case"focusin":case"focusout":ha=null;break;case"dragenter":case"dragleave":pa=null;break;case"mouseover":case"mouseout":ma=null;break;case"pointerover":case"pointerout":Lu.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Iu.delete(a.pointerId)}}function Fu(r,a,c,f,y,b){return r===null||r.nativeEvent!==b?(r={blockedOn:a,domEventName:c,eventSystemFlags:f,nativeEvent:b,targetContainers:[y]},a!==null&&(a=Ns(a),a!==null&&kC(a)),r):(r.eventSystemFlags|=f,a=r.targetContainers,y!==null&&a.indexOf(y)===-1&&a.push(y),r)}function $L(r,a,c,f,y){switch(a){case"focusin":return ha=Fu(ha,r,a,c,f,y),!0;case"dragenter":return pa=Fu(pa,r,a,c,f,y),!0;case"mouseover":return ma=Fu(ma,r,a,c,f,y),!0;case"pointerover":var b=y.pointerId;return Lu.set(b,Fu(Lu.get(b)||null,r,a,c,f,y)),!0;case"gotpointercapture":return b=y.pointerId,Iu.set(b,Fu(Iu.get(b)||null,r,a,c,f,y)),!0}return!1}function jC(r){var a=mn(r.target);if(a!==null){var c=o(a);if(c!==null){if(a=c.tag,a===13){if(a=l(c),a!==null){r.blockedOn=a,Vs(r.priority,function(){NC(c)});return}}else if(a===31){if(a=u(c),a!==null){r.blockedOn=a,Vs(r.priority,function(){NC(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){r.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}r.blockedOn=null}function ih(r){if(r.blockedOn!==null)return!1;for(var a=r.targetContainers;0<a.length;){var c=Fv(r.nativeEvent);if(c===null){c=r.nativeEvent;var f=new c.constructor(c.type,c);zm=f,c.target.dispatchEvent(f),zm=null}else return a=Ns(c),a!==null&&kC(a),r.blockedOn=c,!1;a.shift()}return!0}function MC(r,a,c){ih(r)&&c.delete(a)}function HL(){Bv=!1,ha!==null&&ih(ha)&&(ha=null),pa!==null&&ih(pa)&&(pa=null),ma!==null&&ih(ma)&&(ma=null),Lu.forEach(MC),Iu.forEach(MC)}function ah(r,a){r.blockedOn===a&&(r.blockedOn=null,Bv||(Bv=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,HL)))}var oh=null;function OC(r){oh!==r&&(oh=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){oh===r&&(oh=null);for(var a=0;a<r.length;a+=3){var c=r[a],f=r[a+1],y=r[a+2];if(typeof f!="function"){if(zv(f||c)===null)continue;break}var b=Ns(c);b!==null&&(r.splice(a,3),a-=3,Fg(b,{pending:!0,data:y,method:c.method,action:f},f,y))}}))}function Ol(r){function a(U){return ah(U,r)}ha!==null&&ah(ha,r),pa!==null&&ah(pa,r),ma!==null&&ah(ma,r),Lu.forEach(a),Iu.forEach(a);for(var c=0;c<ga.length;c++){var f=ga[c];f.blockedOn===r&&(f.blockedOn=null)}for(;0<ga.length&&(c=ga[0],c.blockedOn===null);)jC(c),c.blockedOn===null&&ga.shift();if(c=(r.ownerDocument||r).$$reactFormReplay,c!=null)for(f=0;f<c.length;f+=3){var y=c[f],b=c[f+1],E=y[Dt]||null;if(typeof b=="function")E||OC(c);else if(E){var M=null;if(b&&b.hasAttribute("formAction")){if(y=b,E=b[Dt]||null)M=E.formAction;else if(zv(y)!==null)continue}else M=E.action;typeof M=="function"?c[f+1]=M:(c.splice(f,3),f-=3),OC(c)}}}function DC(){function r(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(E){return y=E})},focusReset:"manual",scroll:"manual"})}function a(){y!==null&&(y(),y=null),f||setTimeout(c,20)}function c(){if(!f&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var f=!1,y=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(c,100),function(){f=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),y!==null&&(y(),y=null)}}}function Uv(r){this._internalRoot=r}lh.prototype.render=Uv.prototype.render=function(r){var a=this._internalRoot;if(a===null)throw Error(s(409));var c=a.current,f=Ls();EC(c,f,r,a,null,null)},lh.prototype.unmount=Uv.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var a=r.containerInfo;EC(r.current,2,null,r,null,null),Vf(),a[An]=null}};function lh(r){this._internalRoot=r}lh.prototype.unstable_scheduleHydration=function(r){if(r){var a=Pr();r={blockedOn:null,target:r,priority:a};for(var c=0;c<ga.length&&a!==0&&a<ga[c].priority;c++);ga.splice(c,0,r),c===0&&jC(r)}};var PC=e.version;if(PC!=="19.2.0")throw Error(s(527,PC,"19.2.0"));B.findDOMNode=function(r){var a=r._reactInternals;if(a===void 0)throw typeof r.render=="function"?Error(s(188)):(r=Object.keys(r).join(","),Error(s(268,r)));return r=h(a),r=r!==null?m(r):null,r=r===null?null:r.stateNode,r};var qL={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ch=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ch.isDisabled&&ch.supportsFiber)try{Qt=ch.inject(qL),on=ch}catch{}}return Uu.createRoot=function(r,a){if(!i(r))throw Error(s(299));var c=!1,f="",y=VS,b=$S,E=HS;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(y=a.onUncaughtError),a.onCaughtError!==void 0&&(b=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError)),a=SC(r,1,!1,null,null,c,f,null,y,b,E,DC),r[An]=a.current,_v(r),new Uv(a)},Uu.hydrateRoot=function(r,a,c){if(!i(r))throw Error(s(299));var f=!1,y="",b=VS,E=$S,M=HS,U=null;return c!=null&&(c.unstable_strictMode===!0&&(f=!0),c.identifierPrefix!==void 0&&(y=c.identifierPrefix),c.onUncaughtError!==void 0&&(b=c.onUncaughtError),c.onCaughtError!==void 0&&(E=c.onCaughtError),c.onRecoverableError!==void 0&&(M=c.onRecoverableError),c.formState!==void 0&&(U=c.formState)),a=SC(r,1,!0,a,c??null,f,y,U,b,E,M,DC),a.context=CC(null),c=a.current,f=Ls(),f=Qn(f),y=ta(f),y.callback=null,na(c,y,f),c=f,a.current.lanes=c,Xe(a,c),Br(a),r[An]=a.current,_v(r),new lh(a)},Uu.version="19.2.0",Uu}var ZC;function y4(){if(ZC)return Yv.exports;ZC=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Yv.exports=v4(),Yv.exports}var b4=y4();const x4=Yp(b4);function eE(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function UN(...t){return e=>{let n=!1;const s=t.map(i=>{const o=eE(i,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let i=0;i<s.length;i++){const o=s[i];typeof o=="function"?o():eE(t[i],null)}}}}function vt(...t){return S.useCallback(UN(...t),t)}function Cc(t){const e=w4(t),n=S.forwardRef((s,i)=>{const{children:o,...l}=s,u=S.Children.toArray(o),d=u.find(S4);if(d){const h=d.props.children,m=u.map(p=>p===d?S.Children.count(h)>1?S.Children.only(null):S.isValidElement(h)?h.props.children:null:p);return g.jsx(e,{...l,ref:i,children:S.isValidElement(h)?S.cloneElement(h,void 0,m):null})}return g.jsx(e,{...l,ref:i,children:o})});return n.displayName=`${t}.Slot`,n}var Qp=Cc("Slot");function w4(t){const e=S.forwardRef((n,s)=>{const{children:i,...o}=n;if(S.isValidElement(i)){const l=E4(i),u=C4(o,i.props);return i.type!==S.Fragment&&(u.ref=s?UN(s,l):l),S.cloneElement(i,u)}return S.Children.count(i)>1?S.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var VN=Symbol("radix.slottable");function _4(t){const e=({children:n})=>g.jsx(g.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=VN,e}function S4(t){return S.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===VN}function C4(t,e){const n={...e};for(const s in e){const i=t[s],o=e[s];/^on[A-Z]/.test(s)?i&&o?n[s]=(...u)=>{const d=o(...u);return i(...u),d}:i&&(n[s]=i):s==="style"?n[s]={...i,...o}:s==="className"&&(n[s]=[i,o].filter(Boolean).join(" "))}return{...t,...n}}function E4(t){var s,i;let e=(s=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function $N(t){var e,n,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=$N(t[e]))&&(s&&(s+=" "),s+=n)}else for(n in t)t[n]&&(s&&(s+=" "),s+=n);return s}function HN(){for(var t,e,n=0,s="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=$N(t))&&(s&&(s+=" "),s+=e);return s}const tE=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,nE=HN,px=(t,e)=>n=>{var s;if((e==null?void 0:e.variants)==null)return nE(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:o}=e,l=Object.keys(i).map(h=>{const m=n==null?void 0:n[h],p=o==null?void 0:o[h];if(m===null)return null;const v=tE(m)||tE(p);return i[h][v]}),u=n&&Object.entries(n).reduce((h,m)=>{let[p,v]=m;return v===void 0||(h[p]=v),h},{}),d=e==null||(s=e.compoundVariants)===null||s===void 0?void 0:s.reduce((h,m)=>{let{class:p,className:v,...x}=m;return Object.entries(x).every(_=>{let[w,C]=_;return Array.isArray(C)?C.includes({...o,...u}[w]):{...o,...u}[w]===C})?[...h,p,v]:h},[]);return nE(t,l,d,n==null?void 0:n.class,n==null?void 0:n.className)},mx="-",T4=t=>{const e=N4(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=t;return{getClassGroupId:l=>{const u=l.split(mx);return u[0]===""&&u.length!==1&&u.shift(),qN(u,e)||k4(l)},getConflictingClassGroupIds:(l,u)=>{const d=n[l]||[];return u&&s[l]?[...d,...s[l]]:d}}},qN=(t,e)=>{var l;if(t.length===0)return e.classGroupId;const n=t[0],s=e.nextPart.get(n),i=s?qN(t.slice(1),s):void 0;if(i)return i;if(e.validators.length===0)return;const o=t.join(mx);return(l=e.validators.find(({validator:u})=>u(o)))==null?void 0:l.classGroupId},sE=/^\[(.+)\]$/,k4=t=>{if(sE.test(t)){const e=sE.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},N4=t=>{const{theme:e,classGroups:n}=t,s={nextPart:new Map,validators:[]};for(const i in n)m0(n[i],s,i,e);return s},m0=(t,e,n,s)=>{t.forEach(i=>{if(typeof i=="string"){const o=i===""?e:rE(e,i);o.classGroupId=n;return}if(typeof i=="function"){if(A4(i)){m0(i(s),e,n,s);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([o,l])=>{m0(l,rE(e,o),n,s)})})},rE=(t,e)=>{let n=t;return e.split(mx).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},A4=t=>t.isThemeGetter,R4=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,s=new Map;const i=(o,l)=>{n.set(o,l),e++,e>t&&(e=0,s=n,n=new Map)};return{get(o){let l=n.get(o);if(l!==void 0)return l;if((l=s.get(o))!==void 0)return i(o,l),l},set(o,l){n.has(o)?n.set(o,l):i(o,l)}}},g0="!",v0=":",j4=v0.length,M4=t=>{const{prefix:e,experimentalParseClassName:n}=t;let s=i=>{const o=[];let l=0,u=0,d=0,h;for(let _=0;_<i.length;_++){let w=i[_];if(l===0&&u===0){if(w===v0){o.push(i.slice(d,_)),d=_+j4;continue}if(w==="/"){h=_;continue}}w==="["?l++:w==="]"?l--:w==="("?u++:w===")"&&u--}const m=o.length===0?i:i.substring(d),p=O4(m),v=p!==m,x=h&&h>d?h-d:void 0;return{modifiers:o,hasImportantModifier:v,baseClassName:p,maybePostfixModifierPosition:x}};if(e){const i=e+v0,o=s;s=l=>l.startsWith(i)?o(l.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:l,maybePostfixModifierPosition:void 0}}if(n){const i=s;s=o=>n({className:o,parseClassName:i})}return s},O4=t=>t.endsWith(g0)?t.substring(0,t.length-1):t.startsWith(g0)?t.substring(1):t,D4=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(s=>[s,!0]));return s=>{if(s.length<=1)return s;const i=[];let o=[];return s.forEach(l=>{l[0]==="["||e[l]?(i.push(...o.sort(),l),o=[]):o.push(l)}),i.push(...o.sort()),i}},P4=t=>({cache:R4(t.cacheSize),parseClassName:M4(t),sortModifiers:D4(t),...T4(t)}),L4=/\s+/,I4=(t,e)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:i,sortModifiers:o}=e,l=[],u=t.trim().split(L4);let d="";for(let h=u.length-1;h>=0;h-=1){const m=u[h],{isExternal:p,modifiers:v,hasImportantModifier:x,baseClassName:_,maybePostfixModifierPosition:w}=n(m);if(p){d=m+(d.length>0?" "+d:d);continue}let C=!!w,T=s(C?_.substring(0,w):_);if(!T){if(!C){d=m+(d.length>0?" "+d:d);continue}if(T=s(_),!T){d=m+(d.length>0?" "+d:d);continue}C=!1}const N=o(v).join(":"),k=x?N+g0:N,A=k+T;if(l.includes(A))continue;l.push(A);const O=i(T,C);for(let P=0;P<O.length;++P){const j=O[P];l.push(k+j)}d=m+(d.length>0?" "+d:d)}return d};function F4(){let t=0,e,n,s="";for(;t<arguments.length;)(e=arguments[t++])&&(n=KN(e))&&(s&&(s+=" "),s+=n);return s}const KN=t=>{if(typeof t=="string")return t;let e,n="";for(let s=0;s<t.length;s++)t[s]&&(e=KN(t[s]))&&(n&&(n+=" "),n+=e);return n};function z4(t,...e){let n,s,i,o=l;function l(d){const h=e.reduce((m,p)=>p(m),t());return n=P4(h),s=n.cache.get,i=n.cache.set,o=u,u(d)}function u(d){const h=s(d);if(h)return h;const m=I4(d,n);return i(d,m),m}return function(){return o(F4.apply(null,arguments))}}const yn=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},GN=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,YN=/^\((?:(\w[\w-]*):)?(.+)\)$/i,B4=/^\d+\/\d+$/,U4=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,V4=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,$4=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,H4=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,q4=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Pl=t=>B4.test(t),He=t=>!!t&&!Number.isNaN(Number(t)),ya=t=>!!t&&Number.isInteger(Number(t)),Jv=t=>t.endsWith("%")&&He(t.slice(0,-1)),ji=t=>U4.test(t),K4=()=>!0,G4=t=>V4.test(t)&&!$4.test(t),WN=()=>!1,Y4=t=>H4.test(t),W4=t=>q4.test(t),X4=t=>!Te(t)&&!ke(t),Q4=t=>Bc(t,JN,WN),Te=t=>GN.test(t),ho=t=>Bc(t,ZN,G4),Zv=t=>Bc(t,n5,He),iE=t=>Bc(t,XN,WN),J4=t=>Bc(t,QN,W4),hh=t=>Bc(t,eA,Y4),ke=t=>YN.test(t),Vu=t=>Uc(t,ZN),Z4=t=>Uc(t,s5),aE=t=>Uc(t,XN),e5=t=>Uc(t,JN),t5=t=>Uc(t,QN),ph=t=>Uc(t,eA,!0),Bc=(t,e,n)=>{const s=GN.exec(t);return s?s[1]?e(s[1]):n(s[2]):!1},Uc=(t,e,n=!1)=>{const s=YN.exec(t);return s?s[1]?e(s[1]):n:!1},XN=t=>t==="position"||t==="percentage",QN=t=>t==="image"||t==="url",JN=t=>t==="length"||t==="size"||t==="bg-size",ZN=t=>t==="length",n5=t=>t==="number",s5=t=>t==="family-name",eA=t=>t==="shadow",r5=()=>{const t=yn("color"),e=yn("font"),n=yn("text"),s=yn("font-weight"),i=yn("tracking"),o=yn("leading"),l=yn("breakpoint"),u=yn("container"),d=yn("spacing"),h=yn("radius"),m=yn("shadow"),p=yn("inset-shadow"),v=yn("text-shadow"),x=yn("drop-shadow"),_=yn("blur"),w=yn("perspective"),C=yn("aspect"),T=yn("ease"),N=yn("animate"),k=()=>["auto","avoid","all","avoid-page","page","left","right","column"],A=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],O=()=>[...A(),ke,Te],P=()=>["auto","hidden","clip","visible","scroll"],j=()=>["auto","contain","none"],D=()=>[ke,Te,d],z=()=>[Pl,"full","auto",...D()],I=()=>[ya,"none","subgrid",ke,Te],H=()=>["auto",{span:["full",ya,ke,Te]},ya,ke,Te],V=()=>[ya,"auto",ke,Te],X=()=>["auto","min","max","fr",ke,Te],J=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ie=()=>["start","end","center","stretch","center-safe","end-safe"],R=()=>["auto",...D()],B=()=>[Pl,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...D()],F=()=>[t,ke,Te],se=()=>[...A(),aE,iE,{position:[ke,Te]}],W=()=>["no-repeat",{repeat:["","x","y","space","round"]}],L=()=>["auto","cover","contain",e5,Q4,{size:[ke,Te]}],$=()=>[Jv,Vu,ho],Y=()=>["","none","full",h,ke,Te],ee=()=>["",He,Vu,ho],de=()=>["solid","dashed","dotted","double"],ce=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ae=()=>[He,Jv,aE,iE],me=()=>["","none",_,ke,Te],ge=()=>["none",He,ke,Te],pe=()=>["none",He,ke,Te],Ce=()=>[He,ke,Te],Ee=()=>[Pl,"full",...D()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ji],breakpoint:[ji],color:[K4],container:[ji],"drop-shadow":[ji],ease:["in","out","in-out"],font:[X4],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ji],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ji],shadow:[ji],spacing:["px",He],text:[ji],"text-shadow":[ji],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Pl,Te,ke,C]}],container:["container"],columns:[{columns:[He,Te,ke,u]}],"break-after":[{"break-after":k()}],"break-before":[{"break-before":k()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:O()}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:j()}],"overscroll-x":[{"overscroll-x":j()}],"overscroll-y":[{"overscroll-y":j()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:z()}],"inset-x":[{"inset-x":z()}],"inset-y":[{"inset-y":z()}],start:[{start:z()}],end:[{end:z()}],top:[{top:z()}],right:[{right:z()}],bottom:[{bottom:z()}],left:[{left:z()}],visibility:["visible","invisible","collapse"],z:[{z:[ya,"auto",ke,Te]}],basis:[{basis:[Pl,"full","auto",u,...D()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[He,Pl,"auto","initial","none",Te]}],grow:[{grow:["",He,ke,Te]}],shrink:[{shrink:["",He,ke,Te]}],order:[{order:[ya,"first","last","none",ke,Te]}],"grid-cols":[{"grid-cols":I()}],"col-start-end":[{col:H()}],"col-start":[{"col-start":V()}],"col-end":[{"col-end":V()}],"grid-rows":[{"grid-rows":I()}],"row-start-end":[{row:H()}],"row-start":[{"row-start":V()}],"row-end":[{"row-end":V()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":X()}],"auto-rows":[{"auto-rows":X()}],gap:[{gap:D()}],"gap-x":[{"gap-x":D()}],"gap-y":[{"gap-y":D()}],"justify-content":[{justify:[...J(),"normal"]}],"justify-items":[{"justify-items":[...ie(),"normal"]}],"justify-self":[{"justify-self":["auto",...ie()]}],"align-content":[{content:["normal",...J()]}],"align-items":[{items:[...ie(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ie(),{baseline:["","last"]}]}],"place-content":[{"place-content":J()}],"place-items":[{"place-items":[...ie(),"baseline"]}],"place-self":[{"place-self":["auto",...ie()]}],p:[{p:D()}],px:[{px:D()}],py:[{py:D()}],ps:[{ps:D()}],pe:[{pe:D()}],pt:[{pt:D()}],pr:[{pr:D()}],pb:[{pb:D()}],pl:[{pl:D()}],m:[{m:R()}],mx:[{mx:R()}],my:[{my:R()}],ms:[{ms:R()}],me:[{me:R()}],mt:[{mt:R()}],mr:[{mr:R()}],mb:[{mb:R()}],ml:[{ml:R()}],"space-x":[{"space-x":D()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":D()}],"space-y-reverse":["space-y-reverse"],size:[{size:B()}],w:[{w:[u,"screen",...B()]}],"min-w":[{"min-w":[u,"screen","none",...B()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[l]},...B()]}],h:[{h:["screen","lh",...B()]}],"min-h":[{"min-h":["screen","lh","none",...B()]}],"max-h":[{"max-h":["screen","lh",...B()]}],"font-size":[{text:["base",n,Vu,ho]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,ke,Zv]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Jv,Te]}],"font-family":[{font:[Z4,Te,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,ke,Te]}],"line-clamp":[{"line-clamp":[He,"none",ke,Zv]}],leading:[{leading:[o,...D()]}],"list-image":[{"list-image":["none",ke,Te]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ke,Te]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:F()}],"text-color":[{text:F()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...de(),"wavy"]}],"text-decoration-thickness":[{decoration:[He,"from-font","auto",ke,ho]}],"text-decoration-color":[{decoration:F()}],"underline-offset":[{"underline-offset":[He,"auto",ke,Te]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ke,Te]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ke,Te]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:se()}],"bg-repeat":[{bg:W()}],"bg-size":[{bg:L()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ya,ke,Te],radial:["",ke,Te],conic:[ya,ke,Te]},t5,J4]}],"bg-color":[{bg:F()}],"gradient-from-pos":[{from:$()}],"gradient-via-pos":[{via:$()}],"gradient-to-pos":[{to:$()}],"gradient-from":[{from:F()}],"gradient-via":[{via:F()}],"gradient-to":[{to:F()}],rounded:[{rounded:Y()}],"rounded-s":[{"rounded-s":Y()}],"rounded-e":[{"rounded-e":Y()}],"rounded-t":[{"rounded-t":Y()}],"rounded-r":[{"rounded-r":Y()}],"rounded-b":[{"rounded-b":Y()}],"rounded-l":[{"rounded-l":Y()}],"rounded-ss":[{"rounded-ss":Y()}],"rounded-se":[{"rounded-se":Y()}],"rounded-ee":[{"rounded-ee":Y()}],"rounded-es":[{"rounded-es":Y()}],"rounded-tl":[{"rounded-tl":Y()}],"rounded-tr":[{"rounded-tr":Y()}],"rounded-br":[{"rounded-br":Y()}],"rounded-bl":[{"rounded-bl":Y()}],"border-w":[{border:ee()}],"border-w-x":[{"border-x":ee()}],"border-w-y":[{"border-y":ee()}],"border-w-s":[{"border-s":ee()}],"border-w-e":[{"border-e":ee()}],"border-w-t":[{"border-t":ee()}],"border-w-r":[{"border-r":ee()}],"border-w-b":[{"border-b":ee()}],"border-w-l":[{"border-l":ee()}],"divide-x":[{"divide-x":ee()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ee()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...de(),"hidden","none"]}],"divide-style":[{divide:[...de(),"hidden","none"]}],"border-color":[{border:F()}],"border-color-x":[{"border-x":F()}],"border-color-y":[{"border-y":F()}],"border-color-s":[{"border-s":F()}],"border-color-e":[{"border-e":F()}],"border-color-t":[{"border-t":F()}],"border-color-r":[{"border-r":F()}],"border-color-b":[{"border-b":F()}],"border-color-l":[{"border-l":F()}],"divide-color":[{divide:F()}],"outline-style":[{outline:[...de(),"none","hidden"]}],"outline-offset":[{"outline-offset":[He,ke,Te]}],"outline-w":[{outline:["",He,Vu,ho]}],"outline-color":[{outline:F()}],shadow:[{shadow:["","none",m,ph,hh]}],"shadow-color":[{shadow:F()}],"inset-shadow":[{"inset-shadow":["none",p,ph,hh]}],"inset-shadow-color":[{"inset-shadow":F()}],"ring-w":[{ring:ee()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:F()}],"ring-offset-w":[{"ring-offset":[He,ho]}],"ring-offset-color":[{"ring-offset":F()}],"inset-ring-w":[{"inset-ring":ee()}],"inset-ring-color":[{"inset-ring":F()}],"text-shadow":[{"text-shadow":["none",v,ph,hh]}],"text-shadow-color":[{"text-shadow":F()}],opacity:[{opacity:[He,ke,Te]}],"mix-blend":[{"mix-blend":[...ce(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ce()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[He]}],"mask-image-linear-from-pos":[{"mask-linear-from":ae()}],"mask-image-linear-to-pos":[{"mask-linear-to":ae()}],"mask-image-linear-from-color":[{"mask-linear-from":F()}],"mask-image-linear-to-color":[{"mask-linear-to":F()}],"mask-image-t-from-pos":[{"mask-t-from":ae()}],"mask-image-t-to-pos":[{"mask-t-to":ae()}],"mask-image-t-from-color":[{"mask-t-from":F()}],"mask-image-t-to-color":[{"mask-t-to":F()}],"mask-image-r-from-pos":[{"mask-r-from":ae()}],"mask-image-r-to-pos":[{"mask-r-to":ae()}],"mask-image-r-from-color":[{"mask-r-from":F()}],"mask-image-r-to-color":[{"mask-r-to":F()}],"mask-image-b-from-pos":[{"mask-b-from":ae()}],"mask-image-b-to-pos":[{"mask-b-to":ae()}],"mask-image-b-from-color":[{"mask-b-from":F()}],"mask-image-b-to-color":[{"mask-b-to":F()}],"mask-image-l-from-pos":[{"mask-l-from":ae()}],"mask-image-l-to-pos":[{"mask-l-to":ae()}],"mask-image-l-from-color":[{"mask-l-from":F()}],"mask-image-l-to-color":[{"mask-l-to":F()}],"mask-image-x-from-pos":[{"mask-x-from":ae()}],"mask-image-x-to-pos":[{"mask-x-to":ae()}],"mask-image-x-from-color":[{"mask-x-from":F()}],"mask-image-x-to-color":[{"mask-x-to":F()}],"mask-image-y-from-pos":[{"mask-y-from":ae()}],"mask-image-y-to-pos":[{"mask-y-to":ae()}],"mask-image-y-from-color":[{"mask-y-from":F()}],"mask-image-y-to-color":[{"mask-y-to":F()}],"mask-image-radial":[{"mask-radial":[ke,Te]}],"mask-image-radial-from-pos":[{"mask-radial-from":ae()}],"mask-image-radial-to-pos":[{"mask-radial-to":ae()}],"mask-image-radial-from-color":[{"mask-radial-from":F()}],"mask-image-radial-to-color":[{"mask-radial-to":F()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":A()}],"mask-image-conic-pos":[{"mask-conic":[He]}],"mask-image-conic-from-pos":[{"mask-conic-from":ae()}],"mask-image-conic-to-pos":[{"mask-conic-to":ae()}],"mask-image-conic-from-color":[{"mask-conic-from":F()}],"mask-image-conic-to-color":[{"mask-conic-to":F()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:se()}],"mask-repeat":[{mask:W()}],"mask-size":[{mask:L()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ke,Te]}],filter:[{filter:["","none",ke,Te]}],blur:[{blur:me()}],brightness:[{brightness:[He,ke,Te]}],contrast:[{contrast:[He,ke,Te]}],"drop-shadow":[{"drop-shadow":["","none",x,ph,hh]}],"drop-shadow-color":[{"drop-shadow":F()}],grayscale:[{grayscale:["",He,ke,Te]}],"hue-rotate":[{"hue-rotate":[He,ke,Te]}],invert:[{invert:["",He,ke,Te]}],saturate:[{saturate:[He,ke,Te]}],sepia:[{sepia:["",He,ke,Te]}],"backdrop-filter":[{"backdrop-filter":["","none",ke,Te]}],"backdrop-blur":[{"backdrop-blur":me()}],"backdrop-brightness":[{"backdrop-brightness":[He,ke,Te]}],"backdrop-contrast":[{"backdrop-contrast":[He,ke,Te]}],"backdrop-grayscale":[{"backdrop-grayscale":["",He,ke,Te]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[He,ke,Te]}],"backdrop-invert":[{"backdrop-invert":["",He,ke,Te]}],"backdrop-opacity":[{"backdrop-opacity":[He,ke,Te]}],"backdrop-saturate":[{"backdrop-saturate":[He,ke,Te]}],"backdrop-sepia":[{"backdrop-sepia":["",He,ke,Te]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":D()}],"border-spacing-x":[{"border-spacing-x":D()}],"border-spacing-y":[{"border-spacing-y":D()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ke,Te]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[He,"initial",ke,Te]}],ease:[{ease:["linear","initial",T,ke,Te]}],delay:[{delay:[He,ke,Te]}],animate:[{animate:["none",N,ke,Te]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[w,ke,Te]}],"perspective-origin":[{"perspective-origin":O()}],rotate:[{rotate:ge()}],"rotate-x":[{"rotate-x":ge()}],"rotate-y":[{"rotate-y":ge()}],"rotate-z":[{"rotate-z":ge()}],scale:[{scale:pe()}],"scale-x":[{"scale-x":pe()}],"scale-y":[{"scale-y":pe()}],"scale-z":[{"scale-z":pe()}],"scale-3d":["scale-3d"],skew:[{skew:Ce()}],"skew-x":[{"skew-x":Ce()}],"skew-y":[{"skew-y":Ce()}],transform:[{transform:[ke,Te,"","none","gpu","cpu"]}],"transform-origin":[{origin:O()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ee()}],"translate-x":[{"translate-x":Ee()}],"translate-y":[{"translate-y":Ee()}],"translate-z":[{"translate-z":Ee()}],"translate-none":["translate-none"],accent:[{accent:F()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:F()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ke,Te]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ke,Te]}],fill:[{fill:["none",...F()]}],"stroke-w":[{stroke:[He,Vu,ho,Zv]}],stroke:[{stroke:["none",...F()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},i5=z4(r5);function Me(...t){return i5(HN(t))}function SZ(t,e){var u;const n=t.split(","),s=(u=n[0].match(/:(.*?);/))==null?void 0:u[1],i=atob(n[1]);let o=i.length;const l=new Uint8Array(o);for(;o--;)l[o]=i.charCodeAt(o);return new File([l],e,{type:s})}const a5=px("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive select-none",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",xs:"h-6 rounded-md gap-1 p-1.5 has-[>svg]:px-1.5",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function Be({className:t,variant:e,size:n,asChild:s=!1,...i}){const o=s?Qp:"button";return g.jsx(o,{"data-slot":"button",className:Me(a5({variant:e,size:n,className:t})),style:{cursor:"pointer"},...i})}function qe(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function o5(t,e){const n=S.createContext(e),s=o=>{const{children:l,...u}=o,d=S.useMemo(()=>u,Object.values(u));return g.jsx(n.Provider,{value:d,children:l})};s.displayName=t+"Provider";function i(o){const l=S.useContext(n);if(l)return l;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${t}\``)}return[s,i]}function Vc(t,e=[]){let n=[];function s(o,l){const u=S.createContext(l),d=n.length;n=[...n,l];const h=p=>{var T;const{scope:v,children:x,..._}=p,w=((T=v==null?void 0:v[t])==null?void 0:T[d])||u,C=S.useMemo(()=>_,Object.values(_));return g.jsx(w.Provider,{value:C,children:x})};h.displayName=o+"Provider";function m(p,v){var w;const x=((w=v==null?void 0:v[t])==null?void 0:w[d])||u,_=S.useContext(x);if(_)return _;if(l!==void 0)return l;throw new Error(`\`${p}\` must be used within \`${o}\``)}return[h,m]}const i=()=>{const o=n.map(l=>S.createContext(l));return function(u){const d=(u==null?void 0:u[t])||o;return S.useMemo(()=>({[`__scope${t}`]:{...u,[t]:d}}),[u,d])}};return i.scopeName=t,[s,l5(i,...e)]}function l5(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const s=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const l=s.reduce((u,{useScope:d,scopeName:h})=>{const p=d(o)[`__scope${h}`];return{...u,...p}},{});return S.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return n.scopeName=e.scopeName,n}var Fn=globalThis!=null&&globalThis.document?S.useLayoutEffect:()=>{},c5=PN[" useId ".trim().toString()]||(()=>{}),u5=0;function Po(t){const[e,n]=S.useState(c5());return Fn(()=>{n(s=>s??String(u5++))},[t]),t||(e?`radix-${e}`:"")}var d5=PN[" useInsertionEffect ".trim().toString()]||Fn;function ap({prop:t,defaultProp:e,onChange:n=()=>{},caller:s}){const[i,o,l]=f5({defaultProp:e,onChange:n}),u=t!==void 0,d=u?t:i;{const m=S.useRef(t!==void 0);S.useEffect(()=>{const p=m.current;p!==u&&console.warn(`${s} is changing from ${p?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=u},[u,s])}const h=S.useCallback(m=>{var p;if(u){const v=h5(m)?m(t):m;v!==t&&((p=l.current)==null||p.call(l,v))}else o(m)},[u,t,o,l]);return[d,h]}function f5({defaultProp:t,onChange:e}){const[n,s]=S.useState(t),i=S.useRef(n),o=S.useRef(e);return d5(()=>{o.current=e},[e]),S.useEffect(()=>{var l;i.current!==n&&((l=o.current)==null||l.call(o,n),i.current=n)},[n,i]),[n,s,o]}function h5(t){return typeof t=="function"}var Xo=BN();const tA=Yp(Xo);var p5=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],rt=p5.reduce((t,e)=>{const n=Cc(`Primitive.${e}`),s=S.forwardRef((i,o)=>{const{asChild:l,...u}=i,d=l?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),g.jsx(d,{...u,ref:o})});return s.displayName=`Primitive.${e}`,{...t,[e]:s}},{});function m5(t,e){t&&Xo.flushSync(()=>t.dispatchEvent(e))}function _s(t){const e=S.useRef(t);return S.useEffect(()=>{e.current=t}),S.useMemo(()=>(...n)=>{var s;return(s=e.current)==null?void 0:s.call(e,...n)},[])}function g5(t,e=globalThis==null?void 0:globalThis.document){const n=_s(t);S.useEffect(()=>{const s=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",s,{capture:!0}),()=>e.removeEventListener("keydown",s,{capture:!0})},[n,e])}var v5="DismissableLayer",y0="dismissableLayer.update",y5="dismissableLayer.pointerDownOutside",b5="dismissableLayer.focusOutside",oE,nA=S.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Jp=S.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:l,onDismiss:u,...d}=t,h=S.useContext(nA),[m,p]=S.useState(null),v=(m==null?void 0:m.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,x]=S.useState({}),_=vt(e,j=>p(j)),w=Array.from(h.layers),[C]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),T=w.indexOf(C),N=m?w.indexOf(m):-1,k=h.layersWithOutsidePointerEventsDisabled.size>0,A=N>=T,O=_5(j=>{const D=j.target,z=[...h.branches].some(I=>I.contains(D));!A||z||(i==null||i(j),l==null||l(j),j.defaultPrevented||u==null||u())},v),P=S5(j=>{const D=j.target;[...h.branches].some(I=>I.contains(D))||(o==null||o(j),l==null||l(j),j.defaultPrevented||u==null||u())},v);return g5(j=>{N===h.layers.size-1&&(s==null||s(j),!j.defaultPrevented&&u&&(j.preventDefault(),u()))},v),S.useEffect(()=>{if(m)return n&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(oE=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(m)),h.layers.add(m),lE(),()=>{n&&h.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=oE)}},[m,v,n,h]),S.useEffect(()=>()=>{m&&(h.layers.delete(m),h.layersWithOutsidePointerEventsDisabled.delete(m),lE())},[m,h]),S.useEffect(()=>{const j=()=>x({});return document.addEventListener(y0,j),()=>document.removeEventListener(y0,j)},[]),g.jsx(rt.div,{...d,ref:_,style:{pointerEvents:k?A?"auto":"none":void 0,...t.style},onFocusCapture:qe(t.onFocusCapture,P.onFocusCapture),onBlurCapture:qe(t.onBlurCapture,P.onBlurCapture),onPointerDownCapture:qe(t.onPointerDownCapture,O.onPointerDownCapture)})});Jp.displayName=v5;var x5="DismissableLayerBranch",w5=S.forwardRef((t,e)=>{const n=S.useContext(nA),s=S.useRef(null),i=vt(e,s);return S.useEffect(()=>{const o=s.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),g.jsx(rt.div,{...t,ref:i})});w5.displayName=x5;function _5(t,e=globalThis==null?void 0:globalThis.document){const n=_s(t),s=S.useRef(!1),i=S.useRef(()=>{});return S.useEffect(()=>{const o=u=>{if(u.target&&!s.current){let d=function(){sA(y5,n,h,{discrete:!0})};const h={originalEvent:u};u.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=d,e.addEventListener("click",i.current,{once:!0})):d()}else e.removeEventListener("click",i.current);s.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",o),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>s.current=!0}}function S5(t,e=globalThis==null?void 0:globalThis.document){const n=_s(t),s=S.useRef(!1);return S.useEffect(()=>{const i=o=>{o.target&&!s.current&&sA(b5,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function lE(){const t=new CustomEvent(y0);document.dispatchEvent(t)}function sA(t,e,n,{discrete:s}){const i=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),s?m5(i,o):i.dispatchEvent(o)}var ey="focusScope.autoFocusOnMount",ty="focusScope.autoFocusOnUnmount",cE={bubbles:!1,cancelable:!0},C5="FocusScope",gx=S.forwardRef((t,e)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...l}=t,[u,d]=S.useState(null),h=_s(i),m=_s(o),p=S.useRef(null),v=vt(e,w=>d(w)),x=S.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;S.useEffect(()=>{if(s){let w=function(k){if(x.paused||!u)return;const A=k.target;u.contains(A)?p.current=A:wa(p.current,{select:!0})},C=function(k){if(x.paused||!u)return;const A=k.relatedTarget;A!==null&&(u.contains(A)||wa(p.current,{select:!0}))},T=function(k){if(document.activeElement===document.body)for(const O of k)O.removedNodes.length>0&&wa(u)};document.addEventListener("focusin",w),document.addEventListener("focusout",C);const N=new MutationObserver(T);return u&&N.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",C),N.disconnect()}}},[s,u,x.paused]),S.useEffect(()=>{if(u){dE.add(x);const w=document.activeElement;if(!u.contains(w)){const T=new CustomEvent(ey,cE);u.addEventListener(ey,h),u.dispatchEvent(T),T.defaultPrevented||(E5(R5(rA(u)),{select:!0}),document.activeElement===w&&wa(u))}return()=>{u.removeEventListener(ey,h),setTimeout(()=>{const T=new CustomEvent(ty,cE);u.addEventListener(ty,m),u.dispatchEvent(T),T.defaultPrevented||wa(w??document.body,{select:!0}),u.removeEventListener(ty,m),dE.remove(x)},0)}}},[u,h,m,x]);const _=S.useCallback(w=>{if(!n&&!s||x.paused)return;const C=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,T=document.activeElement;if(C&&T){const N=w.currentTarget,[k,A]=T5(N);k&&A?!w.shiftKey&&T===A?(w.preventDefault(),n&&wa(k,{select:!0})):w.shiftKey&&T===k&&(w.preventDefault(),n&&wa(A,{select:!0})):T===N&&w.preventDefault()}},[n,s,x.paused]);return g.jsx(rt.div,{tabIndex:-1,...l,ref:v,onKeyDown:_})});gx.displayName=C5;function E5(t,{select:e=!1}={}){const n=document.activeElement;for(const s of t)if(wa(s,{select:e}),document.activeElement!==n)return}function T5(t){const e=rA(t),n=uE(e,t),s=uE(e.reverse(),t);return[n,s]}function rA(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const i=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||i?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function uE(t,e){for(const n of t)if(!k5(n,{upTo:e}))return n}function k5(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function N5(t){return t instanceof HTMLInputElement&&"select"in t}function wa(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&N5(t)&&e&&t.select()}}var dE=A5();function A5(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=fE(t,e),t.unshift(e)},remove(e){var n;t=fE(t,e),(n=t[0])==null||n.resume()}}}function fE(t,e){const n=[...t],s=n.indexOf(e);return s!==-1&&n.splice(s,1),n}function R5(t){return t.filter(e=>e.tagName!=="A")}var j5="Portal",Zp=S.forwardRef((t,e)=>{var u;const{container:n,...s}=t,[i,o]=S.useState(!1);Fn(()=>o(!0),[]);const l=n||i&&((u=globalThis==null?void 0:globalThis.document)==null?void 0:u.body);return l?tA.createPortal(g.jsx(rt.div,{...s,ref:e}),l):null});Zp.displayName=j5;function M5(t,e){return S.useReducer((n,s)=>e[n][s]??n,t)}var ci=t=>{const{present:e,children:n}=t,s=O5(e),i=typeof n=="function"?n({present:s.isPresent}):S.Children.only(n),o=vt(s.ref,D5(i));return typeof n=="function"||s.isPresent?S.cloneElement(i,{ref:o}):null};ci.displayName="Presence";function O5(t){const[e,n]=S.useState(),s=S.useRef(null),i=S.useRef(t),o=S.useRef("none"),l=t?"mounted":"unmounted",[u,d]=M5(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return S.useEffect(()=>{const h=mh(s.current);o.current=u==="mounted"?h:"none"},[u]),Fn(()=>{const h=s.current,m=i.current;if(m!==t){const v=o.current,x=mh(h);t?d("MOUNT"):x==="none"||(h==null?void 0:h.display)==="none"?d("UNMOUNT"):d(m&&v!==x?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,d]),Fn(()=>{if(e){let h;const m=e.ownerDocument.defaultView??window,p=x=>{const w=mh(s.current).includes(x.animationName);if(x.target===e&&w&&(d("ANIMATION_END"),!i.current)){const C=e.style.animationFillMode;e.style.animationFillMode="forwards",h=m.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=C)})}},v=x=>{x.target===e&&(o.current=mh(s.current))};return e.addEventListener("animationstart",v),e.addEventListener("animationcancel",p),e.addEventListener("animationend",p),()=>{m.clearTimeout(h),e.removeEventListener("animationstart",v),e.removeEventListener("animationcancel",p),e.removeEventListener("animationend",p)}}else d("ANIMATION_END")},[e,d]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:S.useCallback(h=>{s.current=h?getComputedStyle(h):null,n(h)},[])}}function mh(t){return(t==null?void 0:t.animationName)||"none"}function D5(t){var s,i;let e=(s=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var ny=0;function iA(){S.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??hE()),document.body.insertAdjacentElement("beforeend",t[1]??hE()),ny++,()=>{ny===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),ny--}},[])}function hE(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Gr=function(){return Gr=Object.assign||function(e){for(var n,s=1,i=arguments.length;s<i;s++){n=arguments[s];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Gr.apply(this,arguments)};function aA(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(t);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(n[s[i]]=t[s[i]]);return n}function CZ(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],s=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function P5(t,e,n){if(n||arguments.length===2)for(var s=0,i=e.length,o;s<i;s++)(o||!(s in e))&&(o||(o=Array.prototype.slice.call(e,0,s)),o[s]=e[s]);return t.concat(o||Array.prototype.slice.call(e))}var Yh="right-scroll-bar-position",Wh="width-before-scroll-bar",L5="with-scroll-bars-hidden",I5="--removed-body-scroll-bar-size";function sy(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function F5(t,e){var n=S.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(s){var i=n.value;i!==s&&(n.value=s,n.callback(s,i))}}}})[0];return n.callback=e,n.facade}var z5=typeof window<"u"?S.useLayoutEffect:S.useEffect,pE=new WeakMap;function B5(t,e){var n=F5(null,function(s){return t.forEach(function(i){return sy(i,s)})});return z5(function(){var s=pE.get(n);if(s){var i=new Set(s),o=new Set(t),l=n.current;i.forEach(function(u){o.has(u)||sy(u,null)}),o.forEach(function(u){i.has(u)||sy(u,l)})}pE.set(n,t)},[t]),n}function U5(t){return t}function V5(t,e){e===void 0&&(e=U5);var n=[],s=!1,i={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var l=e(o,s);return n.push(l),function(){n=n.filter(function(u){return u!==l})}},assignSyncMedium:function(o){for(s=!0;n.length;){var l=n;n=[],l.forEach(o)}n={push:function(u){return o(u)},filter:function(){return n}}},assignMedium:function(o){s=!0;var l=[];if(n.length){var u=n;n=[],u.forEach(o),l=n}var d=function(){var m=l;l=[],m.forEach(o)},h=function(){return Promise.resolve().then(d)};h(),n={push:function(m){l.push(m),h()},filter:function(m){return l=l.filter(m),n}}}};return i}function $5(t){t===void 0&&(t={});var e=V5(null);return e.options=Gr({async:!0,ssr:!1},t),e}var oA=function(t){var e=t.sideCar,n=aA(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=e.read();if(!s)throw new Error("Sidecar medium not found");return S.createElement(s,Gr({},n))};oA.isSideCarExport=!0;function H5(t,e){return t.useMedium(e),oA}var lA=$5(),ry=function(){},em=S.forwardRef(function(t,e){var n=S.useRef(null),s=S.useState({onScrollCapture:ry,onWheelCapture:ry,onTouchMoveCapture:ry}),i=s[0],o=s[1],l=t.forwardProps,u=t.children,d=t.className,h=t.removeScrollBar,m=t.enabled,p=t.shards,v=t.sideCar,x=t.noRelative,_=t.noIsolation,w=t.inert,C=t.allowPinchZoom,T=t.as,N=T===void 0?"div":T,k=t.gapMode,A=aA(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),O=v,P=B5([n,e]),j=Gr(Gr({},A),i);return S.createElement(S.Fragment,null,m&&S.createElement(O,{sideCar:lA,removeScrollBar:h,shards:p,noRelative:x,noIsolation:_,inert:w,setCallbacks:o,allowPinchZoom:!!C,lockRef:n,gapMode:k}),l?S.cloneElement(S.Children.only(u),Gr(Gr({},j),{ref:P})):S.createElement(N,Gr({},j,{className:d,ref:P}),u))});em.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};em.classNames={fullWidth:Wh,zeroRight:Yh};var q5=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function K5(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=q5();return e&&t.setAttribute("nonce",e),t}function G5(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Y5(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var W5=function(){var t=0,e=null;return{add:function(n){t==0&&(e=K5())&&(G5(e,n),Y5(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},X5=function(){var t=W5();return function(e,n){S.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},cA=function(){var t=X5(),e=function(n){var s=n.styles,i=n.dynamic;return t(s,i),null};return e},Q5={left:0,top:0,right:0,gap:0},iy=function(t){return parseInt(t||"",10)||0},J5=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],s=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[iy(n),iy(s),iy(i)]},Z5=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Q5;var e=J5(t),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,s-n+e[2]-e[0])}},eI=cA(),rc="data-scroll-locked",tI=function(t,e,n,s){var i=t.left,o=t.top,l=t.right,u=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(L5,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(u,"px ").concat(s,`;
  }
  body[`).concat(rc,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(u,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Yh,` {
    right: `).concat(u,"px ").concat(s,`;
  }
  
  .`).concat(Wh,` {
    margin-right: `).concat(u,"px ").concat(s,`;
  }
  
  .`).concat(Yh," .").concat(Yh,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(Wh," .").concat(Wh,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(rc,`] {
    `).concat(I5,": ").concat(u,`px;
  }
`)},mE=function(){var t=parseInt(document.body.getAttribute(rc)||"0",10);return isFinite(t)?t:0},nI=function(){S.useEffect(function(){return document.body.setAttribute(rc,(mE()+1).toString()),function(){var t=mE()-1;t<=0?document.body.removeAttribute(rc):document.body.setAttribute(rc,t.toString())}},[])},sI=function(t){var e=t.noRelative,n=t.noImportant,s=t.gapMode,i=s===void 0?"margin":s;nI();var o=S.useMemo(function(){return Z5(i)},[i]);return S.createElement(eI,{styles:tI(o,!e,i,n?"":"!important")})},b0=!1;if(typeof window<"u")try{var gh=Object.defineProperty({},"passive",{get:function(){return b0=!0,!0}});window.addEventListener("test",gh,gh),window.removeEventListener("test",gh,gh)}catch{b0=!1}var Ll=b0?{passive:!1}:!1,rI=function(t){return t.tagName==="TEXTAREA"},uA=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!rI(t)&&n[e]==="visible")},iI=function(t){return uA(t,"overflowY")},aI=function(t){return uA(t,"overflowX")},gE=function(t,e){var n=e.ownerDocument,s=e;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var i=dA(t,s);if(i){var o=fA(t,s),l=o[1],u=o[2];if(l>u)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},oI=function(t){var e=t.scrollTop,n=t.scrollHeight,s=t.clientHeight;return[e,n,s]},lI=function(t){var e=t.scrollLeft,n=t.scrollWidth,s=t.clientWidth;return[e,n,s]},dA=function(t,e){return t==="v"?iI(e):aI(e)},fA=function(t,e){return t==="v"?oI(e):lI(e)},cI=function(t,e){return t==="h"&&e==="rtl"?-1:1},uI=function(t,e,n,s,i){var o=cI(t,window.getComputedStyle(e).direction),l=o*s,u=n.target,d=e.contains(u),h=!1,m=l>0,p=0,v=0;do{if(!u)break;var x=fA(t,u),_=x[0],w=x[1],C=x[2],T=w-C-o*_;(_||T)&&dA(t,u)&&(p+=T,v+=_);var N=u.parentNode;u=N&&N.nodeType===Node.DOCUMENT_FRAGMENT_NODE?N.host:N}while(!d&&u!==document.body||d&&(e.contains(u)||e===u));return(m&&Math.abs(p)<1||!m&&Math.abs(v)<1)&&(h=!0),h},vh=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},vE=function(t){return[t.deltaX,t.deltaY]},yE=function(t){return t&&"current"in t?t.current:t},dI=function(t,e){return t[0]===e[0]&&t[1]===e[1]},fI=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},hI=0,Il=[];function pI(t){var e=S.useRef([]),n=S.useRef([0,0]),s=S.useRef(),i=S.useState(hI++)[0],o=S.useState(cA)[0],l=S.useRef(t);S.useEffect(function(){l.current=t},[t]),S.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var w=P5([t.lockRef.current],(t.shards||[]).map(yE),!0).filter(Boolean);return w.forEach(function(C){return C.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),w.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var u=S.useCallback(function(w,C){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!l.current.allowPinchZoom;var T=vh(w),N=n.current,k="deltaX"in w?w.deltaX:N[0]-T[0],A="deltaY"in w?w.deltaY:N[1]-T[1],O,P=w.target,j=Math.abs(k)>Math.abs(A)?"h":"v";if("touches"in w&&j==="h"&&P.type==="range")return!1;var D=gE(j,P);if(!D)return!0;if(D?O=j:(O=j==="v"?"h":"v",D=gE(j,P)),!D)return!1;if(!s.current&&"changedTouches"in w&&(k||A)&&(s.current=O),!O)return!0;var z=s.current||O;return uI(z,C,w,z==="h"?k:A)},[]),d=S.useCallback(function(w){var C=w;if(!(!Il.length||Il[Il.length-1]!==o)){var T="deltaY"in C?vE(C):vh(C),N=e.current.filter(function(O){return O.name===C.type&&(O.target===C.target||C.target===O.shadowParent)&&dI(O.delta,T)})[0];if(N&&N.should){C.cancelable&&C.preventDefault();return}if(!N){var k=(l.current.shards||[]).map(yE).filter(Boolean).filter(function(O){return O.contains(C.target)}),A=k.length>0?u(C,k[0]):!l.current.noIsolation;A&&C.cancelable&&C.preventDefault()}}},[]),h=S.useCallback(function(w,C,T,N){var k={name:w,delta:C,target:T,should:N,shadowParent:mI(T)};e.current.push(k),setTimeout(function(){e.current=e.current.filter(function(A){return A!==k})},1)},[]),m=S.useCallback(function(w){n.current=vh(w),s.current=void 0},[]),p=S.useCallback(function(w){h(w.type,vE(w),w.target,u(w,t.lockRef.current))},[]),v=S.useCallback(function(w){h(w.type,vh(w),w.target,u(w,t.lockRef.current))},[]);S.useEffect(function(){return Il.push(o),t.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:v}),document.addEventListener("wheel",d,Ll),document.addEventListener("touchmove",d,Ll),document.addEventListener("touchstart",m,Ll),function(){Il=Il.filter(function(w){return w!==o}),document.removeEventListener("wheel",d,Ll),document.removeEventListener("touchmove",d,Ll),document.removeEventListener("touchstart",m,Ll)}},[]);var x=t.removeScrollBar,_=t.inert;return S.createElement(S.Fragment,null,_?S.createElement(o,{styles:fI(i)}):null,x?S.createElement(sI,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function mI(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const gI=H5(lA,pI);var vx=S.forwardRef(function(t,e){return S.createElement(em,Gr({},t,{ref:e,sideCar:gI}))});vx.classNames=em.classNames;var vI=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Fl=new WeakMap,yh=new WeakMap,bh={},ay=0,hA=function(t){return t&&(t.host||hA(t.parentNode))},yI=function(t,e){return e.map(function(n){if(t.contains(n))return n;var s=hA(n);return s&&t.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},bI=function(t,e,n,s){var i=yI(e,Array.isArray(t)?t:[t]);bh[n]||(bh[n]=new WeakMap);var o=bh[n],l=[],u=new Set,d=new Set(i),h=function(p){!p||u.has(p)||(u.add(p),h(p.parentNode))};i.forEach(h);var m=function(p){!p||d.has(p)||Array.prototype.forEach.call(p.children,function(v){if(u.has(v))m(v);else try{var x=v.getAttribute(s),_=x!==null&&x!=="false",w=(Fl.get(v)||0)+1,C=(o.get(v)||0)+1;Fl.set(v,w),o.set(v,C),l.push(v),w===1&&_&&yh.set(v,!0),C===1&&v.setAttribute(n,"true"),_||v.setAttribute(s,"true")}catch(T){console.error("aria-hidden: cannot operate on ",v,T)}})};return m(e),u.clear(),ay++,function(){l.forEach(function(p){var v=Fl.get(p)-1,x=o.get(p)-1;Fl.set(p,v),o.set(p,x),v||(yh.has(p)||p.removeAttribute(s),yh.delete(p)),x||p.removeAttribute(n)}),ay--,ay||(Fl=new WeakMap,Fl=new WeakMap,yh=new WeakMap,bh={})}},pA=function(t,e,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(t)?t:[t]),i=vI(t);return i?(s.push.apply(s,Array.from(i.querySelectorAll("[aria-live], script"))),bI(s,i,n,"aria-hidden")):function(){return null}},tm="Dialog",[mA,EZ]=Vc(tm),[xI,jr]=mA(tm),gA=t=>{const{__scopeDialog:e,children:n,open:s,defaultOpen:i,onOpenChange:o,modal:l=!0}=t,u=S.useRef(null),d=S.useRef(null),[h,m]=ap({prop:s,defaultProp:i??!1,onChange:o,caller:tm});return g.jsx(xI,{scope:e,triggerRef:u,contentRef:d,contentId:Po(),titleId:Po(),descriptionId:Po(),open:h,onOpenChange:m,onOpenToggle:S.useCallback(()=>m(p=>!p),[m]),modal:l,children:n})};gA.displayName=tm;var vA="DialogTrigger",yA=S.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,i=jr(vA,n),o=vt(e,i.triggerRef);return g.jsx(rt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":xx(i.open),...s,ref:o,onClick:qe(t.onClick,i.onOpenToggle)})});yA.displayName=vA;var yx="DialogPortal",[wI,bA]=mA(yx,{forceMount:void 0}),xA=t=>{const{__scopeDialog:e,forceMount:n,children:s,container:i}=t,o=jr(yx,e);return g.jsx(wI,{scope:e,forceMount:n,children:S.Children.map(s,l=>g.jsx(ci,{present:n||o.open,children:g.jsx(Zp,{asChild:!0,container:i,children:l})}))})};xA.displayName=yx;var op="DialogOverlay",wA=S.forwardRef((t,e)=>{const n=bA(op,t.__scopeDialog),{forceMount:s=n.forceMount,...i}=t,o=jr(op,t.__scopeDialog);return o.modal?g.jsx(ci,{present:s||o.open,children:g.jsx(SI,{...i,ref:e})}):null});wA.displayName=op;var _I=Cc("DialogOverlay.RemoveScroll"),SI=S.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,i=jr(op,n);return g.jsx(vx,{as:_I,allowPinchZoom:!0,shards:[i.contentRef],children:g.jsx(rt.div,{"data-state":xx(i.open),...s,ref:e,style:{pointerEvents:"auto",...s.style}})})}),Vo="DialogContent",_A=S.forwardRef((t,e)=>{const n=bA(Vo,t.__scopeDialog),{forceMount:s=n.forceMount,...i}=t,o=jr(Vo,t.__scopeDialog);return g.jsx(ci,{present:s||o.open,children:o.modal?g.jsx(CI,{...i,ref:e}):g.jsx(EI,{...i,ref:e})})});_A.displayName=Vo;var CI=S.forwardRef((t,e)=>{const n=jr(Vo,t.__scopeDialog),s=S.useRef(null),i=vt(e,n.contentRef,s);return S.useEffect(()=>{const o=s.current;if(o)return pA(o)},[]),g.jsx(SA,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:qe(t.onCloseAutoFocus,o=>{var l;o.preventDefault(),(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:qe(t.onPointerDownOutside,o=>{const l=o.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0;(l.button===2||u)&&o.preventDefault()}),onFocusOutside:qe(t.onFocusOutside,o=>o.preventDefault())})}),EI=S.forwardRef((t,e)=>{const n=jr(Vo,t.__scopeDialog),s=S.useRef(!1),i=S.useRef(!1);return g.jsx(SA,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var l,u;(l=t.onCloseAutoFocus)==null||l.call(t,o),o.defaultPrevented||(s.current||(u=n.triggerRef.current)==null||u.focus(),o.preventDefault()),s.current=!1,i.current=!1},onInteractOutside:o=>{var d,h;(d=t.onInteractOutside)==null||d.call(t,o),o.defaultPrevented||(s.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const l=o.target;((h=n.triggerRef.current)==null?void 0:h.contains(l))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),SA=S.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,...l}=t,u=jr(Vo,n),d=S.useRef(null),h=vt(e,d);return iA(),g.jsxs(g.Fragment,{children:[g.jsx(gx,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:i,onUnmountAutoFocus:o,children:g.jsx(Jp,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":xx(u.open),...l,ref:h,onDismiss:()=>u.onOpenChange(!1)})}),g.jsxs(g.Fragment,{children:[g.jsx(TI,{titleId:u.titleId}),g.jsx(NI,{contentRef:d,descriptionId:u.descriptionId})]})]})}),bx="DialogTitle",CA=S.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,i=jr(bx,n);return g.jsx(rt.h2,{id:i.titleId,...s,ref:e})});CA.displayName=bx;var EA="DialogDescription",TA=S.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,i=jr(EA,n);return g.jsx(rt.p,{id:i.descriptionId,...s,ref:e})});TA.displayName=EA;var kA="DialogClose",NA=S.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,i=jr(kA,n);return g.jsx(rt.button,{type:"button",...s,ref:e,onClick:qe(t.onClick,()=>i.onOpenChange(!1))})});NA.displayName=kA;function xx(t){return t?"open":"closed"}var AA="DialogTitleWarning",[TZ,RA]=o5(AA,{contentName:Vo,titleName:bx,docsSlug:"dialog"}),TI=({titleId:t})=>{const e=RA(AA),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return S.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},kI="DialogDescriptionWarning",NI=({contentRef:t,descriptionId:e})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${RA(kI).contentName}}.`;return S.useEffect(()=>{var o;const i=(o=t.current)==null?void 0:o.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(s))},[s,t,e]),null},jA=gA,AI=yA,wx=xA,nm=wA,sm=_A,_x=CA,Sx=TA,Cx=NA;/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RI=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),jI=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),bE=t=>{const e=jI(t);return e.charAt(0).toUpperCase()+e.slice(1)},MA=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var MI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OI=S.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:i="",children:o,iconNode:l,...u},d)=>S.createElement("svg",{ref:d,...MI,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:MA("lucide",i),...u},[...l.map(([h,m])=>S.createElement(h,m)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ct=(t,e)=>{const n=S.forwardRef(({className:s,...i},o)=>S.createElement(OI,{ref:o,iconNode:e,className:MA(`lucide-${RI(bE(t))}`,`lucide-${t}`,s),...i}));return n.displayName=bE(t),n};/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DI=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Ex=Ct("check",DI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PI=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Tx=Ct("chevron-down",PI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LI=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],II=Ct("chevron-left",LI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FI=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],zI=Ct("chevron-up",FI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Xh=Ct("circle-alert",BI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UI=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],VI=Ct("circle-check-big",UI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $I=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]],HI=Ct("circle-play",$I);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qI=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],xE=Ct("clipboard-list",qI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KI=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],GI=Ct("ellipsis",KI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YI=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],WI=Ct("eye",YI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XI=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],QI=Ct("grid-3x3",XI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JI=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],x0=Ct("image",JI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZI=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],e6=Ct("list",ZI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t6=[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]],n6=Ct("maximize-2",t6);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s6=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],OA=Ct("music",s6);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r6=[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]],i6=Ct("network",r6);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a6=[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]],w0=Ct("pause",a6);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o6=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],Ec=Ct("play",o6);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l6=[["path",{d:"M6.3 20.3a2.4 2.4 0 0 0 3.4 0L12 18l-6-6-2.3 2.3a2.4 2.4 0 0 0 0 3.4Z",key:"goz73y"}],["path",{d:"m2 22 3-3",key:"19mgm9"}],["path",{d:"M7.5 13.5 10 11",key:"7xgeeb"}],["path",{d:"M10.5 16.5 13 14",key:"10btkg"}],["path",{d:"m18 3-4 4h6l-4 4",key:"16psg9"}]],c6=Ct("plug-zap",l6);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u6=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],DA=Ct("plus",u6);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d6=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],PA=Ct("refresh-cw",d6);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f6=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],h6=Ct("rotate-ccw",f6);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p6=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],kx=Ct("save",p6);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m6=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],lp=Ct("trash-2",m6);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g6=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],v6=Ct("user",g6);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y6=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],LA=Ct("volume-2",y6);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b6=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],IA=Ct("volume-x",b6);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x6=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Nx=Ct("x",x6),Ki=jA,w6=AI,_6=wx,FA=Cx,zA=S.forwardRef(({className:t,...e},n)=>g.jsx(nm,{ref:n,className:Me("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));zA.displayName=nm.displayName;const Qo=S.forwardRef(({className:t,children:e,...n},s)=>g.jsxs(_6,{children:[g.jsx(zA,{}),g.jsxs(sm,{ref:s,className:Me("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 sm:rounded-lg",t),...n,children:[e,g.jsxs(Cx,{className:"absolute right-4 top-4 rounded-md p-1 opacity-70 ring-offset-background transition-all hover:opacity-100 hover:bg-accent hover:text-accent-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none cursor-pointer",children:[g.jsx(Nx,{className:"h-4 w-4"}),g.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Qo.displayName=sm.displayName;const $c=({className:t,...e})=>g.jsx("div",{className:Me("flex flex-col space-y-1.5 text-center sm:text-left select-none",t),...e});$c.displayName="DialogHeader";const Hd=({className:t,...e})=>g.jsx("div",{className:Me("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Hd.displayName="DialogFooter";const Hc=S.forwardRef(({className:t,...e},n)=>g.jsx(_x,{ref:n,className:Me("text-lg font-semibold leading-none tracking-tight select-none",t),...e}));Hc.displayName=_x.displayName;const Ax=S.forwardRef(({className:t,...e},n)=>g.jsx(Sx,{ref:n,className:Me("text-sm text-muted-foreground select-none",t),...e}));Ax.displayName=Sx.displayName;async function S6(){const t=await fetch("/api/list_models").then(n=>n.json()).catch(n=>(console.error(n),[])),e=await fetch("/api/list_tools").then(n=>n.json()).catch(n=>(console.error(n),[]));return{llm:t,tools:e}}const wE=t=>{let e;const n=new Set,s=(h,m)=>{const p=typeof h=="function"?h(e):h;if(!Object.is(p,e)){const v=e;e=m??(typeof p!="object"||p===null)?p:Object.assign({},e,p),n.forEach(x=>x(e,v))}},i=()=>e,u={setState:s,getState:i,getInitialState:()=>d,subscribe:h=>(n.add(h),()=>n.delete(h))},d=e=t(s,i,u);return u},C6=t=>t?wE(t):wE,E6=t=>t;function T6(t,e=E6){const n=le.useSyncExternalStore(t.subscribe,()=>e(t.getState()),()=>e(t.getInitialState()));return le.useDebugValue(n),n}const _E=t=>{const e=C6(t),n=s=>T6(e,s);return Object.assign(n,e),n},k6=t=>t?_E(t):_E,_0=k6(t=>({initCanvas:!1,setInitCanvas:e=>t({initCanvas:e}),textModels:[],setTextModels:e=>t({textModels:e}),textModel:void 0,setTextModel:e=>t({textModel:e}),showInstallDialog:!1,setShowInstallDialog:e=>t({showInstallDialog:e}),showUpdateDialog:!1,setShowUpdateDialog:e=>t({showUpdateDialog:e}),showSettingsDialog:!1,setShowSettingsDialog:e=>t({showSettingsDialog:e}),showLoginDialog:!1,setShowLoginDialog:e=>t({showLoginDialog:e}),providers:{},setProviders:e=>t({providers:e}),allTools:[],setAllTools:e=>t({allTools:e}),selectedTools:[],setSelectedTools:e=>t({selectedTools:e})}));var qd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},$o=typeof window>"u"||"Deno"in globalThis;function Kn(){}function N6(t,e){return typeof t=="function"?t(e):t}function S0(t){return typeof t=="number"&&t>=0&&t!==1/0}function BA(t,e){return Math.max(t+(e||0)-Date.now(),0)}function La(t,e){return typeof t=="function"?t(e):t}function ar(t,e){return typeof t=="function"?t(e):t}function SE(t,e){const{type:n="all",exact:s,fetchStatus:i,predicate:o,queryKey:l,stale:u}=t;if(l){if(s){if(e.queryHash!==Rx(l,e.options))return!1}else if(!wd(e.queryKey,l))return!1}if(n!=="all"){const d=e.isActive();if(n==="active"&&!d||n==="inactive"&&d)return!1}return!(typeof u=="boolean"&&e.isStale()!==u||i&&i!==e.state.fetchStatus||o&&!o(e))}function CE(t,e){const{exact:n,status:s,predicate:i,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(n){if(xd(e.options.mutationKey)!==xd(o))return!1}else if(!wd(e.options.mutationKey,o))return!1}return!(s&&e.state.status!==s||i&&!i(e))}function Rx(t,e){return((e==null?void 0:e.queryKeyHashFn)||xd)(t)}function xd(t){return JSON.stringify(t,(e,n)=>E0(n)?Object.keys(n).sort().reduce((s,i)=>(s[i]=n[i],s),{}):n)}function wd(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>wd(t[n],e[n])):!1}function UA(t,e){if(t===e)return t;const n=EE(t)&&EE(e);if(n||E0(t)&&E0(e)){const s=n?t:Object.keys(t),i=s.length,o=n?e:Object.keys(e),l=o.length,u=n?[]:{},d=new Set(s);let h=0;for(let m=0;m<l;m++){const p=n?m:o[m];(!n&&d.has(p)||n)&&t[p]===void 0&&e[p]===void 0?(u[p]=void 0,h++):(u[p]=UA(t[p],e[p]),u[p]===t[p]&&t[p]!==void 0&&h++)}return i===l&&h===i?t:u}return e}function C0(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function EE(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function E0(t){if(!TE(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!TE(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function TE(t){return Object.prototype.toString.call(t)==="[object Object]"}function A6(t){return new Promise(e=>{setTimeout(e,t)})}function T0(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?UA(t,e):e}function R6(t,e,n=0){const s=[...t,e];return n&&s.length>n?s.slice(1):s}function j6(t,e,n=0){const s=[e,...t];return n&&s.length>n?s.slice(0,-1):s}var jx=Symbol();function VA(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===jx?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function M6(t,e){return typeof t=="function"?t(...e):!!t}var Eo,Ta,fc,hN,O6=(hN=class extends qd{constructor(){super();Oe(this,Eo);Oe(this,Ta);Oe(this,fc);Se(this,fc,e=>{if(!$o&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){K(this,Ta)||this.setEventListener(K(this,fc))}onUnsubscribe(){var e;this.hasListeners()||((e=K(this,Ta))==null||e.call(this),Se(this,Ta,void 0))}setEventListener(e){var n;Se(this,fc,e),(n=K(this,Ta))==null||n.call(this),Se(this,Ta,e(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(e){K(this,Eo)!==e&&(Se(this,Eo,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof K(this,Eo)=="boolean"?K(this,Eo):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Eo=new WeakMap,Ta=new WeakMap,fc=new WeakMap,hN),Mx=new O6,hc,ka,pc,pN,D6=(pN=class extends qd{constructor(){super();Oe(this,hc,!0);Oe(this,ka);Oe(this,pc);Se(this,pc,e=>{if(!$o&&window.addEventListener){const n=()=>e(!0),s=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",s)}}})}onSubscribe(){K(this,ka)||this.setEventListener(K(this,pc))}onUnsubscribe(){var e;this.hasListeners()||((e=K(this,ka))==null||e.call(this),Se(this,ka,void 0))}setEventListener(e){var n;Se(this,pc,e),(n=K(this,ka))==null||n.call(this),Se(this,ka,e(this.setOnline.bind(this)))}setOnline(e){K(this,hc)!==e&&(Se(this,hc,e),this.listeners.forEach(s=>{s(e)}))}isOnline(){return K(this,hc)}},hc=new WeakMap,ka=new WeakMap,pc=new WeakMap,pN),cp=new D6;function k0(){let t,e;const n=new Promise((i,o)=>{t=i,e=o});n.status="pending",n.catch(()=>{});function s(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{s({status:"fulfilled",value:i}),t(i)},n.reject=i=>{s({status:"rejected",reason:i}),e(i)},n}function P6(t){var n;let e;if((n=t.then(s=>(e=s,s),Kn))==null||n.catch(Kn),e!==void 0)return{data:e}}function L6(t){return Math.min(1e3*2**t,3e4)}function $A(t){return(t??"online")==="online"?cp.isOnline():!0}var HA=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function oy(t){return t instanceof HA}function qA(t){let e=!1,n=0,s=!1,i;const o=k0(),l=w=>{var C;s||(v(new HA(w)),(C=t.abort)==null||C.call(t))},u=()=>{e=!0},d=()=>{e=!1},h=()=>Mx.isFocused()&&(t.networkMode==="always"||cp.isOnline())&&t.canRun(),m=()=>$A(t.networkMode)&&t.canRun(),p=w=>{var C;s||(s=!0,(C=t.onSuccess)==null||C.call(t,w),i==null||i(),o.resolve(w))},v=w=>{var C;s||(s=!0,(C=t.onError)==null||C.call(t,w),i==null||i(),o.reject(w))},x=()=>new Promise(w=>{var C;i=T=>{(s||h())&&w(T)},(C=t.onPause)==null||C.call(t)}).then(()=>{var w;i=void 0,s||(w=t.onContinue)==null||w.call(t)}),_=()=>{if(s)return;let w;const C=n===0?t.initialPromise:void 0;try{w=C??t.fn()}catch(T){w=Promise.reject(T)}Promise.resolve(w).then(p).catch(T=>{var P;if(s)return;const N=t.retry??($o?0:3),k=t.retryDelay??L6,A=typeof k=="function"?k(n,T):k,O=N===!0||typeof N=="number"&&n<N||typeof N=="function"&&N(n,T);if(e||!O){v(T);return}n++,(P=t.onFail)==null||P.call(t,n,T),A6(A).then(()=>h()?void 0:x()).then(()=>{e?v(T):_()})})};return{promise:o,cancel:l,continue:()=>(i==null||i(),o),cancelRetry:u,continueRetry:d,canStart:m,start:()=>(m()?_():x().then(_),o)}}var I6=t=>setTimeout(t,0);function F6(){let t=[],e=0,n=u=>{u()},s=u=>{u()},i=I6;const o=u=>{e?t.push(u):i(()=>{n(u)})},l=()=>{const u=t;t=[],u.length&&i(()=>{s(()=>{u.forEach(d=>{n(d)})})})};return{batch:u=>{let d;e++;try{d=u()}finally{e--,e||l()}return d},batchCalls:u=>(...d)=>{o(()=>{u(...d)})},schedule:o,setNotifyFunction:u=>{n=u},setBatchNotifyFunction:u=>{s=u},setScheduler:u=>{i=u}}}var In=F6(),To,mN,KA=(mN=class{constructor(){Oe(this,To)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),S0(this.gcTime)&&Se(this,To,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??($o?1/0:5*60*1e3))}clearGcTimeout(){K(this,To)&&(clearTimeout(K(this,To)),Se(this,To,void 0))}},To=new WeakMap,mN),mc,ko,rr,No,qn,zd,Ao,Tr,Oi,gN,z6=(gN=class extends KA{constructor(e){super();Oe(this,Tr);Oe(this,mc);Oe(this,ko);Oe(this,rr);Oe(this,No);Oe(this,qn);Oe(this,zd);Oe(this,Ao);Se(this,Ao,!1),Se(this,zd,e.defaultOptions),this.setOptions(e.options),this.observers=[],Se(this,No,e.client),Se(this,rr,K(this,No).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Se(this,mc,B6(this.options)),this.state=e.state??K(this,mc),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=K(this,qn))==null?void 0:e.promise}setOptions(e){this.options={...K(this,zd),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&K(this,rr).remove(this)}setData(e,n){const s=T0(this.state.data,e,this.options);return et(this,Tr,Oi).call(this,{data:s,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),s}setState(e,n){et(this,Tr,Oi).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var s,i;const n=(s=K(this,qn))==null?void 0:s.promise;return(i=K(this,qn))==null||i.cancel(e),n?n.then(Kn).catch(Kn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(K(this,mc))}isActive(){return this.observers.some(e=>ar(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===jx||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>La(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!BA(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(s=>s.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=K(this,qn))==null||n.continue()}onOnline(){var n;const e=this.observers.find(s=>s.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=K(this,qn))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),K(this,rr).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(K(this,qn)&&(K(this,Ao)?K(this,qn).cancel({revert:!0}):K(this,qn).cancelRetry()),this.scheduleGc()),K(this,rr).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||et(this,Tr,Oi).call(this,{type:"invalidate"})}fetch(e,n){var h,m,p;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(K(this,qn))return K(this,qn).continueRetry(),K(this,qn).promise}if(e&&this.setOptions(e),!this.options.queryFn){const v=this.observers.find(x=>x.options.queryFn);v&&this.setOptions(v.options)}const s=new AbortController,i=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>(Se(this,Ao,!0),s.signal)})},o=()=>{const v=VA(this.options,n),_=(()=>{const w={client:K(this,No),queryKey:this.queryKey,meta:this.meta};return i(w),w})();return Se(this,Ao,!1),this.options.persister?this.options.persister(v,_,this):v(_)},u=(()=>{const v={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:K(this,No),state:this.state,fetchFn:o};return i(v),v})();(h=this.options.behavior)==null||h.onFetch(u,this),Se(this,ko,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((m=u.fetchOptions)==null?void 0:m.meta))&&et(this,Tr,Oi).call(this,{type:"fetch",meta:(p=u.fetchOptions)==null?void 0:p.meta});const d=v=>{var x,_,w,C;oy(v)&&v.silent||et(this,Tr,Oi).call(this,{type:"error",error:v}),oy(v)||((_=(x=K(this,rr).config).onError)==null||_.call(x,v,this),(C=(w=K(this,rr).config).onSettled)==null||C.call(w,this.state.data,v,this)),this.scheduleGc()};return Se(this,qn,qA({initialPromise:n==null?void 0:n.initialPromise,fn:u.fetchFn,abort:s.abort.bind(s),onSuccess:v=>{var x,_,w,C;if(v===void 0){d(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(v)}catch(T){d(T);return}(_=(x=K(this,rr).config).onSuccess)==null||_.call(x,v,this),(C=(w=K(this,rr).config).onSettled)==null||C.call(w,v,this.state.error,this),this.scheduleGc()},onError:d,onFail:(v,x)=>{et(this,Tr,Oi).call(this,{type:"failed",failureCount:v,error:x})},onPause:()=>{et(this,Tr,Oi).call(this,{type:"pause"})},onContinue:()=>{et(this,Tr,Oi).call(this,{type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0})),K(this,qn).start()}},mc=new WeakMap,ko=new WeakMap,rr=new WeakMap,No=new WeakMap,qn=new WeakMap,zd=new WeakMap,Ao=new WeakMap,Tr=new WeakSet,Oi=function(e){const n=s=>{switch(e.type){case"failed":return{...s,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...GA(s.data,this.options),fetchMeta:e.meta??null};case"success":return Se(this,ko,void 0),{...s,data:e.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return oy(i)&&i.revert&&K(this,ko)?{...K(this,ko),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...e.state}}};this.state=n(this.state),In.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),K(this,rr).notify({query:this,type:"updated",action:e})})},gN);function GA(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:$A(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function B6(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,s=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Hr,vN,U6=(vN=class extends qd{constructor(e={}){super();Oe(this,Hr);this.config=e,Se(this,Hr,new Map)}build(e,n,s){const i=n.queryKey,o=n.queryHash??Rx(i,n);let l=this.get(o);return l||(l=new z6({client:e,queryKey:i,queryHash:o,options:e.defaultQueryOptions(n),state:s,defaultOptions:e.getQueryDefaults(i)}),this.add(l)),l}add(e){K(this,Hr).has(e.queryHash)||(K(this,Hr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=K(this,Hr).get(e.queryHash);n&&(e.destroy(),n===e&&K(this,Hr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){In.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return K(this,Hr).get(e)}getAll(){return[...K(this,Hr).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(s=>SE(n,s))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(s=>SE(e,s)):n}notify(e){In.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){In.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){In.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Hr=new WeakMap,vN),qr,rs,Ro,Kr,_a,yN,V6=(yN=class extends KA{constructor(e){super();Oe(this,Kr);Oe(this,qr);Oe(this,rs);Oe(this,Ro);this.mutationId=e.mutationId,Se(this,rs,e.mutationCache),Se(this,qr,[]),this.state=e.state||$6(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){K(this,qr).includes(e)||(K(this,qr).push(e),this.clearGcTimeout(),K(this,rs).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Se(this,qr,K(this,qr).filter(n=>n!==e)),this.scheduleGc(),K(this,rs).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){K(this,qr).length||(this.state.status==="pending"?this.scheduleGc():K(this,rs).remove(this))}continue(){var e;return((e=K(this,Ro))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var o,l,u,d,h,m,p,v,x,_,w,C,T,N,k,A,O,P,j,D;const n=()=>{et(this,Kr,_a).call(this,{type:"continue"})};Se(this,Ro,qA({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(z,I)=>{et(this,Kr,_a).call(this,{type:"failed",failureCount:z,error:I})},onPause:()=>{et(this,Kr,_a).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>K(this,rs).canRun(this)}));const s=this.state.status==="pending",i=!K(this,Ro).canStart();try{if(s)n();else{et(this,Kr,_a).call(this,{type:"pending",variables:e,isPaused:i}),await((l=(o=K(this,rs).config).onMutate)==null?void 0:l.call(o,e,this));const I=await((d=(u=this.options).onMutate)==null?void 0:d.call(u,e));I!==this.state.context&&et(this,Kr,_a).call(this,{type:"pending",context:I,variables:e,isPaused:i})}const z=await K(this,Ro).start();return await((m=(h=K(this,rs).config).onSuccess)==null?void 0:m.call(h,z,e,this.state.context,this)),await((v=(p=this.options).onSuccess)==null?void 0:v.call(p,z,e,this.state.context)),await((_=(x=K(this,rs).config).onSettled)==null?void 0:_.call(x,z,null,this.state.variables,this.state.context,this)),await((C=(w=this.options).onSettled)==null?void 0:C.call(w,z,null,e,this.state.context)),et(this,Kr,_a).call(this,{type:"success",data:z}),z}catch(z){try{throw await((N=(T=K(this,rs).config).onError)==null?void 0:N.call(T,z,e,this.state.context,this)),await((A=(k=this.options).onError)==null?void 0:A.call(k,z,e,this.state.context)),await((P=(O=K(this,rs).config).onSettled)==null?void 0:P.call(O,void 0,z,this.state.variables,this.state.context,this)),await((D=(j=this.options).onSettled)==null?void 0:D.call(j,void 0,z,e,this.state.context)),z}finally{et(this,Kr,_a).call(this,{type:"error",error:z})}}finally{K(this,rs).runNext(this)}}},qr=new WeakMap,rs=new WeakMap,Ro=new WeakMap,Kr=new WeakSet,_a=function(e){const n=s=>{switch(e.type){case"failed":return{...s,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...s,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:e.error,failureCount:s.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),In.batch(()=>{K(this,qr).forEach(s=>{s.onMutationUpdate(e)}),K(this,rs).notify({mutation:this,type:"updated",action:e})})},yN);function $6(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Fi,kr,Bd,bN,H6=(bN=class extends qd{constructor(e={}){super();Oe(this,Fi);Oe(this,kr);Oe(this,Bd);this.config=e,Se(this,Fi,new Set),Se(this,kr,new Map),Se(this,Bd,0)}build(e,n,s){const i=new V6({mutationCache:this,mutationId:++uh(this,Bd)._,options:e.defaultMutationOptions(n),state:s});return this.add(i),i}add(e){K(this,Fi).add(e);const n=xh(e);if(typeof n=="string"){const s=K(this,kr).get(n);s?s.push(e):K(this,kr).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(K(this,Fi).delete(e)){const n=xh(e);if(typeof n=="string"){const s=K(this,kr).get(n);if(s)if(s.length>1){const i=s.indexOf(e);i!==-1&&s.splice(i,1)}else s[0]===e&&K(this,kr).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=xh(e);if(typeof n=="string"){const s=K(this,kr).get(n),i=s==null?void 0:s.find(o=>o.state.status==="pending");return!i||i===e}else return!0}runNext(e){var s;const n=xh(e);if(typeof n=="string"){const i=(s=K(this,kr).get(n))==null?void 0:s.find(o=>o!==e&&o.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){In.batch(()=>{K(this,Fi).forEach(e=>{this.notify({type:"removed",mutation:e})}),K(this,Fi).clear(),K(this,kr).clear()})}getAll(){return Array.from(K(this,Fi))}find(e){const n={exact:!0,...e};return this.getAll().find(s=>CE(n,s))}findAll(e={}){return this.getAll().filter(n=>CE(e,n))}notify(e){In.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return In.batch(()=>Promise.all(e.map(n=>n.continue().catch(Kn))))}},Fi=new WeakMap,kr=new WeakMap,Bd=new WeakMap,bN);function xh(t){var e;return(e=t.options.scope)==null?void 0:e.id}function kE(t){return{onFetch:(e,n)=>{var m,p,v,x,_;const s=e.options,i=(v=(p=(m=e.fetchOptions)==null?void 0:m.meta)==null?void 0:p.fetchMore)==null?void 0:v.direction,o=((x=e.state.data)==null?void 0:x.pages)||[],l=((_=e.state.data)==null?void 0:_.pageParams)||[];let u={pages:[],pageParams:[]},d=0;const h=async()=>{let w=!1;const C=k=>{Object.defineProperty(k,"signal",{enumerable:!0,get:()=>(e.signal.aborted?w=!0:e.signal.addEventListener("abort",()=>{w=!0}),e.signal)})},T=VA(e.options,e.fetchOptions),N=async(k,A,O)=>{if(w)return Promise.reject();if(A==null&&k.pages.length)return Promise.resolve(k);const j=(()=>{const H={client:e.client,queryKey:e.queryKey,pageParam:A,direction:O?"backward":"forward",meta:e.options.meta};return C(H),H})(),D=await T(j),{maxPages:z}=e.options,I=O?j6:R6;return{pages:I(k.pages,D,z),pageParams:I(k.pageParams,A,z)}};if(i&&o.length){const k=i==="backward",A=k?q6:NE,O={pages:o,pageParams:l},P=A(s,O);u=await N(O,P,k)}else{const k=t??o.length;do{const A=d===0?l[0]??s.initialPageParam:NE(s,u);if(d>0&&A==null)break;u=await N(u,A),d++}while(d<k)}return u};e.options.persister?e.fetchFn=()=>{var w,C;return(C=(w=e.options).persister)==null?void 0:C.call(w,h,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=h}}}function NE(t,{pages:e,pageParams:n}){const s=e.length-1;return e.length>0?t.getNextPageParam(e[s],e,n[s],n):void 0}function q6(t,{pages:e,pageParams:n}){var s;return e.length>0?(s=t.getPreviousPageParam)==null?void 0:s.call(t,e[0],e,n[0],n):void 0}var Gt,Na,Aa,gc,vc,Ra,yc,bc,xN,K6=(xN=class{constructor(t={}){Oe(this,Gt);Oe(this,Na);Oe(this,Aa);Oe(this,gc);Oe(this,vc);Oe(this,Ra);Oe(this,yc);Oe(this,bc);Se(this,Gt,t.queryCache||new U6),Se(this,Na,t.mutationCache||new H6),Se(this,Aa,t.defaultOptions||{}),Se(this,gc,new Map),Se(this,vc,new Map),Se(this,Ra,0)}mount(){uh(this,Ra)._++,K(this,Ra)===1&&(Se(this,yc,Mx.subscribe(async t=>{t&&(await this.resumePausedMutations(),K(this,Gt).onFocus())})),Se(this,bc,cp.subscribe(async t=>{t&&(await this.resumePausedMutations(),K(this,Gt).onOnline())})))}unmount(){var t,e;uh(this,Ra)._--,K(this,Ra)===0&&((t=K(this,yc))==null||t.call(this),Se(this,yc,void 0),(e=K(this,bc))==null||e.call(this),Se(this,bc,void 0))}isFetching(t){return K(this,Gt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return K(this,Na).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=K(this,Gt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=K(this,Gt).build(this,e),s=n.state.data;return s===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(La(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(s))}getQueriesData(t){return K(this,Gt).findAll(t).map(({queryKey:e,state:n})=>{const s=n.data;return[e,s]})}setQueryData(t,e,n){const s=this.defaultQueryOptions({queryKey:t}),i=K(this,Gt).get(s.queryHash),o=i==null?void 0:i.state.data,l=N6(e,o);if(l!==void 0)return K(this,Gt).build(this,s).setData(l,{...n,manual:!0})}setQueriesData(t,e,n){return In.batch(()=>K(this,Gt).findAll(t).map(({queryKey:s})=>[s,this.setQueryData(s,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=K(this,Gt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=K(this,Gt);In.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=K(this,Gt);return In.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},s=In.batch(()=>K(this,Gt).findAll(t).map(i=>i.cancel(n)));return Promise.all(s).then(Kn).catch(Kn)}invalidateQueries(t,e={}){return In.batch(()=>(K(this,Gt).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},s=In.batch(()=>K(this,Gt).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let o=i.fetch(void 0,n);return n.throwOnError||(o=o.catch(Kn)),i.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(s).then(Kn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=K(this,Gt).build(this,e);return n.isStaleByTime(La(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Kn).catch(Kn)}fetchInfiniteQuery(t){return t.behavior=kE(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Kn).catch(Kn)}ensureInfiniteQueryData(t){return t.behavior=kE(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return cp.isOnline()?K(this,Na).resumePausedMutations():Promise.resolve()}getQueryCache(){return K(this,Gt)}getMutationCache(){return K(this,Na)}getDefaultOptions(){return K(this,Aa)}setDefaultOptions(t){Se(this,Aa,t)}setQueryDefaults(t,e){K(this,gc).set(xd(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...K(this,gc).values()],n={};return e.forEach(s=>{wd(t,s.queryKey)&&Object.assign(n,s.defaultOptions)}),n}setMutationDefaults(t,e){K(this,vc).set(xd(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...K(this,vc).values()],n={};return e.forEach(s=>{wd(t,s.mutationKey)&&Object.assign(n,s.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...K(this,Aa).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Rx(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===jx&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...K(this,Aa).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){K(this,Gt).clear(),K(this,Na).clear()}},Gt=new WeakMap,Na=new WeakMap,Aa=new WeakMap,gc=new WeakMap,vc=new WeakMap,Ra=new WeakMap,yc=new WeakMap,bc=new WeakMap,xN),ys,tt,Ud,is,jo,xc,ja,Ma,Vd,wc,_c,Mo,Oo,Oa,Sc,ht,Ju,N0,A0,R0,j0,M0,O0,D0,YA,wN,G6=(wN=class extends qd{constructor(e,n){super();Oe(this,ht);Oe(this,ys);Oe(this,tt);Oe(this,Ud);Oe(this,is);Oe(this,jo);Oe(this,xc);Oe(this,ja);Oe(this,Ma);Oe(this,Vd);Oe(this,wc);Oe(this,_c);Oe(this,Mo);Oe(this,Oo);Oe(this,Oa);Oe(this,Sc,new Set);this.options=n,Se(this,ys,e),Se(this,Ma,null),Se(this,ja,k0()),this.options.experimental_prefetchInRender||K(this,ja).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(K(this,tt).addObserver(this),AE(K(this,tt),this.options)?et(this,ht,Ju).call(this):this.updateResult(),et(this,ht,j0).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return P0(K(this,tt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return P0(K(this,tt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,et(this,ht,M0).call(this),et(this,ht,O0).call(this),K(this,tt).removeObserver(this)}setOptions(e){const n=this.options,s=K(this,tt);if(this.options=K(this,ys).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ar(this.options.enabled,K(this,tt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");et(this,ht,D0).call(this),K(this,tt).setOptions(this.options),n._defaulted&&!C0(this.options,n)&&K(this,ys).getQueryCache().notify({type:"observerOptionsUpdated",query:K(this,tt),observer:this});const i=this.hasListeners();i&&RE(K(this,tt),s,this.options,n)&&et(this,ht,Ju).call(this),this.updateResult(),i&&(K(this,tt)!==s||ar(this.options.enabled,K(this,tt))!==ar(n.enabled,K(this,tt))||La(this.options.staleTime,K(this,tt))!==La(n.staleTime,K(this,tt)))&&et(this,ht,N0).call(this);const o=et(this,ht,A0).call(this);i&&(K(this,tt)!==s||ar(this.options.enabled,K(this,tt))!==ar(n.enabled,K(this,tt))||o!==K(this,Oa))&&et(this,ht,R0).call(this,o)}getOptimisticResult(e){const n=K(this,ys).getQueryCache().build(K(this,ys),e),s=this.createResult(n,e);return W6(this,s)&&(Se(this,is,s),Se(this,xc,this.options),Se(this,jo,K(this,tt).state)),s}getCurrentResult(){return K(this,is)}trackResult(e,n){return new Proxy(e,{get:(s,i)=>(this.trackProp(i),n==null||n(i),Reflect.get(s,i))})}trackProp(e){K(this,Sc).add(e)}getCurrentQuery(){return K(this,tt)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=K(this,ys).defaultQueryOptions(e),s=K(this,ys).getQueryCache().build(K(this,ys),n);return s.fetch().then(()=>this.createResult(s,n))}fetch(e){return et(this,ht,Ju).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),K(this,is)))}createResult(e,n){var z;const s=K(this,tt),i=this.options,o=K(this,is),l=K(this,jo),u=K(this,xc),h=e!==s?e.state:K(this,Ud),{state:m}=e;let p={...m},v=!1,x;if(n._optimisticResults){const I=this.hasListeners(),H=!I&&AE(e,n),V=I&&RE(e,s,n,i);(H||V)&&(p={...p,...GA(m.data,e.options)}),n._optimisticResults==="isRestoring"&&(p.fetchStatus="idle")}let{error:_,errorUpdatedAt:w,status:C}=p;x=p.data;let T=!1;if(n.placeholderData!==void 0&&x===void 0&&C==="pending"){let I;o!=null&&o.isPlaceholderData&&n.placeholderData===(u==null?void 0:u.placeholderData)?(I=o.data,T=!0):I=typeof n.placeholderData=="function"?n.placeholderData((z=K(this,_c))==null?void 0:z.state.data,K(this,_c)):n.placeholderData,I!==void 0&&(C="success",x=T0(o==null?void 0:o.data,I,n),v=!0)}if(n.select&&x!==void 0&&!T)if(o&&x===(l==null?void 0:l.data)&&n.select===K(this,Vd))x=K(this,wc);else try{Se(this,Vd,n.select),x=n.select(x),x=T0(o==null?void 0:o.data,x,n),Se(this,wc,x),Se(this,Ma,null)}catch(I){Se(this,Ma,I)}K(this,Ma)&&(_=K(this,Ma),x=K(this,wc),w=Date.now(),C="error");const N=p.fetchStatus==="fetching",k=C==="pending",A=C==="error",O=k&&N,P=x!==void 0,D={status:C,fetchStatus:p.fetchStatus,isPending:k,isSuccess:C==="success",isError:A,isInitialLoading:O,isLoading:O,data:x,dataUpdatedAt:p.dataUpdatedAt,error:_,errorUpdatedAt:w,failureCount:p.fetchFailureCount,failureReason:p.fetchFailureReason,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>h.dataUpdateCount||p.errorUpdateCount>h.errorUpdateCount,isFetching:N,isRefetching:N&&!k,isLoadingError:A&&!P,isPaused:p.fetchStatus==="paused",isPlaceholderData:v,isRefetchError:A&&P,isStale:Ox(e,n),refetch:this.refetch,promise:K(this,ja),isEnabled:ar(n.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const I=X=>{D.status==="error"?X.reject(D.error):D.data!==void 0&&X.resolve(D.data)},H=()=>{const X=Se(this,ja,D.promise=k0());I(X)},V=K(this,ja);switch(V.status){case"pending":e.queryHash===s.queryHash&&I(V);break;case"fulfilled":(D.status==="error"||D.data!==V.value)&&H();break;case"rejected":(D.status!=="error"||D.error!==V.reason)&&H();break}}return D}updateResult(){const e=K(this,is),n=this.createResult(K(this,tt),this.options);if(Se(this,jo,K(this,tt).state),Se(this,xc,this.options),K(this,jo).data!==void 0&&Se(this,_c,K(this,tt)),C0(n,e))return;Se(this,is,n);const s=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,o=typeof i=="function"?i():i;if(o==="all"||!o&&!K(this,Sc).size)return!0;const l=new Set(o??K(this,Sc));return this.options.throwOnError&&l.add("error"),Object.keys(K(this,is)).some(u=>{const d=u;return K(this,is)[d]!==e[d]&&l.has(d)})};et(this,ht,YA).call(this,{listeners:s()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&et(this,ht,j0).call(this)}},ys=new WeakMap,tt=new WeakMap,Ud=new WeakMap,is=new WeakMap,jo=new WeakMap,xc=new WeakMap,ja=new WeakMap,Ma=new WeakMap,Vd=new WeakMap,wc=new WeakMap,_c=new WeakMap,Mo=new WeakMap,Oo=new WeakMap,Oa=new WeakMap,Sc=new WeakMap,ht=new WeakSet,Ju=function(e){et(this,ht,D0).call(this);let n=K(this,tt).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(Kn)),n},N0=function(){et(this,ht,M0).call(this);const e=La(this.options.staleTime,K(this,tt));if($o||K(this,is).isStale||!S0(e))return;const s=BA(K(this,is).dataUpdatedAt,e)+1;Se(this,Mo,setTimeout(()=>{K(this,is).isStale||this.updateResult()},s))},A0=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(K(this,tt)):this.options.refetchInterval)??!1},R0=function(e){et(this,ht,O0).call(this),Se(this,Oa,e),!($o||ar(this.options.enabled,K(this,tt))===!1||!S0(K(this,Oa))||K(this,Oa)===0)&&Se(this,Oo,setInterval(()=>{(this.options.refetchIntervalInBackground||Mx.isFocused())&&et(this,ht,Ju).call(this)},K(this,Oa)))},j0=function(){et(this,ht,N0).call(this),et(this,ht,R0).call(this,et(this,ht,A0).call(this))},M0=function(){K(this,Mo)&&(clearTimeout(K(this,Mo)),Se(this,Mo,void 0))},O0=function(){K(this,Oo)&&(clearInterval(K(this,Oo)),Se(this,Oo,void 0))},D0=function(){const e=K(this,ys).getQueryCache().build(K(this,ys),this.options);if(e===K(this,tt))return;const n=K(this,tt);Se(this,tt,e),Se(this,Ud,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},YA=function(e){In.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(K(this,is))}),K(this,ys).getQueryCache().notify({query:K(this,tt),type:"observerResultsUpdated"})})},wN);function Y6(t,e){return ar(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function AE(t,e){return Y6(t,e)||t.state.data!==void 0&&P0(t,e,e.refetchOnMount)}function P0(t,e,n){if(ar(e.enabled,t)!==!1&&La(e.staleTime,t)!=="static"){const s=typeof n=="function"?n(t):n;return s==="always"||s!==!1&&Ox(t,e)}return!1}function RE(t,e,n,s){return(t!==e||ar(s.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&Ox(t,n)}function Ox(t,e){return ar(e.enabled,t)!==!1&&t.isStaleByTime(La(e.staleTime,t))}function W6(t,e){return!C0(t.getCurrentResult(),e)}function WA(t){return t}function X6(t){return{mutationKey:t.options.mutationKey,state:t.state,...t.options.scope&&{scope:t.options.scope},...t.meta&&{meta:t.meta}}}function Q6(t,e,n){var s;return{dehydratedAt:Date.now(),state:{...t.state,...t.state.data!==void 0&&{data:e(t.state.data)}},queryKey:t.queryKey,queryHash:t.queryHash,...t.state.status==="pending"&&{promise:(s=t.promise)==null?void 0:s.then(e).catch(i=>n(i)?Promise.reject(new Error("redacted")):Promise.reject(i))},...t.meta&&{meta:t.meta}}}function J6(t){return t.state.isPaused}function Z6(t){return t.state.status==="success"}function eF(t){return!0}function tF(t,e={}){var d,h,m,p;const n=e.shouldDehydrateMutation??((d=t.getDefaultOptions().dehydrate)==null?void 0:d.shouldDehydrateMutation)??J6,s=t.getMutationCache().getAll().flatMap(v=>n(v)?[X6(v)]:[]),i=e.shouldDehydrateQuery??((h=t.getDefaultOptions().dehydrate)==null?void 0:h.shouldDehydrateQuery)??Z6,o=e.shouldRedactErrors??((m=t.getDefaultOptions().dehydrate)==null?void 0:m.shouldRedactErrors)??eF,l=e.serializeData??((p=t.getDefaultOptions().dehydrate)==null?void 0:p.serializeData)??WA,u=t.getQueryCache().getAll().flatMap(v=>i(v)?[Q6(v,l,o)]:[]);return{mutations:s,queries:u}}function nF(t,e,n){var d,h;if(typeof e!="object"||e===null)return;const s=t.getMutationCache(),i=t.getQueryCache(),o=((d=n==null?void 0:n.defaultOptions)==null?void 0:d.deserializeData)??((h=t.getDefaultOptions().hydrate)==null?void 0:h.deserializeData)??WA,l=e.mutations||[],u=e.queries||[];l.forEach(({state:m,...p})=>{var v,x;s.build(t,{...(v=t.getDefaultOptions().hydrate)==null?void 0:v.mutations,...(x=n==null?void 0:n.defaultOptions)==null?void 0:x.mutations,...p},m)}),u.forEach(({queryKey:m,state:p,queryHash:v,meta:x,promise:_,dehydratedAt:w})=>{var P,j;const C=_?P6(_):void 0,T=p.data===void 0?C==null?void 0:C.data:p.data,N=T===void 0?T:o(T);let k=i.get(v);const A=(k==null?void 0:k.state.status)==="pending",O=(k==null?void 0:k.state.fetchStatus)==="fetching";if(k){const D=C&&w!==void 0&&w>k.state.dataUpdatedAt;if(p.dataUpdatedAt>k.state.dataUpdatedAt||D){const{fetchStatus:z,...I}=p;k.setState({...I,data:N})}}else k=i.build(t,{...(P=t.getDefaultOptions().hydrate)==null?void 0:P.queries,...(j=n==null?void 0:n.defaultOptions)==null?void 0:j.queries,queryKey:m,queryHash:v,meta:x},{...p,data:N,fetchStatus:"idle",status:N!==void 0?"success":p.status});_&&!A&&!O&&(w===void 0||w>k.state.dataUpdatedAt)&&k.fetch(void 0,{initialPromise:Promise.resolve(_).then(o)})})}var XA=S.createContext(void 0),sF=t=>{const e=S.useContext(XA);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},rF=({client:t,children:e})=>(S.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),g.jsx(XA.Provider,{value:t,children:e})),QA=S.createContext(!1),iF=()=>S.useContext(QA),aF=QA.Provider;function oF(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var lF=S.createContext(oF()),cF=()=>S.useContext(lF),uF=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},dF=t=>{S.useEffect(()=>{t.clearReset()},[t])},fF=({result:t,errorResetBoundary:e,throwOnError:n,query:s,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&s&&(i&&t.data===void 0||M6(n,[t.error,s])),hF=t=>{if(t.suspense){const e=s=>s==="static"?s:Math.max(s??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...s)=>e(n(...s)):e(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},pF=(t,e)=>t.isLoading&&t.isFetching&&!e,mF=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,jE=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function gF(t,e,n){var p,v,x,_,w;const s=iF(),i=cF(),o=sF(),l=o.defaultQueryOptions(t);(v=(p=o.getDefaultOptions().queries)==null?void 0:p._experimental_beforeQuery)==null||v.call(p,l),l._optimisticResults=s?"isRestoring":"optimistic",hF(l),uF(l,i),dF(i);const u=!o.getQueryCache().get(l.queryHash),[d]=S.useState(()=>new e(o,l)),h=d.getOptimisticResult(l),m=!s&&t.subscribed!==!1;if(S.useSyncExternalStore(S.useCallback(C=>{const T=m?d.subscribe(In.batchCalls(C)):Kn;return d.updateResult(),T},[d,m]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),S.useEffect(()=>{d.setOptions(l)},[l,d]),mF(l,h))throw jE(l,d,i);if(fF({result:h,errorResetBoundary:i,throwOnError:l.throwOnError,query:o.getQueryCache().get(l.queryHash),suspense:l.suspense}))throw h.error;if((_=(x=o.getDefaultOptions().queries)==null?void 0:x._experimental_afterQuery)==null||_.call(x,l,h),l.experimental_prefetchInRender&&!$o&&pF(h,s)){const C=u?jE(l,d,i):(w=o.getQueryCache().get(l.queryHash))==null?void 0:w.promise;C==null||C.catch(Kn).finally(()=>{d.updateResult()})}return l.notifyOnChangeProps?h:d.trackResult(h)}function vF(t,e){return gF(t,G6)}const rm=S.createContext(null),yF=({children:t})=>{const e=_0(),{setTextModels:n,setTextModel:s,setSelectedTools:i,setAllTools:o,setShowLoginDialog:l}=e;S.useRef([]);const{data:u,refetch:d}=vF({queryKey:["list_models_2"],queryFn:()=>S6(),staleTime:1e3,placeholderData:m=>m,refetchOnWindowFocus:!0,refetchOnReconnect:!0,refetchOnMount:!0});S.useEffect(()=>{if(!u)return;const{llm:m=[],tools:p=[]}=u;n(m||[]),o(p||[]);const v=localStorage.getItem("text_model");v&&m.find(w=>w.provider+":"+w.model===v)?s(m.find(w=>w.provider+":"+w.model===v)):s(m.find(w=>w.type==="text"));const x=localStorage.getItem("disabled_tool_ids");let _=[];if(_=p,x)try{const w=JSON.parse(x);_=p.filter(C=>!w.includes(C.id))}catch(w){console.error(w)}i(_)},[u,i,s,n,o,l]);const h=()=>{d()};return g.jsx(rm.Provider,{value:{configsStore:_0,refreshModels:d,updateModelsAndTools:h},children:t})},Dx=()=>{const t=S.useContext(rm);if(!t)throw new Error("useConfigs must be used within a ConfigsProvider");return t.configsStore()},JA=()=>{const t=S.useContext(rm);if(!t)throw new Error("useRefreshModels must be used within a ConfigsProvider");return t.refreshModels},bF=()=>{const t=S.useContext(rm);if(!t)throw new Error("useUpdateModelsAndTools must be used within a ConfigsProvider");return t.updateModelsAndTools},Px=S.createContext({});function Lx(t){const e=S.useRef(null);return e.current===null&&(e.current=t()),e.current}const Ix=typeof window<"u",ZA=Ix?S.useLayoutEffect:S.useEffect,im=S.createContext(null);function Fx(t,e){t.indexOf(e)===-1&&t.push(e)}function zx(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Ui=(t,e,n)=>n>e?e:n<t?t:n;let Bx=()=>{};const Vi={},eR=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function tR(t){return typeof t=="object"&&t!==null}const nR=t=>/^0[^.\s]+$/u.test(t);function Ux(t){let e;return()=>(e===void 0&&(e=t()),e)}const cr=t=>t,xF=(t,e)=>n=>e(t(n)),Kd=(...t)=>t.reduce(xF),_d=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class Vx{constructor(){this.subscriptions=[]}add(e){return Fx(this.subscriptions,e),()=>zx(this.subscriptions,e)}notify(e,n,s){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,s);else for(let o=0;o<i;o++){const l=this.subscriptions[o];l&&l(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Zr=t=>t*1e3,ei=t=>t/1e3;function sR(t,e){return e?t*(1e3/e):0}const rR=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,wF=1e-7,_F=12;function SF(t,e,n,s,i){let o,l,u=0;do l=e+(n-e)/2,o=rR(l,s,i)-t,o>0?n=l:e=l;while(Math.abs(o)>wF&&++u<_F);return l}function Gd(t,e,n,s){if(t===e&&n===s)return cr;const i=o=>SF(o,0,1,t,n);return o=>o===0||o===1?o:rR(i(o),e,s)}const iR=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,aR=t=>e=>1-t(1-e),oR=Gd(.33,1.53,.69,.99),$x=aR(oR),lR=iR($x),cR=t=>(t*=2)<1?.5*$x(t):.5*(2-Math.pow(2,-10*(t-1))),Hx=t=>1-Math.sin(Math.acos(t)),uR=aR(Hx),dR=iR(Hx),CF=Gd(.42,0,1,1),EF=Gd(0,0,.58,1),fR=Gd(.42,0,.58,1),TF=t=>Array.isArray(t)&&typeof t[0]!="number",hR=t=>Array.isArray(t)&&typeof t[0]=="number",kF={linear:cr,easeIn:CF,easeInOut:fR,easeOut:EF,circIn:Hx,circInOut:dR,circOut:uR,backIn:$x,backInOut:lR,backOut:oR,anticipate:cR},NF=t=>typeof t=="string",ME=t=>{if(hR(t)){Bx(t.length===4);const[e,n,s,i]=t;return Gd(e,n,s,i)}else if(NF(t))return kF[t];return t},wh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function AF(t,e){let n=new Set,s=new Set,i=!1,o=!1;const l=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function d(m){l.has(m)&&(h.schedule(m),t()),m(u)}const h={schedule:(m,p=!1,v=!1)=>{const _=v&&i?n:s;return p&&l.add(m),_.has(m)||_.add(m),m},cancel:m=>{s.delete(m),l.delete(m)},process:m=>{if(u=m,i){o=!0;return}i=!0,[n,s]=[s,n],n.forEach(d),n.clear(),i=!1,o&&(o=!1,h.process(m))}};return h}const RF=40;function pR(t,e){let n=!1,s=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,l=wh.reduce((k,A)=>(k[A]=AF(o),k),{}),{setup:u,read:d,resolveKeyframes:h,preUpdate:m,update:p,preRender:v,render:x,postRender:_}=l,w=()=>{const k=Vi.useManualTiming?i.timestamp:performance.now();n=!1,Vi.useManualTiming||(i.delta=s?1e3/60:Math.max(Math.min(k-i.timestamp,RF),1)),i.timestamp=k,i.isProcessing=!0,u.process(i),d.process(i),h.process(i),m.process(i),p.process(i),v.process(i),x.process(i),_.process(i),i.isProcessing=!1,n&&e&&(s=!1,t(w))},C=()=>{n=!0,s=!0,i.isProcessing||t(w)};return{schedule:wh.reduce((k,A)=>{const O=l[A];return k[A]=(P,j=!1,D=!1)=>(n||C(),O.schedule(P,j,D)),k},{}),cancel:k=>{for(let A=0;A<wh.length;A++)l[wh[A]].cancel(k)},state:i,steps:l}}const{schedule:It,cancel:Ba,state:Pn,steps:ly}=pR(typeof requestAnimationFrame<"u"?requestAnimationFrame:cr,!0);let Qh;function jF(){Qh=void 0}const Ss={now:()=>(Qh===void 0&&Ss.set(Pn.isProcessing||Vi.useManualTiming?Pn.timestamp:performance.now()),Qh),set:t=>{Qh=t,queueMicrotask(jF)}},mR=t=>e=>typeof e=="string"&&e.startsWith(t),qx=mR("--"),MF=mR("var(--"),Kx=t=>MF(t)?OF.test(t.split("/*")[0].trim()):!1,OF=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,qc={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Sd={...qc,transform:t=>Ui(0,1,t)},_h={...qc,default:1},ud=t=>Math.round(t*1e5)/1e5,Gx=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function DF(t){return t==null}const PF=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Yx=(t,e)=>n=>!!(typeof n=="string"&&PF.test(n)&&n.startsWith(t)||e&&!DF(n)&&Object.prototype.hasOwnProperty.call(n,e)),gR=(t,e,n)=>s=>{if(typeof s!="string")return s;const[i,o,l,u]=s.match(Gx);return{[t]:parseFloat(i),[e]:parseFloat(o),[n]:parseFloat(l),alpha:u!==void 0?parseFloat(u):1}},LF=t=>Ui(0,255,t),cy={...qc,transform:t=>Math.round(LF(t))},So={test:Yx("rgb","red"),parse:gR("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+cy.transform(t)+", "+cy.transform(e)+", "+cy.transform(n)+", "+ud(Sd.transform(s))+")"};function IF(t){let e="",n="",s="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,s+=s,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:i?parseInt(i,16)/255:1}}const L0={test:Yx("#"),parse:IF,transform:So.transform},Yd=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Sa=Yd("deg"),ti=Yd("%"),De=Yd("px"),FF=Yd("vh"),zF=Yd("vw"),OE={...ti,parse:t=>ti.parse(t)/100,transform:t=>ti.transform(t*100)},Xl={test:Yx("hsl","hue"),parse:gR("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+ti.transform(ud(e))+", "+ti.transform(ud(n))+", "+ud(Sd.transform(s))+")"},fn={test:t=>So.test(t)||L0.test(t)||Xl.test(t),parse:t=>So.test(t)?So.parse(t):Xl.test(t)?Xl.parse(t):L0.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?So.transform(t):Xl.transform(t),getAnimatableNone:t=>{const e=fn.parse(t);return e.alpha=0,fn.transform(e)}},BF=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function UF(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Gx))==null?void 0:e.length)||0)+(((n=t.match(BF))==null?void 0:n.length)||0)>0}const vR="number",yR="color",VF="var",$F="var(",DE="${}",HF=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Cd(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},i=[];let o=0;const u=e.replace(HF,d=>(fn.test(d)?(s.color.push(o),i.push(yR),n.push(fn.parse(d))):d.startsWith($F)?(s.var.push(o),i.push(VF),n.push(d)):(s.number.push(o),i.push(vR),n.push(parseFloat(d))),++o,DE)).split(DE);return{values:n,split:u,indexes:s,types:i}}function bR(t){return Cd(t).values}function xR(t){const{split:e,types:n}=Cd(t),s=e.length;return i=>{let o="";for(let l=0;l<s;l++)if(o+=e[l],i[l]!==void 0){const u=n[l];u===vR?o+=ud(i[l]):u===yR?o+=fn.transform(i[l]):o+=i[l]}return o}}const qF=t=>typeof t=="number"?0:fn.test(t)?fn.getAnimatableNone(t):t;function KF(t){const e=bR(t);return xR(t)(e.map(qF))}const Ua={test:UF,parse:bR,createTransformer:xR,getAnimatableNone:KF};function uy(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function GF({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let i=0,o=0,l=0;if(!e)i=o=l=n;else{const u=n<.5?n*(1+e):n+e-n*e,d=2*n-u;i=uy(d,u,t+1/3),o=uy(d,u,t),l=uy(d,u,t-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(l*255),alpha:s}}function up(t,e){return n=>n>0?e:t}const zt=(t,e,n)=>t+(e-t)*n,dy=(t,e,n)=>{const s=t*t,i=n*(e*e-s)+s;return i<0?0:Math.sqrt(i)},YF=[L0,So,Xl],WF=t=>YF.find(e=>e.test(t));function PE(t){const e=WF(t);if(!e)return!1;let n=e.parse(t);return e===Xl&&(n=GF(n)),n}const LE=(t,e)=>{const n=PE(t),s=PE(e);if(!n||!s)return up(t,e);const i={...n};return o=>(i.red=dy(n.red,s.red,o),i.green=dy(n.green,s.green,o),i.blue=dy(n.blue,s.blue,o),i.alpha=zt(n.alpha,s.alpha,o),So.transform(i))},I0=new Set(["none","hidden"]);function XF(t,e){return I0.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function QF(t,e){return n=>zt(t,e,n)}function Wx(t){return typeof t=="number"?QF:typeof t=="string"?Kx(t)?up:fn.test(t)?LE:ez:Array.isArray(t)?wR:typeof t=="object"?fn.test(t)?LE:JF:up}function wR(t,e){const n=[...t],s=n.length,i=t.map((o,l)=>Wx(o)(o,e[l]));return o=>{for(let l=0;l<s;l++)n[l]=i[l](o);return n}}function JF(t,e){const n={...t,...e},s={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(s[i]=Wx(t[i])(t[i],e[i]));return i=>{for(const o in s)n[o]=s[o](i);return n}}function ZF(t,e){const n=[],s={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const o=e.types[i],l=t.indexes[o][s[o]],u=t.values[l]??0;n[i]=u,s[o]++}return n}const ez=(t,e)=>{const n=Ua.createTransformer(e),s=Cd(t),i=Cd(e);return s.indexes.var.length===i.indexes.var.length&&s.indexes.color.length===i.indexes.color.length&&s.indexes.number.length>=i.indexes.number.length?I0.has(t)&&!i.values.length||I0.has(e)&&!s.values.length?XF(t,e):Kd(wR(ZF(s,i),i.values),n):up(t,e)};function _R(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?zt(t,e,n):Wx(t)(t,e)}const tz=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>It.update(e,n),stop:()=>Ba(e),now:()=>Pn.isProcessing?Pn.timestamp:Ss.now()}},SR=(t,e,n=10)=>{let s="";const i=Math.max(Math.round(e/n),2);for(let o=0;o<i;o++)s+=Math.round(t(o/(i-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},dp=2e4;function Xx(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<dp;)e+=n,s=t.next(e);return e>=dp?1/0:e}function nz(t,e=100,n){const s=n({...t,keyframes:[0,e]}),i=Math.min(Xx(s),dp);return{type:"keyframes",ease:o=>s.next(i*o).value/e,duration:ei(i)}}const sz=5;function CR(t,e,n){const s=Math.max(e-sz,0);return sR(n-t(s),e-s)}const Yt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},fy=.001;function rz({duration:t=Yt.duration,bounce:e=Yt.bounce,velocity:n=Yt.velocity,mass:s=Yt.mass}){let i,o,l=1-e;l=Ui(Yt.minDamping,Yt.maxDamping,l),t=Ui(Yt.minDuration,Yt.maxDuration,ei(t)),l<1?(i=h=>{const m=h*l,p=m*t,v=m-n,x=F0(h,l),_=Math.exp(-p);return fy-v/x*_},o=h=>{const p=h*l*t,v=p*n+n,x=Math.pow(l,2)*Math.pow(h,2)*t,_=Math.exp(-p),w=F0(Math.pow(h,2),l);return(-i(h)+fy>0?-1:1)*((v-x)*_)/w}):(i=h=>{const m=Math.exp(-h*t),p=(h-n)*t+1;return-fy+m*p},o=h=>{const m=Math.exp(-h*t),p=(n-h)*(t*t);return m*p});const u=5/t,d=az(i,o,u);if(t=Zr(t),isNaN(d))return{stiffness:Yt.stiffness,damping:Yt.damping,duration:t};{const h=Math.pow(d,2)*s;return{stiffness:h,damping:l*2*Math.sqrt(s*h),duration:t}}}const iz=12;function az(t,e,n){let s=n;for(let i=1;i<iz;i++)s=s-t(s)/e(s);return s}function F0(t,e){return t*Math.sqrt(1-e*e)}const oz=["duration","bounce"],lz=["stiffness","damping","mass"];function IE(t,e){return e.some(n=>t[n]!==void 0)}function cz(t){let e={velocity:Yt.velocity,stiffness:Yt.stiffness,damping:Yt.damping,mass:Yt.mass,isResolvedFromDuration:!1,...t};if(!IE(t,lz)&&IE(t,oz))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),i=s*s,o=2*Ui(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Yt.mass,stiffness:i,damping:o}}else{const n=rz(t);e={...e,...n,mass:Yt.mass},e.isResolvedFromDuration=!0}return e}function fp(t=Yt.visualDuration,e=Yt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:i}=n;const o=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],u={done:!1,value:o},{stiffness:d,damping:h,mass:m,duration:p,velocity:v,isResolvedFromDuration:x}=cz({...n,velocity:-ei(n.velocity||0)}),_=v||0,w=h/(2*Math.sqrt(d*m)),C=l-o,T=ei(Math.sqrt(d/m)),N=Math.abs(C)<5;s||(s=N?Yt.restSpeed.granular:Yt.restSpeed.default),i||(i=N?Yt.restDelta.granular:Yt.restDelta.default);let k;if(w<1){const O=F0(T,w);k=P=>{const j=Math.exp(-w*T*P);return l-j*((_+w*T*C)/O*Math.sin(O*P)+C*Math.cos(O*P))}}else if(w===1)k=O=>l-Math.exp(-T*O)*(C+(_+T*C)*O);else{const O=T*Math.sqrt(w*w-1);k=P=>{const j=Math.exp(-w*T*P),D=Math.min(O*P,300);return l-j*((_+w*T*C)*Math.sinh(D)+O*C*Math.cosh(D))/O}}const A={calculatedDuration:x&&p||null,next:O=>{const P=k(O);if(x)u.done=O>=p;else{let j=O===0?_:0;w<1&&(j=O===0?Zr(_):CR(k,O,P));const D=Math.abs(j)<=s,z=Math.abs(l-P)<=i;u.done=D&&z}return u.value=u.done?l:P,u},toString:()=>{const O=Math.min(Xx(A),dp),P=SR(j=>A.next(O*j).value,O,30);return O+"ms "+P},toTransition:()=>{}};return A}fp.applyToOptions=t=>{const e=nz(t,100,fp);return t.ease=e.ease,t.duration=Zr(e.duration),t.type="keyframes",t};function z0({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:l,min:u,max:d,restDelta:h=.5,restSpeed:m}){const p=t[0],v={done:!1,value:p},x=D=>u!==void 0&&D<u||d!==void 0&&D>d,_=D=>u===void 0?d:d===void 0||Math.abs(u-D)<Math.abs(d-D)?u:d;let w=n*e;const C=p+w,T=l===void 0?C:l(C);T!==C&&(w=T-p);const N=D=>-w*Math.exp(-D/s),k=D=>T+N(D),A=D=>{const z=N(D),I=k(D);v.done=Math.abs(z)<=h,v.value=v.done?T:I};let O,P;const j=D=>{x(v.value)&&(O=D,P=fp({keyframes:[v.value,_(v.value)],velocity:CR(k,D,v.value),damping:i,stiffness:o,restDelta:h,restSpeed:m}))};return j(0),{calculatedDuration:null,next:D=>{let z=!1;return!P&&O===void 0&&(z=!0,A(D),j(D)),O!==void 0&&D>=O?P.next(D-O):(!z&&A(D),v)}}}function uz(t,e,n){const s=[],i=n||Vi.mix||_R,o=t.length-1;for(let l=0;l<o;l++){let u=i(t[l],t[l+1]);if(e){const d=Array.isArray(e)?e[l]||cr:e;u=Kd(d,u)}s.push(u)}return s}function dz(t,e,{clamp:n=!0,ease:s,mixer:i}={}){const o=t.length;if(Bx(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const u=uz(e,s,i),d=u.length,h=m=>{if(l&&m<t[0])return e[0];let p=0;if(d>1)for(;p<t.length-2&&!(m<t[p+1]);p++);const v=_d(t[p],t[p+1],m);return u[p](v)};return n?m=>h(Ui(t[0],t[o-1],m)):h}function fz(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const i=_d(0,e,s);t.push(zt(n,1,i))}}function hz(t){const e=[0];return fz(e,t.length-1),e}function pz(t,e){return t.map(n=>n*e)}function mz(t,e){return t.map(()=>e||fR).splice(0,t.length-1)}function dd({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const i=TF(s)?s.map(ME):ME(s),o={done:!1,value:e[0]},l=pz(n&&n.length===e.length?n:hz(e),t),u=dz(l,e,{ease:Array.isArray(i)?i:mz(e,i)});return{calculatedDuration:t,next:d=>(o.value=u(d),o.done=d>=t,o)}}const gz=t=>t!==null;function Qx(t,{repeat:e,repeatType:n="loop"},s,i=1){const o=t.filter(gz),u=i<0||e&&n!=="loop"&&e%2===1?0:o.length-1;return!u||s===void 0?o[u]:s}const vz={decay:z0,inertia:z0,tween:dd,keyframes:dd,spring:fp};function ER(t){typeof t.type=="string"&&(t.type=vz[t.type])}class Jx{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const yz=t=>t/100;class Zx extends Jx{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var s,i;const{motionValue:n}=this.options;n&&n.updatedAt!==Ss.now()&&this.tick(Ss.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(s=this.options).onStop)==null||i.call(s))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;ER(e);const{type:n=dd,repeat:s=0,repeatDelay:i=0,repeatType:o,velocity:l=0}=e;let{keyframes:u}=e;const d=n||dd;d!==dd&&typeof u[0]!="number"&&(this.mixKeyframes=Kd(yz,_R(u[0],u[1])),u=[0,100]);const h=d({...e,keyframes:u});o==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...u].reverse(),velocity:-l})),h.calculatedDuration===null&&(h.calculatedDuration=Xx(h));const{calculatedDuration:m}=h;this.calculatedDuration=m,this.resolvedDuration=m+i,this.totalDuration=this.resolvedDuration*(s+1)-i,this.generator=h}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:i,mixKeyframes:o,mirroredGenerator:l,resolvedDuration:u,calculatedDuration:d}=this;if(this.startTime===null)return s.next(0);const{delay:h=0,keyframes:m,repeat:p,repeatType:v,repeatDelay:x,type:_,onUpdate:w,finalKeyframe:C}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const T=this.currentTime-h*(this.playbackSpeed>=0?1:-1),N=this.playbackSpeed>=0?T<0:T>i;this.currentTime=Math.max(T,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let k=this.currentTime,A=s;if(p){const D=Math.min(this.currentTime,i)/u;let z=Math.floor(D),I=D%1;!I&&D>=1&&(I=1),I===1&&z--,z=Math.min(z,p+1),!!(z%2)&&(v==="reverse"?(I=1-I,x&&(I-=x/u)):v==="mirror"&&(A=l)),k=Ui(0,1,I)*u}const O=N?{done:!1,value:m[0]}:A.next(k);o&&(O.value=o(O.value));let{done:P}=O;!N&&d!==null&&(P=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const j=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&P);return j&&_!==z0&&(O.value=Qx(m,this.options,C,this.speed)),w&&w(O.value),j&&this.finish(),O}then(e,n){return this.finished.then(e,n)}get duration(){return ei(this.calculatedDuration)}get time(){return ei(this.currentTime)}set time(e){var n;e=Zr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Ss.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ei(this.currentTime))}play(){var i,o;if(this.isStopped)return;const{driver:e=tz,startTime:n}=this.options;this.driver||(this.driver=e(l=>this.tick(l))),(o=(i=this.options).onPlay)==null||o.call(i);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ss.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function bz(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Co=t=>t*180/Math.PI,B0=t=>{const e=Co(Math.atan2(t[1],t[0]));return U0(e)},xz={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:B0,rotateZ:B0,skewX:t=>Co(Math.atan(t[1])),skewY:t=>Co(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},U0=t=>(t=t%360,t<0&&(t+=360),t),FE=B0,zE=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),BE=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),wz={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:zE,scaleY:BE,scale:t=>(zE(t)+BE(t))/2,rotateX:t=>U0(Co(Math.atan2(t[6],t[5]))),rotateY:t=>U0(Co(Math.atan2(-t[2],t[0]))),rotateZ:FE,rotate:FE,skewX:t=>Co(Math.atan(t[4])),skewY:t=>Co(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function V0(t){return t.includes("scale")?1:0}function $0(t,e){if(!t||t==="none")return V0(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,i;if(n)s=wz,i=n;else{const u=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=xz,i=u}if(!i)return V0(e);const o=s[e],l=i[1].split(",").map(Sz);return typeof o=="function"?o(l):l[o]}const _z=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return $0(n,e)};function Sz(t){return parseFloat(t.trim())}const Kc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Gc=new Set(Kc),UE=t=>t===qc||t===De,Cz=new Set(["x","y","z"]),Ez=Kc.filter(t=>!Cz.has(t));function Tz(t){const e=[];return Ez.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const Lo={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>$0(e,"x"),y:(t,{transform:e})=>$0(e,"y")};Lo.translateX=Lo.x;Lo.translateY=Lo.y;const Io=new Set;let H0=!1,q0=!1,K0=!1;function TR(){if(q0){const t=Array.from(Io).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const i=Tz(s);i.length&&(n.set(s,i),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const i=n.get(s);i&&i.forEach(([o,l])=>{var u;(u=s.getValue(o))==null||u.set(l)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}q0=!1,H0=!1,Io.forEach(t=>t.complete(K0)),Io.clear()}function kR(){Io.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(q0=!0)})}function kz(){K0=!0,kR(),TR(),K0=!1}class ew{constructor(e,n,s,i,o,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=i,this.element=o,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(Io.add(this),H0||(H0=!0,It.read(kR),It.resolveKeyframes(TR))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:i}=this;if(e[0]===null){const o=i==null?void 0:i.get(),l=e[e.length-1];if(o!==void 0)e[0]=o;else if(s&&n){const u=s.readValue(n,l);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=l),i&&o===void 0&&i.set(e[0])}bz(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Io.delete(this)}cancel(){this.state==="scheduled"&&(Io.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Nz=t=>t.startsWith("--");function Az(t,e,n){Nz(e)?t.style.setProperty(e,n):t.style[e]=n}const Rz=Ux(()=>window.ScrollTimeline!==void 0),jz={};function Mz(t,e){const n=Ux(t);return()=>jz[e]??n()}const NR=Mz(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Zu=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,VE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Zu([0,.65,.55,1]),circOut:Zu([.55,0,1,.45]),backIn:Zu([.31,.01,.66,-.59]),backOut:Zu([.33,1.53,.69,.99])};function AR(t,e){if(t)return typeof t=="function"?NR()?SR(t,e):"ease-out":hR(t)?Zu(t):Array.isArray(t)?t.map(n=>AR(n,e)||VE.easeOut):VE[t]}function Oz(t,e,n,{delay:s=0,duration:i=300,repeat:o=0,repeatType:l="loop",ease:u="easeOut",times:d}={},h=void 0){const m={[e]:n};d&&(m.offset=d);const p=AR(u,i);Array.isArray(p)&&(m.easing=p);const v={delay:s,duration:i,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:o+1,direction:l==="reverse"?"alternate":"normal"};return h&&(v.pseudoElement=h),t.animate(m,v)}function RR(t){return typeof t=="function"&&"applyToOptions"in t}function Dz({type:t,...e}){return RR(t)&&NR()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Pz extends Jx{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:s,keyframes:i,pseudoElement:o,allowFlatten:l=!1,finalKeyframe:u,onComplete:d}=e;this.isPseudoElement=!!o,this.allowFlatten=l,this.options=e,Bx(typeof e.type!="string");const h=Dz(e);this.animation=Oz(n,s,i,h,o),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const m=Qx(i,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(m):Az(n,s,m),this.animation.cancel()}d==null||d(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,s;const e=((s=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:s.call(n).duration)||0;return ei(Number(e))}get time(){return ei(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Zr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&Rz()?(this.animation.timeline=e,cr):n(this)}}const jR={anticipate:cR,backInOut:lR,circInOut:dR};function Lz(t){return t in jR}function Iz(t){typeof t.ease=="string"&&Lz(t.ease)&&(t.ease=jR[t.ease])}const $E=10;class Fz extends Pz{constructor(e){Iz(e),ER(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:i,element:o,...l}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const u=new Zx({...l,autoplay:!1}),d=Zr(this.finishedTime??this.time);n.setWithVelocity(u.sample(d-$E).value,u.sample(d).value,$E),u.stop()}}const HE=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ua.test(t)||t==="0")&&!t.startsWith("url("));function zz(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function Bz(t,e,n,s){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],l=HE(i,e),u=HE(o,e);return!l||!u?!1:zz(t)||(n==="spring"||RR(n))&&s}const Uz=new Set(["opacity","clipPath","filter","transform"]),Vz=Ux(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function $z(t){var m;const{motionValue:e,name:n,repeatDelay:s,repeatType:i,damping:o,type:l}=t;if(!(((m=e==null?void 0:e.owner)==null?void 0:m.current)instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:h}=e.owner.getProps();return Vz()&&n&&Uz.has(n)&&(n!=="transform"||!h)&&!d&&!s&&i!=="mirror"&&o!==0&&l!=="inertia"}const Hz=40;class qz extends Jx{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:l="loop",keyframes:u,name:d,motionValue:h,element:m,...p}){var _;super(),this.stop=()=>{var w,C;this._animation&&(this._animation.stop(),(w=this.stopTimeline)==null||w.call(this)),(C=this.keyframeResolver)==null||C.cancel()},this.createdAt=Ss.now();const v={autoplay:e,delay:n,type:s,repeat:i,repeatDelay:o,repeatType:l,name:d,motionValue:h,element:m,...p},x=(m==null?void 0:m.KeyframeResolver)||ew;this.keyframeResolver=new x(u,(w,C,T)=>this.onKeyframesResolved(w,C,v,!T),d,h,m),(_=this.keyframeResolver)==null||_.scheduleResolve()}onKeyframesResolved(e,n,s,i){this.keyframeResolver=void 0;const{name:o,type:l,velocity:u,delay:d,isHandoff:h,onUpdate:m}=s;this.resolvedAt=Ss.now(),Bz(e,o,l,u)||((Vi.instantAnimations||!d)&&(m==null||m(Qx(e,s,n))),e[0]=e[e.length-1],s.duration=0,s.repeat=0);const v={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>Hz?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},x=!h&&$z(v)?new Fz({...v,element:v.motionValue.owner.current}):new Zx(v);x.finished.then(()=>this.notifyFinished()).catch(cr),this.pendingTimeline&&(this.stopTimeline=x.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=x}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),kz()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const Kz=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Gz(t){const e=Kz.exec(t);if(!e)return[,];const[,n,s,i]=e;return[`--${n??s}`,i]}function MR(t,e,n=1){const[s,i]=Gz(t);if(!s)return;const o=window.getComputedStyle(e).getPropertyValue(s);if(o){const l=o.trim();return eR(l)?parseFloat(l):l}return Kx(i)?MR(i,e,n+1):i}function tw(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const OR=new Set(["width","height","top","left","right","bottom",...Kc]),Yz={test:t=>t==="auto",parse:t=>t},DR=t=>e=>e.test(t),PR=[qc,De,ti,Sa,zF,FF,Yz],qE=t=>PR.find(DR(t));function Wz(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||nR(t):!0}const Xz=new Set(["brightness","contrast","saturate","opacity"]);function Qz(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(Gx)||[];if(!s)return t;const i=n.replace(s,"");let o=Xz.has(e)?1:0;return s!==n&&(o*=100),e+"("+o+i+")"}const Jz=/\b([a-z-]*)\(.*?\)/gu,G0={...Ua,getAnimatableNone:t=>{const e=t.match(Jz);return e?e.map(Qz).join(" "):t}},KE={...qc,transform:Math.round},Zz={rotate:Sa,rotateX:Sa,rotateY:Sa,rotateZ:Sa,scale:_h,scaleX:_h,scaleY:_h,scaleZ:_h,skew:Sa,skewX:Sa,skewY:Sa,distance:De,translateX:De,translateY:De,translateZ:De,x:De,y:De,z:De,perspective:De,transformPerspective:De,opacity:Sd,originX:OE,originY:OE,originZ:De},nw={borderWidth:De,borderTopWidth:De,borderRightWidth:De,borderBottomWidth:De,borderLeftWidth:De,borderRadius:De,radius:De,borderTopLeftRadius:De,borderTopRightRadius:De,borderBottomRightRadius:De,borderBottomLeftRadius:De,width:De,maxWidth:De,height:De,maxHeight:De,top:De,right:De,bottom:De,left:De,padding:De,paddingTop:De,paddingRight:De,paddingBottom:De,paddingLeft:De,margin:De,marginTop:De,marginRight:De,marginBottom:De,marginLeft:De,backgroundPositionX:De,backgroundPositionY:De,...Zz,zIndex:KE,fillOpacity:Sd,strokeOpacity:Sd,numOctaves:KE},eB={...nw,color:fn,backgroundColor:fn,outlineColor:fn,fill:fn,stroke:fn,borderColor:fn,borderTopColor:fn,borderRightColor:fn,borderBottomColor:fn,borderLeftColor:fn,filter:G0,WebkitFilter:G0},LR=t=>eB[t];function IR(t,e){let n=LR(t);return n!==G0&&(n=Ua),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const tB=new Set(["auto","none","0"]);function nB(t,e,n){let s=0,i;for(;s<t.length&&!i;){const o=t[s];typeof o=="string"&&!tB.has(o)&&Cd(o).values.length&&(i=t[s]),s++}if(i&&n)for(const o of e)t[o]=IR(n,i)}class sB extends ew{constructor(e,n,s,i,o){super(e,n,s,i,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let h=e[d];if(typeof h=="string"&&(h=h.trim(),Kx(h))){const m=MR(h,n.current);m!==void 0&&(e[d]=m),d===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!OR.has(s)||e.length!==2)return;const[i,o]=e,l=qE(i),u=qE(o);if(l!==u)if(UE(l)&&UE(u))for(let d=0;d<e.length;d++){const h=e[d];typeof h=="string"&&(e[d]=parseFloat(h))}else Lo[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let i=0;i<e.length;i++)(e[i]===null||Wz(e[i]))&&s.push(i);s.length&&nB(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Lo[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(s,i).jump(i,!1)}measureEndState(){var u;const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const o=s.length-1,l=s[o];s[o]=Lo[n](e.measureViewportBox(),window.getComputedStyle(e.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),(u=this.removedTransforms)!=null&&u.length&&this.removedTransforms.forEach(([d,h])=>{e.getValue(d).set(h)}),this.resolveNoneKeyframes()}}function rB(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const i=(n==null?void 0:n[t])??s.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const FR=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function zR(t){return tR(t)&&"offsetHeight"in t}const GE=30,iB=t=>!isNaN(parseFloat(t));class aB{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,i=!0)=>{var l,u;const o=Ss.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((l=this.events.change)==null||l.notify(this.current),this.dependents))for(const d of this.dependents)d.dirty();i&&((u=this.events.renderRequest)==null||u.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Ss.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=iB(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Vx);const s=this.events[e].add(n);return e==="change"?()=>{s(),It.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Ss.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>GE)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,GE);return sR(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Tc(t,e){return new aB(t,e)}const{schedule:sw}=pR(queueMicrotask,!1),Sr={x:!1,y:!1};function BR(){return Sr.x||Sr.y}function oB(t){return t==="x"||t==="y"?Sr[t]?null:(Sr[t]=!0,()=>{Sr[t]=!1}):Sr.x||Sr.y?null:(Sr.x=Sr.y=!0,()=>{Sr.x=Sr.y=!1})}function UR(t,e){const n=rB(t),s=new AbortController,i={passive:!0,...e,signal:s.signal};return[n,i,()=>s.abort()]}function YE(t){return!(t.pointerType==="touch"||BR())}function lB(t,e,n={}){const[s,i,o]=UR(t,n),l=u=>{if(!YE(u))return;const{target:d}=u,h=e(d,u);if(typeof h!="function"||!d)return;const m=p=>{YE(p)&&(h(p),d.removeEventListener("pointerleave",m))};d.addEventListener("pointerleave",m,i)};return s.forEach(u=>{u.addEventListener("pointerenter",l,i)}),o}const VR=(t,e)=>e?t===e?!0:VR(t,e.parentElement):!1,rw=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,cB=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function uB(t){return cB.has(t.tagName)||t.tabIndex!==-1}const Jh=new WeakSet;function WE(t){return e=>{e.key==="Enter"&&t(e)}}function hy(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const dB=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=WE(()=>{if(Jh.has(n))return;hy(n,"down");const i=WE(()=>{hy(n,"up")}),o=()=>hy(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",o,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function XE(t){return rw(t)&&!BR()}function fB(t,e,n={}){const[s,i,o]=UR(t,n),l=u=>{const d=u.currentTarget;if(!XE(u))return;Jh.add(d);const h=e(d,u),m=(x,_)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",v),Jh.has(d)&&Jh.delete(d),XE(x)&&typeof h=="function"&&h(x,{success:_})},p=x=>{m(x,d===window||d===document||n.useGlobalTarget||VR(d,x.target))},v=x=>{m(x,!1)};window.addEventListener("pointerup",p,i),window.addEventListener("pointercancel",v,i)};return s.forEach(u=>{(n.useGlobalTarget?window:u).addEventListener("pointerdown",l,i),zR(u)&&(u.addEventListener("focus",h=>dB(h,i)),!uB(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),o}function $R(t){return tR(t)&&"ownerSVGElement"in t}function hB(t){return $R(t)&&t.tagName==="svg"}const Yn=t=>!!(t&&t.getVelocity),pB=[...PR,fn,Ua],mB=t=>pB.find(DR(t)),iw=S.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class gB extends S.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=n.offsetParent,i=zR(s)&&s.offsetWidth||0,o=this.props.sizeRef.current;o.height=n.offsetHeight||0,o.width=n.offsetWidth||0,o.top=n.offsetTop,o.left=n.offsetLeft,o.right=i-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function vB({children:t,isPresent:e,anchorX:n,root:s}){const i=S.useId(),o=S.useRef(null),l=S.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:u}=S.useContext(iw);return S.useInsertionEffect(()=>{const{width:d,height:h,top:m,left:p,right:v}=l.current;if(e||!o.current||!d||!h)return;const x=n==="left"?`left: ${p}`:`right: ${v}`;o.current.dataset.motionPopId=i;const _=document.createElement("style");u&&(_.nonce=u);const w=s??document.head;return w.appendChild(_),_.sheet&&_.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${h}px !important;
            ${x}px !important;
            top: ${m}px !important;
          }
        `),()=>{w.removeChild(_),w.contains(_)&&w.removeChild(_)}},[e]),g.jsx(gB,{isPresent:e,childRef:o,sizeRef:l,children:S.cloneElement(t,{ref:o})})}const yB=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:i,presenceAffectsLayout:o,mode:l,anchorX:u,root:d})=>{const h=Lx(bB),m=S.useId();let p=!0,v=S.useMemo(()=>(p=!1,{id:m,initial:e,isPresent:n,custom:i,onExitComplete:x=>{h.set(x,!0);for(const _ of h.values())if(!_)return;s&&s()},register:x=>(h.set(x,!1),()=>h.delete(x))}),[n,h,s]);return o&&p&&(v={...v}),S.useMemo(()=>{h.forEach((x,_)=>h.set(_,!1))},[n]),S.useEffect(()=>{!n&&!h.size&&s&&s()},[n]),l==="popLayout"&&(t=g.jsx(vB,{isPresent:n,anchorX:u,root:d,children:t})),g.jsx(im.Provider,{value:v,children:t})};function bB(){return new Map}function HR(t=!0){const e=S.useContext(im);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:i}=e,o=S.useId();S.useEffect(()=>{if(t)return i(o)},[t]);const l=S.useCallback(()=>t&&s&&s(o),[o,s,t]);return!n&&s?[!1,l]:[!0]}const Sh=t=>t.key||"";function QE(t){const e=[];return S.Children.forEach(t,n=>{S.isValidElement(n)&&e.push(n)}),e}const xB=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:i=!0,mode:o="sync",propagate:l=!1,anchorX:u="left",root:d})=>{const[h,m]=HR(l),p=S.useMemo(()=>QE(t),[t]),v=l&&!h?[]:p.map(Sh),x=S.useRef(!0),_=S.useRef(p),w=Lx(()=>new Map),[C,T]=S.useState(p),[N,k]=S.useState(p);ZA(()=>{x.current=!1,_.current=p;for(let P=0;P<N.length;P++){const j=Sh(N[P]);v.includes(j)?w.delete(j):w.get(j)!==!0&&w.set(j,!1)}},[N,v.length,v.join("-")]);const A=[];if(p!==C){let P=[...p];for(let j=0;j<N.length;j++){const D=N[j],z=Sh(D);v.includes(z)||(P.splice(j,0,D),A.push(D))}return o==="wait"&&A.length&&(P=A),k(QE(P)),T(p),null}const{forceRender:O}=S.useContext(Px);return g.jsx(g.Fragment,{children:N.map(P=>{const j=Sh(P),D=l&&!h?!1:p===N||v.includes(j),z=()=>{if(w.has(j))w.set(j,!0);else return;let I=!0;w.forEach(H=>{H||(I=!1)}),I&&(O==null||O(),k(_.current),l&&(m==null||m()),s&&s())};return g.jsx(yB,{isPresent:D,initial:!x.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:o,root:d,onExitComplete:D?void 0:z,anchorX:u,children:P},j)})})},qR=S.createContext({strict:!1}),JE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},kc={};for(const t in JE)kc[t]={isEnabled:e=>JE[t].some(n=>!!e[n])};function wB(t){for(const e in t)kc[e]={...kc[e],...t[e]}}const _B=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function hp(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||_B.has(t)}let KR=t=>!hp(t);function SB(t){typeof t=="function"&&(KR=e=>e.startsWith("on")?!hp(e):t(e))}try{SB(require("@emotion/is-prop-valid").default)}catch{}function CB(t,e,n){const s={};for(const i in t)i==="values"&&typeof t.values=="object"||(KR(i)||n===!0&&hp(i)||!e&&!hp(i)||t.draggable&&i.startsWith("onDrag"))&&(s[i]=t[i]);return s}const am=S.createContext({});function om(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Ed(t){return typeof t=="string"||Array.isArray(t)}const aw=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ow=["initial",...aw];function lm(t){return om(t.animate)||ow.some(e=>Ed(t[e]))}function GR(t){return!!(lm(t)||t.variants)}function EB(t,e){if(lm(t)){const{initial:n,animate:s}=t;return{initial:n===!1||Ed(n)?n:void 0,animate:Ed(s)?s:void 0}}return t.inherit!==!1?e:{}}function TB(t){const{initial:e,animate:n}=EB(t,S.useContext(am));return S.useMemo(()=>({initial:e,animate:n}),[ZE(e),ZE(n)])}function ZE(t){return Array.isArray(t)?t.join(" "):t}const Td={};function kB(t){for(const e in t)Td[e]=t[e],qx(e)&&(Td[e].isCSSVariable=!0)}function YR(t,{layout:e,layoutId:n}){return Gc.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Td[t]||t==="opacity")}const NB={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},AB=Kc.length;function RB(t,e,n){let s="",i=!0;for(let o=0;o<AB;o++){const l=Kc[o],u=t[l];if(u===void 0)continue;let d=!0;if(typeof u=="number"?d=u===(l.startsWith("scale")?1:0):d=parseFloat(u)===0,!d||n){const h=FR(u,nw[l]);if(!d){i=!1;const m=NB[l]||l;s+=`${m}(${h}) `}n&&(e[l]=h)}}return s=s.trim(),n?s=n(e,i?"":s):i&&(s="none"),s}function lw(t,e,n){const{style:s,vars:i,transformOrigin:o}=t;let l=!1,u=!1;for(const d in e){const h=e[d];if(Gc.has(d)){l=!0;continue}else if(qx(d)){i[d]=h;continue}else{const m=FR(h,nw[d]);d.startsWith("origin")?(u=!0,o[d]=m):s[d]=m}}if(e.transform||(l||n?s.transform=RB(e,t.transform,n):s.transform&&(s.transform="none")),u){const{originX:d="50%",originY:h="50%",originZ:m=0}=o;s.transformOrigin=`${d} ${h} ${m}`}}const cw=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function WR(t,e,n){for(const s in e)!Yn(e[s])&&!YR(s,n)&&(t[s]=e[s])}function jB({transformTemplate:t},e){return S.useMemo(()=>{const n=cw();return lw(n,e,t),Object.assign({},n.vars,n.style)},[e])}function MB(t,e){const n=t.style||{},s={};return WR(s,n,t),Object.assign(s,jB(t,e)),s}function OB(t,e){const n={},s=MB(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const DB={offset:"stroke-dashoffset",array:"stroke-dasharray"},PB={offset:"strokeDashoffset",array:"strokeDasharray"};function LB(t,e,n=1,s=0,i=!0){t.pathLength=1;const o=i?DB:PB;t[o.offset]=De.transform(-s);const l=De.transform(e),u=De.transform(n);t[o.array]=`${l} ${u}`}function XR(t,{attrX:e,attrY:n,attrScale:s,pathLength:i,pathSpacing:o=1,pathOffset:l=0,...u},d,h,m){if(lw(t,u,h),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:v}=t;p.transform&&(v.transform=p.transform,delete p.transform),(v.transform||p.transformOrigin)&&(v.transformOrigin=p.transformOrigin??"50% 50%",delete p.transformOrigin),v.transform&&(v.transformBox=(m==null?void 0:m.transformBox)??"fill-box",delete p.transformBox),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),s!==void 0&&(p.scale=s),i!==void 0&&LB(p,i,o,l,!1)}const QR=()=>({...cw(),attrs:{}}),JR=t=>typeof t=="string"&&t.toLowerCase()==="svg";function IB(t,e,n,s){const i=S.useMemo(()=>{const o=QR();return XR(o,e,JR(s),t.transformTemplate,t.style),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};WR(o,t.style,t),i.style={...o,...i.style}}return i}const FB=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function uw(t){return typeof t!="string"||t.includes("-")?!1:!!(FB.indexOf(t)>-1||/[A-Z]/u.test(t))}function zB(t,e,n,{latestValues:s},i,o=!1){const u=(uw(t)?IB:OB)(e,s,i,t),d=CB(e,typeof t=="string",o),h=t!==S.Fragment?{...d,...u,ref:n}:{},{children:m}=e,p=S.useMemo(()=>Yn(m)?m.get():m,[m]);return S.createElement(t,{...h,children:p})}function eT(t){const e=[{},{}];return t==null||t.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function dw(t,e,n,s){if(typeof e=="function"){const[i,o]=eT(s);e=e(n!==void 0?n:t.custom,i,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,o]=eT(s);e=e(n!==void 0?n:t.custom,i,o)}return e}function Zh(t){return Yn(t)?t.get():t}function BB({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,i){return{latestValues:UB(n,s,i,t),renderState:e()}}function UB(t,e,n,s){const i={},o=s(t,{});for(const v in o)i[v]=Zh(o[v]);let{initial:l,animate:u}=t;const d=lm(t),h=GR(t);e&&h&&!d&&t.inherit!==!1&&(l===void 0&&(l=e.initial),u===void 0&&(u=e.animate));let m=n?n.initial===!1:!1;m=m||l===!1;const p=m?u:l;if(p&&typeof p!="boolean"&&!om(p)){const v=Array.isArray(p)?p:[p];for(let x=0;x<v.length;x++){const _=dw(t,v[x]);if(_){const{transitionEnd:w,transition:C,...T}=_;for(const N in T){let k=T[N];if(Array.isArray(k)){const A=m?k.length-1:0;k=k[A]}k!==null&&(i[N]=k)}for(const N in w)i[N]=w[N]}}}return i}const ZR=t=>(e,n)=>{const s=S.useContext(am),i=S.useContext(im),o=()=>BB(t,e,s,i);return n?o():Lx(o)};function fw(t,e,n){var o;const{style:s}=t,i={};for(const l in s)(Yn(s[l])||e.style&&Yn(e.style[l])||YR(l,t)||((o=n==null?void 0:n.getValue(l))==null?void 0:o.liveStyle)!==void 0)&&(i[l]=s[l]);return i}const VB=ZR({scrapeMotionValuesFromProps:fw,createRenderState:cw});function ej(t,e,n){const s=fw(t,e,n);for(const i in t)if(Yn(t[i])||Yn(e[i])){const o=Kc.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;s[o]=t[i]}return s}const $B=ZR({scrapeMotionValuesFromProps:ej,createRenderState:QR}),HB=Symbol.for("motionComponentSymbol");function Ql(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function qB(t,e,n){return S.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):Ql(n)&&(n.current=s))},[e])}const hw=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),KB="framerAppearId",tj="data-"+hw(KB),nj=S.createContext({});function GB(t,e,n,s,i){var w,C;const{visualElement:o}=S.useContext(am),l=S.useContext(qR),u=S.useContext(im),d=S.useContext(iw).reducedMotion,h=S.useRef(null);s=s||l.renderer,!h.current&&s&&(h.current=s(t,{visualState:e,parent:o,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const m=h.current,p=S.useContext(nj);m&&!m.projection&&i&&(m.type==="html"||m.type==="svg")&&YB(h.current,n,i,p);const v=S.useRef(!1);S.useInsertionEffect(()=>{m&&v.current&&m.update(n,u)});const x=n[tj],_=S.useRef(!!x&&!((w=window.MotionHandoffIsComplete)!=null&&w.call(window,x))&&((C=window.MotionHasOptimisedAnimation)==null?void 0:C.call(window,x)));return ZA(()=>{m&&(v.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),m.scheduleRenderMicrotask(),_.current&&m.animationState&&m.animationState.animateChanges())}),S.useEffect(()=>{m&&(!_.current&&m.animationState&&m.animationState.animateChanges(),_.current&&(queueMicrotask(()=>{var T;(T=window.MotionHandoffMarkAsComplete)==null||T.call(window,x)}),_.current=!1))}),m}function YB(t,e,n,s){const{layoutId:i,layout:o,drag:l,dragConstraints:u,layoutScroll:d,layoutRoot:h,layoutCrossfade:m}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:sj(t.parent)),t.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:!!l||u&&Ql(u),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:s,crossfade:m,layoutScroll:d,layoutRoot:h})}function sj(t){if(t)return t.options.allowProjection!==!1?t.projection:sj(t.parent)}function py(t,{forwardMotionProps:e=!1}={},n,s){n&&wB(n);const i=uw(t)?$B:VB;function o(u,d){let h;const m={...S.useContext(iw),...u,layoutId:WB(u)},{isStatic:p}=m,v=TB(u),x=i(u,p);if(!p&&Ix){XB();const _=QB(m);h=_.MeasureLayout,v.visualElement=GB(t,x,m,s,_.ProjectionNode)}return g.jsxs(am.Provider,{value:v,children:[h&&v.visualElement?g.jsx(h,{visualElement:v.visualElement,...m}):null,zB(t,u,qB(x,v.visualElement,d),x,p,e)]})}o.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const l=S.forwardRef(o);return l[HB]=t,l}function WB({layoutId:t}){const e=S.useContext(Px).id;return e&&t!==void 0?e+"-"+t:t}function XB(t,e){S.useContext(qR).strict}function QB(t){const{drag:e,layout:n}=kc;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function JB(t,e){if(typeof Proxy>"u")return py;const n=new Map,s=(o,l)=>py(o,l,t,e),i=(o,l)=>s(o,l);return new Proxy(i,{get:(o,l)=>l==="create"?s:(n.has(l)||n.set(l,py(l,void 0,t,e)),n.get(l))})}function rj({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function ZB({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function eU(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function my(t){return t===void 0||t===1}function Y0({scale:t,scaleX:e,scaleY:n}){return!my(t)||!my(e)||!my(n)}function bo(t){return Y0(t)||ij(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function ij(t){return tT(t.x)||tT(t.y)}function tT(t){return t&&t!=="0%"}function pp(t,e,n){const s=t-n,i=e*s;return n+i}function nT(t,e,n,s,i){return i!==void 0&&(t=pp(t,i,s)),pp(t,n,s)+e}function W0(t,e=0,n=1,s,i){t.min=nT(t.min,e,n,s,i),t.max=nT(t.max,e,n,s,i)}function aj(t,{x:e,y:n}){W0(t.x,e.translate,e.scale,e.originPoint),W0(t.y,n.translate,n.scale,n.originPoint)}const sT=.999999999999,rT=1.0000000000001;function tU(t,e,n,s=!1){const i=n.length;if(!i)return;e.x=e.y=1;let o,l;for(let u=0;u<i;u++){o=n[u],l=o.projectionDelta;const{visualElement:d}=o.options;d&&d.props.style&&d.props.style.display==="contents"||(s&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Zl(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,aj(t,l)),s&&bo(o.latestValues)&&Zl(t,o.latestValues))}e.x<rT&&e.x>sT&&(e.x=1),e.y<rT&&e.y>sT&&(e.y=1)}function Jl(t,e){t.min=t.min+e,t.max=t.max+e}function iT(t,e,n,s,i=.5){const o=zt(t.min,t.max,i);W0(t,e,n,o,s)}function Zl(t,e){iT(t.x,e.x,e.scaleX,e.scale,e.originX),iT(t.y,e.y,e.scaleY,e.scale,e.originY)}function oj(t,e){return rj(eU(t.getBoundingClientRect(),e))}function nU(t,e,n){const s=oj(t,n),{scroll:i}=e;return i&&(Jl(s.x,i.offset.x),Jl(s.y,i.offset.y)),s}const aT=()=>({translate:0,scale:1,origin:0,originPoint:0}),ec=()=>({x:aT(),y:aT()}),oT=()=>({min:0,max:0}),nn=()=>({x:oT(),y:oT()}),X0={current:null},lj={current:!1};function sU(){if(lj.current=!0,!!Ix)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>X0.current=t.matches;t.addEventListener("change",e),e()}else X0.current=!1}const rU=new WeakMap;function iU(t,e,n){for(const s in e){const i=e[s],o=n[s];if(Yn(i))t.addValue(s,i);else if(Yn(o))t.addValue(s,Tc(i,{owner:t}));else if(o!==i)if(t.hasValue(s)){const l=t.getValue(s);l.liveStyle===!0?l.jump(i):l.hasAnimated||l.set(i)}else{const l=t.getStaticValue(s);t.addValue(s,Tc(l!==void 0?l:i,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const lT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class aU{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:i,blockInitialAnimation:o,visualState:l},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=ew,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=Ss.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,It.render(this.render,!1,!0))};const{latestValues:d,renderState:h}=l;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=h,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=u,this.blockInitialAnimation=!!o,this.isControllingVariants=lm(n),this.isVariantNode=GR(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:m,...p}=this.scrapeMotionValuesFromProps(n,{},this);for(const v in p){const x=p[v];d[v]!==void 0&&Yn(x)&&x.set(d[v],!1)}}mount(e){this.current=e,rU.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),lj.current||sU(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:X0.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ba(this.notifyUpdate),Ba(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Gc.has(e);s&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&It.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),o(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in kc){const n=kc[e];if(!n)continue;const{isEnabled:s,Feature:i}=n;if(!this.features[e]&&i&&s(this.props)&&(this.features[e]=new i(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):nn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<lT.length;s++){const i=lT[s];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o="on"+i,l=e[o];l&&(this.propEventSubscriptions[i]=this.on(i,l))}this.prevMotionValues=iU(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=Tc(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(eR(s)||nR(s))?s=parseFloat(s):!mB(s)&&Ua.test(n)&&(s=IR(e,n)),this.setBaseTarget(e,Yn(s)?s.get():s)),Yn(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var o;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const l=dw(this.props,n,(o=this.presenceContext)==null?void 0:o.custom);l&&(s=l[e])}if(n&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Yn(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Vx),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){sw.render(this.render)}}class cj extends aU{constructor(){super(...arguments),this.KeyframeResolver=sB}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Yn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function uj(t,{style:e,vars:n},s,i){const o=t.style;let l;for(l in e)o[l]=e[l];i==null||i.applyProjectionStyles(o,s);for(l in n)o.setProperty(l,n[l])}function oU(t){return window.getComputedStyle(t)}class lU extends cj{constructor(){super(...arguments),this.type="html",this.renderInstance=uj}readValueFromInstance(e,n){var s;if(Gc.has(n))return(s=this.projection)!=null&&s.isProjecting?V0(n):_z(e,n);{const i=oU(e),o=(qx(n)?i.getPropertyValue(n):i[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:n}){return oj(e,n)}build(e,n,s){lw(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return fw(e,n,s)}}const dj=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function cU(t,e,n,s){uj(t,e,void 0,s);for(const i in e.attrs)t.setAttribute(dj.has(i)?i:hw(i),e.attrs[i])}class uU extends cj{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=nn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Gc.has(n)){const s=LR(n);return s&&s.default||0}return n=dj.has(n)?n:hw(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return ej(e,n,s)}build(e,n,s){XR(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,i){cU(e,n,s,i)}mount(e){this.isSVGTag=JR(e.tagName),super.mount(e)}}const dU=(t,e)=>uw(t)?new uU(e):new lU(e,{allowProjection:t!==S.Fragment});function kd(t,e,n){const s=t.getProps();return dw(s,e,n!==void 0?n:s.custom,t)}const Q0=t=>Array.isArray(t);function fU(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Tc(n))}function hU(t){return Q0(t)?t[t.length-1]||0:t}function pU(t,e){const n=kd(t,e);let{transitionEnd:s={},transition:i={},...o}=n||{};o={...o,...s};for(const l in o){const u=hU(o[l]);fU(t,l,u)}}function mU(t){return!!(Yn(t)&&t.add)}function J0(t,e){const n=t.getValue("willChange");if(mU(n))return n.add(e);if(!n&&Vi.WillChange){const s=new Vi.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function fj(t){return t.props[tj]}const gU=t=>t!==null;function vU(t,{repeat:e,repeatType:n="loop"},s){const i=t.filter(gU),o=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[o]}const yU={type:"spring",stiffness:500,damping:25,restSpeed:10},bU=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),xU={type:"keyframes",duration:.8},wU={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},_U=(t,{keyframes:e})=>e.length>2?xU:Gc.has(t)?t.startsWith("scale")?bU(e[1]):yU:wU;function SU({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:i,repeat:o,repeatType:l,repeatDelay:u,from:d,elapsed:h,...m}){return!!Object.keys(m).length}const pw=(t,e,n,s={},i,o)=>l=>{const u=tw(s,t)||{},d=u.delay||s.delay||0;let{elapsed:h=0}=s;h=h-Zr(d);const m={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-h,onUpdate:v=>{e.set(v),u.onUpdate&&u.onUpdate(v)},onComplete:()=>{l(),u.onComplete&&u.onComplete()},name:t,motionValue:e,element:o?void 0:i};SU(u)||Object.assign(m,_U(t,m)),m.duration&&(m.duration=Zr(m.duration)),m.repeatDelay&&(m.repeatDelay=Zr(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let p=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(m.duration=0,m.delay===0&&(p=!0)),(Vi.instantAnimations||Vi.skipAnimations)&&(p=!0,m.duration=0,m.delay=0),m.allowFlatten=!u.type&&!u.ease,p&&!o&&e.get()!==void 0){const v=vU(m.keyframes,u);if(v!==void 0){It.update(()=>{m.onUpdate(v),m.onComplete()});return}}return u.isSync?new Zx(m):new qz(m)};function CU({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function hj(t,e,{delay:n=0,transitionOverride:s,type:i}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:l,...u}=e;s&&(o=s);const d=[],h=i&&t.animationState&&t.animationState.getState()[i];for(const m in u){const p=t.getValue(m,t.latestValues[m]??null),v=u[m];if(v===void 0||h&&CU(h,m))continue;const x={delay:n,...tw(o||{},m)},_=p.get();if(_!==void 0&&!p.isAnimating&&!Array.isArray(v)&&v===_&&!x.velocity)continue;let w=!1;if(window.MotionHandoffAnimation){const T=fj(t);if(T){const N=window.MotionHandoffAnimation(T,m,It);N!==null&&(x.startTime=N,w=!0)}}J0(t,m),p.start(pw(m,p,v,t.shouldReduceMotion&&OR.has(m)?{type:!1}:x,t,w));const C=p.animation;C&&d.push(C)}return l&&Promise.all(d).then(()=>{It.update(()=>{l&&pU(t,l)})}),d}function Z0(t,e,n={}){var d;const s=kd(t,e,n.type==="exit"?(d=t.presenceContext)==null?void 0:d.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const o=s?()=>Promise.all(hj(t,s,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(h=0)=>{const{delayChildren:m=0,staggerChildren:p,staggerDirection:v}=i;return EU(t,e,h,m,p,v,n)}:()=>Promise.resolve(),{when:u}=i;if(u){const[h,m]=u==="beforeChildren"?[o,l]:[l,o];return h().then(()=>m())}else return Promise.all([o(),l(n.delay)])}function EU(t,e,n=0,s=0,i=0,o=1,l){const u=[],d=t.variantChildren.size,h=(d-1)*i,m=typeof s=="function",p=m?v=>s(v,d):o===1?(v=0)=>v*i:(v=0)=>h-v*i;return Array.from(t.variantChildren).sort(TU).forEach((v,x)=>{v.notify("AnimationStart",e),u.push(Z0(v,e,{...l,delay:n+(m?0:s)+p(x)}).then(()=>v.notify("AnimationComplete",e)))}),Promise.all(u)}function TU(t,e){return t.sortNodePosition(e)}function kU(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const i=e.map(o=>Z0(t,o,n));s=Promise.all(i)}else if(typeof e=="string")s=Z0(t,e,n);else{const i=typeof e=="function"?kd(t,e,n.custom):e;s=Promise.all(hj(t,i,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}function pj(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const NU=ow.length;function mj(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?mj(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<NU;n++){const s=ow[n],i=t.props[s];(Ed(i)||i===!1)&&(e[s]=i)}return e}const AU=[...aw].reverse(),RU=aw.length;function jU(t){return e=>Promise.all(e.map(({animation:n,options:s})=>kU(t,n,s)))}function MU(t){let e=jU(t),n=cT(),s=!0;const i=d=>(h,m)=>{var v;const p=kd(t,m,d==="exit"?(v=t.presenceContext)==null?void 0:v.custom:void 0);if(p){const{transition:x,transitionEnd:_,...w}=p;h={...h,...w,..._}}return h};function o(d){e=d(t)}function l(d){const{props:h}=t,m=mj(t.parent)||{},p=[],v=new Set;let x={},_=1/0;for(let C=0;C<RU;C++){const T=AU[C],N=n[T],k=h[T]!==void 0?h[T]:m[T],A=Ed(k),O=T===d?N.isActive:null;O===!1&&(_=C);let P=k===m[T]&&k!==h[T]&&A;if(P&&s&&t.manuallyAnimateOnMount&&(P=!1),N.protectedKeys={...x},!N.isActive&&O===null||!k&&!N.prevProp||om(k)||typeof k=="boolean")continue;const j=OU(N.prevProp,k);let D=j||T===d&&N.isActive&&!P&&A||C>_&&A,z=!1;const I=Array.isArray(k)?k:[k];let H=I.reduce(i(T),{});O===!1&&(H={});const{prevResolvedValues:V={}}=N,X={...V,...H},J=B=>{D=!0,v.has(B)&&(z=!0,v.delete(B)),N.needsAnimating[B]=!0;const F=t.getValue(B);F&&(F.liveStyle=!1)};for(const B in X){const F=H[B],se=V[B];if(x.hasOwnProperty(B))continue;let W=!1;Q0(F)&&Q0(se)?W=!pj(F,se):W=F!==se,W?F!=null?J(B):v.add(B):F!==void 0&&v.has(B)?J(B):N.protectedKeys[B]=!0}N.prevProp=k,N.prevResolvedValues=H,N.isActive&&(x={...x,...H}),s&&t.blockInitialAnimation&&(D=!1),D&&(!(P&&j)||z)&&p.push(...I.map(B=>({animation:B,options:{type:T}})))}if(v.size){const C={};if(typeof h.initial!="boolean"){const T=kd(t,Array.isArray(h.initial)?h.initial[0]:h.initial);T&&T.transition&&(C.transition=T.transition)}v.forEach(T=>{const N=t.getBaseTarget(T),k=t.getValue(T);k&&(k.liveStyle=!0),C[T]=N??null}),p.push({animation:C})}let w=!!p.length;return s&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(w=!1),s=!1,w?e(p):Promise.resolve()}function u(d,h){var p;if(n[d].isActive===h)return Promise.resolve();(p=t.variantChildren)==null||p.forEach(v=>{var x;return(x=v.animationState)==null?void 0:x.setActive(d,h)}),n[d].isActive=h;const m=l(d);for(const v in n)n[v].protectedKeys={};return m}return{animateChanges:l,setActive:u,setAnimateFunction:o,getState:()=>n,reset:()=>{n=cT(),s=!0}}}function OU(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!pj(e,t):!1}function po(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function cT(){return{animate:po(!0),whileInView:po(),whileHover:po(),whileTap:po(),whileDrag:po(),whileFocus:po(),exit:po()}}class qa{constructor(e){this.isMounted=!1,this.node=e}update(){}}class DU extends qa{constructor(e){super(e),e.animationState||(e.animationState=MU(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();om(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let PU=0;class LU extends qa{constructor(){super(...arguments),this.id=PU++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const IU={animation:{Feature:DU},exit:{Feature:LU}};function Nd(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function Wd(t){return{point:{x:t.pageX,y:t.pageY}}}const FU=t=>e=>rw(e)&&t(e,Wd(e));function fd(t,e,n,s){return Nd(t,e,FU(n),s)}const gj=1e-4,zU=1-gj,BU=1+gj,vj=.01,UU=0-vj,VU=0+vj;function os(t){return t.max-t.min}function $U(t,e,n){return Math.abs(t-e)<=n}function uT(t,e,n,s=.5){t.origin=s,t.originPoint=zt(e.min,e.max,t.origin),t.scale=os(n)/os(e),t.translate=zt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=zU&&t.scale<=BU||isNaN(t.scale))&&(t.scale=1),(t.translate>=UU&&t.translate<=VU||isNaN(t.translate))&&(t.translate=0)}function hd(t,e,n,s){uT(t.x,e.x,n.x,s?s.originX:void 0),uT(t.y,e.y,n.y,s?s.originY:void 0)}function dT(t,e,n){t.min=n.min+e.min,t.max=t.min+os(e)}function HU(t,e,n){dT(t.x,e.x,n.x),dT(t.y,e.y,n.y)}function fT(t,e,n){t.min=e.min-n.min,t.max=t.min+os(e)}function pd(t,e,n){fT(t.x,e.x,n.x),fT(t.y,e.y,n.y)}function nr(t){return[t("x"),t("y")]}const yj=({current:t})=>t?t.ownerDocument.defaultView:null,hT=(t,e)=>Math.abs(t-e);function qU(t,e){const n=hT(t.x,e.x),s=hT(t.y,e.y);return Math.sqrt(n**2+s**2)}class bj{constructor(e,n,{transformPagePoint:s,contextWindow:i=window,dragSnapToOrigin:o=!1,distanceThreshold:l=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=vy(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,_=qU(v.offset,{x:0,y:0})>=this.distanceThreshold;if(!x&&!_)return;const{point:w}=v,{timestamp:C}=Pn;this.history.push({...w,timestamp:C});const{onStart:T,onMove:N}=this.handlers;x||(T&&T(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),N&&N(this.lastMoveEvent,v)},this.handlePointerMove=(v,x)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=gy(x,this.transformPagePoint),It.update(this.updatePoint,!0)},this.handlePointerUp=(v,x)=>{this.end();const{onEnd:_,onSessionEnd:w,resumeAnimation:C}=this.handlers;if(this.dragSnapToOrigin&&C&&C(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=vy(v.type==="pointercancel"?this.lastMoveEventInfo:gy(x,this.transformPagePoint),this.history);this.startEvent&&_&&_(v,T),w&&w(v,T)},!rw(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=l,this.contextWindow=i||window;const u=Wd(e),d=gy(u,this.transformPagePoint),{point:h}=d,{timestamp:m}=Pn;this.history=[{...h,timestamp:m}];const{onSessionStart:p}=n;p&&p(e,vy(d,this.history)),this.removeListeners=Kd(fd(this.contextWindow,"pointermove",this.handlePointerMove),fd(this.contextWindow,"pointerup",this.handlePointerUp),fd(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ba(this.updatePoint)}}function gy(t,e){return e?{point:e(t.point)}:t}function pT(t,e){return{x:t.x-e.x,y:t.y-e.y}}function vy({point:t},e){return{point:t,delta:pT(t,xj(e)),offset:pT(t,KU(e)),velocity:GU(e,.1)}}function KU(t){return t[0]}function xj(t){return t[t.length-1]}function GU(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const i=xj(t);for(;n>=0&&(s=t[n],!(i.timestamp-s.timestamp>Zr(e)));)n--;if(!s)return{x:0,y:0};const o=ei(i.timestamp-s.timestamp);if(o===0)return{x:0,y:0};const l={x:(i.x-s.x)/o,y:(i.y-s.y)/o};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function YU(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?zt(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?zt(n,t,s.max):Math.min(t,n)),t}function mT(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function WU(t,{top:e,left:n,bottom:s,right:i}){return{x:mT(t.x,n,i),y:mT(t.y,e,s)}}function gT(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function XU(t,e){return{x:gT(t.x,e.x),y:gT(t.y,e.y)}}function QU(t,e){let n=.5;const s=os(t),i=os(e);return i>s?n=_d(e.min,e.max-s,t.min):s>i&&(n=_d(t.min,t.max-i,e.min)),Ui(0,1,n)}function JU(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const eb=.35;function ZU(t=eb){return t===!1?t=0:t===!0&&(t=eb),{x:vT(t,"left","right"),y:vT(t,"top","bottom")}}function vT(t,e,n){return{min:yT(t,e),max:yT(t,n)}}function yT(t,e){return typeof t=="number"?t:t[e]||0}const e8=new WeakMap;class t8{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=nn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const o=p=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Wd(p).point)},l=(p,v)=>{const{drag:x,dragPropagation:_,onDragStart:w}=this.getProps();if(x&&!_&&(this.openDragLock&&this.openDragLock(),this.openDragLock=oB(x),!this.openDragLock))return;this.latestPointerEvent=p,this.latestPanInfo=v,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),nr(T=>{let N=this.getAxisMotionValue(T).get()||0;if(ti.test(N)){const{projection:k}=this.visualElement;if(k&&k.layout){const A=k.layout.layoutBox[T];A&&(N=os(A)*(parseFloat(N)/100))}}this.originPoint[T]=N}),w&&It.postRender(()=>w(p,v)),J0(this.visualElement,"transform");const{animationState:C}=this.visualElement;C&&C.setActive("whileDrag",!0)},u=(p,v)=>{this.latestPointerEvent=p,this.latestPanInfo=v;const{dragPropagation:x,dragDirectionLock:_,onDirectionLock:w,onDrag:C}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:T}=v;if(_&&this.currentDirection===null){this.currentDirection=n8(T),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",v.point,T),this.updateAxis("y",v.point,T),this.visualElement.render(),C&&C(p,v)},d=(p,v)=>{this.latestPointerEvent=p,this.latestPanInfo=v,this.stop(p,v),this.latestPointerEvent=null,this.latestPanInfo=null},h=()=>nr(p=>{var v;return this.getAnimationState(p)==="paused"&&((v=this.getAxisMotionValue(p).animation)==null?void 0:v.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new bj(e,{onSessionStart:o,onStart:l,onMove:u,onSessionEnd:d,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,distanceThreshold:s,contextWindow:yj(this.visualElement)})}stop(e,n){const s=e||this.latestPointerEvent,i=n||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!i||!s)return;const{velocity:l}=i;this.startAnimation(l);const{onDragEnd:u}=this.getProps();u&&It.postRender(()=>u(s,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:i}=this.getProps();if(!s||!Ch(e,i,this.currentDirection))return;const o=this.getAxisMotionValue(e);let l=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(l=YU(l,this.constraints[e],this.elastic[e])),o.set(l)}resolveConstraints(){var o;const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(o=this.visualElement.projection)==null?void 0:o.layout,i=this.constraints;e&&Ql(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=WU(s.layoutBox,e):this.constraints=!1,this.elastic=ZU(n),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&nr(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=JU(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Ql(e))return!1;const s=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=nU(s,i.root,this.visualElement.getTransformPagePoint());let l=XU(i.layout.layoutBox,o);if(n){const u=n(ZB(l));this.hasMutatedConstraints=!!u,u&&(l=rj(u))}return l}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:i,dragTransition:o,dragSnapToOrigin:l,onDragTransitionEnd:u}=this.getProps(),d=this.constraints||{},h=nr(m=>{if(!Ch(m,n,this.currentDirection))return;let p=d&&d[m]||{};l&&(p={min:0,max:0});const v=i?200:1e6,x=i?40:1e7,_={type:"inertia",velocity:s?e[m]:0,bounceStiffness:v,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...o,...p};return this.startAxisValueAnimation(m,_)});return Promise.all(h).then(u)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return J0(this.visualElement,e),s.start(pw(e,s,0,n,this.visualElement,!1))}stopAnimation(){nr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){nr(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),i=s[n];return i||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){nr(n=>{const{drag:s}=this.getProps();if(!Ch(n,s,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:l,max:u}=i.layout.layoutBox[n];o.set(e[n]-zt(l,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Ql(n)||!s||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};nr(l=>{const u=this.getAxisMotionValue(l);if(u&&this.constraints!==!1){const d=u.get();i[l]=QU({min:d,max:d},this.constraints[l])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),nr(l=>{if(!Ch(l,e,null))return;const u=this.getAxisMotionValue(l),{min:d,max:h}=this.constraints[l];u.set(zt(d,h,i[l]))})}addListeners(){if(!this.visualElement.current)return;e8.set(this.visualElement,this);const e=this.visualElement.current,n=fd(e,"pointerdown",d=>{const{drag:h,dragListener:m=!0}=this.getProps();h&&m&&this.start(d)}),s=()=>{const{dragConstraints:d}=this.getProps();Ql(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",s);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),It.read(s);const l=Nd(window,"resize",()=>this.scalePositionWithinConstraints()),u=i.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h})=>{this.isDragging&&h&&(nr(m=>{const p=this.getAxisMotionValue(m);p&&(this.originPoint[m]+=d[m].translate,p.set(p.get()+d[m].translate))}),this.visualElement.render())});return()=>{l(),n(),o(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:l=eb,dragMomentum:u=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:i,dragConstraints:o,dragElastic:l,dragMomentum:u}}}function Ch(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function n8(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class s8 extends qa{constructor(e){super(e),this.removeGroupControls=cr,this.removeListeners=cr,this.controls=new t8(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||cr}unmount(){this.removeGroupControls(),this.removeListeners()}}const bT=t=>(e,n)=>{t&&It.postRender(()=>t(e,n))};class r8 extends qa{constructor(){super(...arguments),this.removePointerDownListener=cr}onPointerDown(e){this.session=new bj(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:yj(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:i}=this.node.getProps();return{onSessionStart:bT(e),onStart:bT(n),onMove:s,onEnd:(o,l)=>{delete this.session,i&&It.postRender(()=>i(o,l))}}}mount(){this.removePointerDownListener=fd(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ep={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function xT(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const $u={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(De.test(t))t=parseFloat(t);else return t;const n=xT(t,e.target.x),s=xT(t,e.target.y);return`${n}% ${s}%`}},i8={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,i=Ua.parse(t);if(i.length>5)return s;const o=Ua.createTransformer(t),l=typeof i[0]!="number"?1:0,u=n.x.scale*e.x,d=n.y.scale*e.y;i[0+l]/=u,i[1+l]/=d;const h=zt(u,d,.5);return typeof i[2+l]=="number"&&(i[2+l]/=h),typeof i[3+l]=="number"&&(i[3+l]/=h),o(i)}};let wT=!1;class a8 extends S.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:i}=this.props,{projection:o}=e;kB(o8),o&&(n.group&&n.group.add(o),s&&s.register&&i&&s.register(o),wT&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),ep.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:i,isPresent:o}=this.props,{projection:l}=s;return l&&(l.isPresent=o,wT=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==o?l.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?l.promote():l.relegate()||It.postRender(()=>{const u=l.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),sw.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),s&&s.deregister&&s.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function wj(t){const[e,n]=HR(),s=S.useContext(Px);return g.jsx(a8,{...t,layoutGroup:s,switchLayoutGroup:S.useContext(nj),isPresent:e,safeToRemove:n})}const o8={borderRadius:{...$u,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:$u,borderTopRightRadius:$u,borderBottomLeftRadius:$u,borderBottomRightRadius:$u,boxShadow:i8};function l8(t,e,n){const s=Yn(t)?t:Tc(t);return s.start(pw("",s,e,n)),s.animation}const c8=(t,e)=>t.depth-e.depth;class u8{constructor(){this.children=[],this.isDirty=!1}add(e){Fx(this.children,e),this.isDirty=!0}remove(e){zx(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(c8),this.isDirty=!1,this.children.forEach(e)}}function d8(t,e){const n=Ss.now(),s=({timestamp:i})=>{const o=i-n;o>=e&&(Ba(s),t(o-e))};return It.setup(s,!0),()=>Ba(s)}const _j=["TopLeft","TopRight","BottomLeft","BottomRight"],f8=_j.length,_T=t=>typeof t=="string"?parseFloat(t):t,ST=t=>typeof t=="number"||De.test(t);function h8(t,e,n,s,i,o){i?(t.opacity=zt(0,n.opacity??1,p8(s)),t.opacityExit=zt(e.opacity??1,0,m8(s))):o&&(t.opacity=zt(e.opacity??1,n.opacity??1,s));for(let l=0;l<f8;l++){const u=`border${_j[l]}Radius`;let d=CT(e,u),h=CT(n,u);if(d===void 0&&h===void 0)continue;d||(d=0),h||(h=0),d===0||h===0||ST(d)===ST(h)?(t[u]=Math.max(zt(_T(d),_T(h),s),0),(ti.test(h)||ti.test(d))&&(t[u]+="%")):t[u]=h}(e.rotate||n.rotate)&&(t.rotate=zt(e.rotate||0,n.rotate||0,s))}function CT(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const p8=Sj(0,.5,uR),m8=Sj(.5,.95,cr);function Sj(t,e,n){return s=>s<t?0:s>e?1:n(_d(t,e,s))}function ET(t,e){t.min=e.min,t.max=e.max}function tr(t,e){ET(t.x,e.x),ET(t.y,e.y)}function TT(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function kT(t,e,n,s,i){return t-=e,t=pp(t,1/n,s),i!==void 0&&(t=pp(t,1/i,s)),t}function g8(t,e=0,n=1,s=.5,i,o=t,l=t){if(ti.test(e)&&(e=parseFloat(e),e=zt(l.min,l.max,e/100)-l.min),typeof e!="number")return;let u=zt(o.min,o.max,s);t===o&&(u-=e),t.min=kT(t.min,e,n,u,i),t.max=kT(t.max,e,n,u,i)}function NT(t,e,[n,s,i],o,l){g8(t,e[n],e[s],e[i],e.scale,o,l)}const v8=["x","scaleX","originX"],y8=["y","scaleY","originY"];function AT(t,e,n,s){NT(t.x,e,v8,n?n.x:void 0,s?s.x:void 0),NT(t.y,e,y8,n?n.y:void 0,s?s.y:void 0)}function RT(t){return t.translate===0&&t.scale===1}function Cj(t){return RT(t.x)&&RT(t.y)}function jT(t,e){return t.min===e.min&&t.max===e.max}function b8(t,e){return jT(t.x,e.x)&&jT(t.y,e.y)}function MT(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Ej(t,e){return MT(t.x,e.x)&&MT(t.y,e.y)}function OT(t){return os(t.x)/os(t.y)}function DT(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class x8{constructor(){this.members=[]}add(e){Fx(this.members,e),e.scheduleRender()}remove(e){if(zx(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let s;for(let i=n;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){s=o;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function w8(t,e,n){let s="";const i=t.x.translate/e.x,o=t.y.translate/e.y,l=(n==null?void 0:n.z)||0;if((i||o||l)&&(s=`translate3d(${i}px, ${o}px, ${l}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:h,rotate:m,rotateX:p,rotateY:v,skewX:x,skewY:_}=n;h&&(s=`perspective(${h}px) ${s}`),m&&(s+=`rotate(${m}deg) `),p&&(s+=`rotateX(${p}deg) `),v&&(s+=`rotateY(${v}deg) `),x&&(s+=`skewX(${x}deg) `),_&&(s+=`skewY(${_}deg) `)}const u=t.x.scale*e.x,d=t.y.scale*e.y;return(u!==1||d!==1)&&(s+=`scale(${u}, ${d})`),s||"none"}const yy=["","X","Y","Z"],_8=1e3;let S8=0;function by(t,e,n,s){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),s&&(s[t]=0))}function Tj(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=fj(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",It,!(i||o))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&Tj(s)}function kj({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:i}){return class{constructor(l={},u=e==null?void 0:e()){this.id=S8++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(T8),this.nodes.forEach(R8),this.nodes.forEach(j8),this.nodes.forEach(k8)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new u8)}addEventListener(l,u){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new Vx),this.eventHandlers.get(l).add(u)}notifyListeners(l,...u){const d=this.eventHandlers.get(l);d&&d.notify(...u)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=$R(l)&&!hB(l),this.instance=l;const{layoutId:u,layout:d,visualElement:h}=this.options;if(h&&!h.current&&h.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||u)&&(this.isLayoutDirty=!0),t){let m,p=0;const v=()=>this.root.updateBlockedByResize=!1;It.read(()=>{p=window.innerWidth}),t(l,()=>{const x=window.innerWidth;x!==p&&(p=x,this.root.updateBlockedByResize=!0,m&&m(),m=d8(v,250),ep.hasAnimatedSinceResize&&(ep.hasAnimatedSinceResize=!1,this.nodes.forEach(IT)))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&h&&(u||d)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:p,hasRelativeLayoutChanged:v,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||h.getDefaultTransition()||L8,{onLayoutAnimationStart:w,onLayoutAnimationComplete:C}=h.getProps(),T=!this.targetLayout||!Ej(this.targetLayout,x),N=!p&&v;if(this.options.layoutRoot||this.resumeFrom||N||p&&(T||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const k={...tw(_,"layout"),onPlay:w,onComplete:C};(h.shouldReduceMotion||this.options.layoutRoot)&&(k.delay=0,k.type=!1),this.startAnimation(k),this.setAnimationOrigin(m,N)}else p||IT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ba(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(M8),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Tj(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const p=this.path[m];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:u,layout:d}=this.options;if(u===void 0&&!d)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(PT);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(LT);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(A8),this.nodes.forEach(C8),this.nodes.forEach(E8)):this.nodes.forEach(LT),this.clearAllSnapshots();const u=Ss.now();Pn.delta=Ui(0,1e3/60,u-Pn.timestamp),Pn.timestamp=u,Pn.isProcessing=!0,ly.update.process(Pn),ly.preRender.process(Pn),ly.render.process(Pn),Pn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,sw.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(N8),this.sharedNodes.forEach(O8)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,It.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){It.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!os(this.snapshot.measuredBox.x)&&!os(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=nn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(u=!1),u&&this.instance){const d=s(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!i)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!Cj(this.projectionDelta),d=this.getTransformTemplate(),h=d?d(this.latestValues,""):void 0,m=h!==this.prevTransformTemplateValue;l&&this.instance&&(u||bo(this.latestValues)||m)&&(i(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const u=this.measurePageBox();let d=this.removeElementScroll(u);return l&&(d=this.removeTransform(d)),I8(d),{animationId:this.root.animationId,measuredBox:u,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var h;const{visualElement:l}=this.options;if(!l)return nn();const u=l.measureViewportBox();if(!(((h=this.scroll)==null?void 0:h.wasRoot)||this.path.some(F8))){const{scroll:m}=this.root;m&&(Jl(u.x,m.offset.x),Jl(u.y,m.offset.y))}return u}removeElementScroll(l){var d;const u=nn();if(tr(u,l),(d=this.scroll)!=null&&d.wasRoot)return u;for(let h=0;h<this.path.length;h++){const m=this.path[h],{scroll:p,options:v}=m;m!==this.root&&p&&v.layoutScroll&&(p.wasRoot&&tr(u,l),Jl(u.x,p.offset.x),Jl(u.y,p.offset.y))}return u}applyTransform(l,u=!1){const d=nn();tr(d,l);for(let h=0;h<this.path.length;h++){const m=this.path[h];!u&&m.options.layoutScroll&&m.scroll&&m!==m.root&&Zl(d,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),bo(m.latestValues)&&Zl(d,m.latestValues)}return bo(this.latestValues)&&Zl(d,this.latestValues),d}removeTransform(l){const u=nn();tr(u,l);for(let d=0;d<this.path.length;d++){const h=this.path[d];if(!h.instance||!bo(h.latestValues))continue;Y0(h.latestValues)&&h.updateSnapshot();const m=nn(),p=h.measurePageBox();tr(m,p),AT(u,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,m)}return bo(this.latestValues)&&AT(u,this.latestValues),u}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Pn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var v;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==u;if(!(l||d&&this.isSharedProjectionDirty||this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:p}=this.options;if(!(!this.layout||!(m||p))){if(this.resolvedRelativeTargetAt=Pn.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=nn(),this.relativeTargetOrigin=nn(),pd(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),tr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=nn(),this.targetWithTransforms=nn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),HU(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):tr(this.target,this.layout.layoutBox),aj(this.target,this.targetDelta)):tr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=nn(),this.relativeTargetOrigin=nn(),pd(this.relativeTargetOrigin,this.target,x.target),tr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Y0(this.parent.latestValues)||ij(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var _;const l=this.getLead(),u=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||(_=this.parent)!=null&&_.isProjectionDirty)&&(d=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Pn.timestamp&&(d=!1),d)return;const{layout:h,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||m))return;tr(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,v=this.treeScale.y;tU(this.layoutCorrected,this.treeScale,this.path,u),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=nn());const{target:x}=l;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(TT(this.prevProjectionDelta.x,this.projectionDelta.x),TT(this.prevProjectionDelta.y,this.projectionDelta.y)),hd(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==v||!DT(this.projectionDelta.x,this.prevProjectionDelta.x)||!DT(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var u;if((u=this.options.visualElement)==null||u.scheduleRender(),l){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ec(),this.projectionDelta=ec(),this.projectionDeltaWithTransform=ec()}setAnimationOrigin(l,u=!1){const d=this.snapshot,h=d?d.latestValues:{},m={...this.latestValues},p=ec();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const v=nn(),x=d?d.source:void 0,_=this.layout?this.layout.source:void 0,w=x!==_,C=this.getStack(),T=!C||C.members.length<=1,N=!!(w&&!T&&this.options.crossfade===!0&&!this.path.some(P8));this.animationProgress=0;let k;this.mixTargetDelta=A=>{const O=A/1e3;FT(p.x,l.x,O),FT(p.y,l.y,O),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(pd(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),D8(this.relativeTarget,this.relativeTargetOrigin,v,O),k&&b8(this.relativeTarget,k)&&(this.isProjectionDirty=!1),k||(k=nn()),tr(k,this.relativeTarget)),w&&(this.animationValues=m,h8(m,h,this.latestValues,O,N,T)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=O},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){var u,d,h;this.notifyListeners("animationStart"),(u=this.currentAnimation)==null||u.stop(),(h=(d=this.resumingFrom)==null?void 0:d.currentAnimation)==null||h.stop(),this.pendingAnimation&&(Ba(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=It.update(()=>{ep.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Tc(0)),this.currentAnimation=l8(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:m=>{this.mixTargetDelta(m),l.onUpdate&&l.onUpdate(m)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(_8),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:u,target:d,layout:h,latestValues:m}=l;if(!(!u||!d||!h)){if(this!==l&&this.layout&&h&&Nj(this.options.animationType,this.layout.layoutBox,h.layoutBox)){d=this.target||nn();const p=os(this.layout.layoutBox.x);d.x.min=l.target.x.min,d.x.max=d.x.min+p;const v=os(this.layout.layoutBox.y);d.y.min=l.target.y.min,d.y.max=d.y.min+v}tr(u,d),Zl(u,m),hd(this.projectionDeltaWithTransform,this.layoutCorrected,u,m)}}registerSharedNode(l,u){this.sharedNodes.has(l)||this.sharedNodes.set(l,new x8),this.sharedNodes.get(l).add(u);const h=u.options.initialPromotionConfig;u.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(u):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var u;const{layoutId:l}=this.options;return l?((u=this.getStack())==null?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:l}=this.options;return l?(u=this.getStack())==null?void 0:u.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:u,preserveFollowOpacity:d}={}){const h=this.getStack();h&&h.promote(this,d),l&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let u=!1;const{latestValues:d}=l;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(u=!0),!u)return;const h={};d.z&&by("z",l,h,this.animationValues);for(let m=0;m<yy.length;m++)by(`rotate${yy[m]}`,l,h,this.animationValues),by(`skew${yy[m]}`,l,h,this.animationValues);l.render();for(const m in h)l.setStaticValue(m,h[m]),this.animationValues&&(this.animationValues[m]=h[m]);l.scheduleRender()}applyProjectionStyles(l,u){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=Zh(u==null?void 0:u.pointerEvents)||"",l.transform=d?d(this.latestValues,""):"none";return}const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=Zh(u==null?void 0:u.pointerEvents)||""),this.hasProjected&&!bo(this.latestValues)&&(l.transform=d?d({},""):"none",this.hasProjected=!1);return}l.visibility="";const m=h.animationValues||h.latestValues;this.applyTransformsToTarget();let p=w8(this.projectionDeltaWithTransform,this.treeScale,m);d&&(p=d(m,p)),l.transform=p;const{x:v,y:x}=this.projectionDelta;l.transformOrigin=`${v.origin*100}% ${x.origin*100}% 0`,h.animationValues?l.opacity=h===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:l.opacity=h===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const _ in Td){if(m[_]===void 0)continue;const{correct:w,applyTo:C,isCSSVariable:T}=Td[_],N=p==="none"?m[_]:w(m[_],h);if(C){const k=C.length;for(let A=0;A<k;A++)l[C[A]]=N}else T?this.options.visualElement.renderState.vars[_]=N:l[_]=N}this.options.layoutId&&(l.pointerEvents=h===this?Zh(u==null?void 0:u.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var u;return(u=l.currentAnimation)==null?void 0:u.stop()}),this.root.nodes.forEach(PT),this.root.sharedNodes.clear()}}}function C8(t){t.updateLayout()}function E8(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:i}=t.layout,{animationType:o}=t.options,l=e.source!==t.layout.source;o==="size"?nr(p=>{const v=l?e.measuredBox[p]:e.layoutBox[p],x=os(v);v.min=s[p].min,v.max=v.min+x}):Nj(o,e.layoutBox,s)&&nr(p=>{const v=l?e.measuredBox[p]:e.layoutBox[p],x=os(s[p]);v.max=v.min+x,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[p].max=t.relativeTarget[p].min+x)});const u=ec();hd(u,s,e.layoutBox);const d=ec();l?hd(d,t.applyTransform(i,!0),e.measuredBox):hd(d,s,e.layoutBox);const h=!Cj(u);let m=!1;if(!t.resumeFrom){const p=t.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:v,layout:x}=p;if(v&&x){const _=nn();pd(_,e.layoutBox,v.layoutBox);const w=nn();pd(w,s,x.layoutBox),Ej(_,w)||(m=!0),p.options.layoutRoot&&(t.relativeTarget=w,t.relativeTargetOrigin=_,t.relativeParent=p)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:e,delta:d,layoutDelta:u,hasLayoutChanged:h,hasRelativeLayoutChanged:m})}else if(t.isLead()){const{onExitComplete:s}=t.options;s&&s()}t.options.transition=void 0}function T8(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function k8(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function N8(t){t.clearSnapshot()}function PT(t){t.clearMeasurements()}function LT(t){t.isLayoutDirty=!1}function A8(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function IT(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function R8(t){t.resolveTargetDelta()}function j8(t){t.calcProjection()}function M8(t){t.resetSkewAndRotation()}function O8(t){t.removeLeadSnapshot()}function FT(t,e,n){t.translate=zt(e.translate,0,n),t.scale=zt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function zT(t,e,n,s){t.min=zt(e.min,n.min,s),t.max=zt(e.max,n.max,s)}function D8(t,e,n,s){zT(t.x,e.x,n.x,s),zT(t.y,e.y,n.y,s)}function P8(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const L8={duration:.45,ease:[.4,0,.1,1]},BT=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),UT=BT("applewebkit/")&&!BT("chrome/")?Math.round:cr;function VT(t){t.min=UT(t.min),t.max=UT(t.max)}function I8(t){VT(t.x),VT(t.y)}function Nj(t,e,n){return t==="position"||t==="preserve-aspect"&&!$U(OT(e),OT(n),.2)}function F8(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const z8=kj({attachResizeListener:(t,e)=>Nd(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),xy={current:void 0},Aj=kj({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!xy.current){const t=new z8({});t.mount(window),t.setOptions({layoutScroll:!0}),xy.current=t}return xy.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),B8={pan:{Feature:r8},drag:{Feature:s8,ProjectionNode:Aj,MeasureLayout:wj}};function $T(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,o=s[i];o&&It.postRender(()=>o(e,Wd(e)))}class U8 extends qa{mount(){const{current:e}=this.node;e&&(this.unmount=lB(e,(n,s)=>($T(this.node,s,"Start"),i=>$T(this.node,i,"End"))))}unmount(){}}class V8 extends qa{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Kd(Nd(this.node.current,"focus",()=>this.onFocus()),Nd(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function HT(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),o=s[i];o&&It.postRender(()=>o(e,Wd(e)))}class $8 extends qa{mount(){const{current:e}=this.node;e&&(this.unmount=fB(e,(n,s)=>(HT(this.node,s,"Start"),(i,{success:o})=>HT(this.node,i,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const tb=new WeakMap,wy=new WeakMap,H8=t=>{const e=tb.get(t.target);e&&e(t)},q8=t=>{t.forEach(H8)};function K8({root:t,...e}){const n=t||document;wy.has(n)||wy.set(n,{});const s=wy.get(n),i=JSON.stringify(e);return s[i]||(s[i]=new IntersectionObserver(q8,{root:t,...e})),s[i]}function G8(t,e,n){const s=K8(e);return tb.set(t,n),s.observe(t),()=>{tb.delete(t),s.unobserve(t)}}const Y8={some:0,all:1};class W8 extends qa{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:i="some",once:o}=e,l={root:n?n.current:void 0,rootMargin:s,threshold:typeof i=="number"?i:Y8[i]},u=d=>{const{isIntersecting:h}=d;if(this.isInView===h||(this.isInView=h,o&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:m,onViewportLeave:p}=this.node.getProps(),v=h?m:p;v&&v(d)};return G8(this.node.current,l,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(X8(e,n))&&this.startObserver()}unmount(){}}function X8({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Q8={inView:{Feature:W8},tap:{Feature:$8},focus:{Feature:V8},hover:{Feature:U8}},J8={layout:{ProjectionNode:Aj,MeasureLayout:wj}},Z8={...IU,...Q8,...B8,...J8},qT=JB(Z8,dU),mw=({open:t,children:e,className:n,transformPerspective:s=500})=>{const i={opacity:1,filter:"blur(0px)",rotateX:0,rotateY:0,z:0,transition:{duration:.5,ease:[.17,.67,.51,1],opacity:{delay:.2,duration:.4,ease:"easeOut"}}},o={opacity:0,filter:"blur(12px)",z:-100,rotateY:5,rotateX:25,transition:{duration:.3,ease:[.67,.17,.62,.64]}};return g.jsx(xB,{children:t?g.jsxs(wx,{forceMount:!0,children:[g.jsx(nm,{asChild:!0,children:g.jsx(qT.div,{className:"fixed inset-0 z-45 bg-black/50 backdrop-blur-lg",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}})}),g.jsx(sm,{asChild:!0,children:g.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50",children:g.jsx(qT.div,{className:Me("grid rounded-lg p-4 min-w-[300px] w-full max-w-lg gap-4 border bg-background shadow-lg sm:rounded-lg",n),initial:o,animate:i,exit:o,style:{transformPerspective:s},children:e})})})]}):null})},eV=()=>{const{t}=Us(),{showUpdateDialog:e,setShowUpdateDialog:n}=Dx(),[s,i]=S.useState(null),[o,l]=S.useState(!1);S.useEffect(()=>{var p;const m=v=>{console.log("Update downloaded:",v),i(v),n(!0)};return(p=window.electronAPI)==null||p.onUpdateDownloaded(m),()=>{var v;(v=window.electronAPI)==null||v.removeUpdateDownloadedListener()}},[]),S.useEffect(()=>{},[]);const u=async()=>{var m;l(!0);try{await((m=window.electronAPI)==null?void 0:m.restartAndInstall())}catch(p){console.error("Failed to install update:",p),l(!1)}},d=S.useCallback(()=>{n(!1)},[n]),h=S.useCallback(m=>{n(m)},[n]);return s?g.jsx(Ki,{open:e,onOpenChange:h,children:g.jsxs(mw,{open:e,children:[g.jsx($c,{children:g.jsx(Hc,{children:t("common:update.title")})}),g.jsxs("div",{className:"text-sm text-muted-foreground",children:[g.jsx("p",{children:t("common:update.description",{version:s.version})}),g.jsx("p",{className:"mt-2",children:t("common:update.installNote")})]}),g.jsxs(Hd,{children:[g.jsx(Be,{variant:"outline",onClick:d,disabled:o,children:t("common:update.laterButton")}),g.jsx(Be,{onClick:u,disabled:o,children:t(o?"common:update.installing":"common:update.installButton")})]})]})}):null};var tV=S.createContext(void 0);function Rj(t){const e=S.useContext(tV);return t||e||"ltr"}function nb(t,[e,n]){return Math.min(n,Math.max(e,t))}function nV(t,e){return S.useReducer((n,s)=>e[n][s]??n,t)}var gw="ScrollArea",[jj,NZ]=Vc(gw),[sV,mr]=jj(gw),Mj=S.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:s="hover",dir:i,scrollHideDelay:o=600,...l}=t,[u,d]=S.useState(null),[h,m]=S.useState(null),[p,v]=S.useState(null),[x,_]=S.useState(null),[w,C]=S.useState(null),[T,N]=S.useState(0),[k,A]=S.useState(0),[O,P]=S.useState(!1),[j,D]=S.useState(!1),z=vt(e,H=>d(H)),I=Rj(i);return g.jsx(sV,{scope:n,type:s,dir:I,scrollHideDelay:o,scrollArea:u,viewport:h,onViewportChange:m,content:p,onContentChange:v,scrollbarX:x,onScrollbarXChange:_,scrollbarXEnabled:O,onScrollbarXEnabledChange:P,scrollbarY:w,onScrollbarYChange:C,scrollbarYEnabled:j,onScrollbarYEnabledChange:D,onCornerWidthChange:N,onCornerHeightChange:A,children:g.jsx(rt.div,{dir:I,...l,ref:z,style:{position:"relative","--radix-scroll-area-corner-width":T+"px","--radix-scroll-area-corner-height":k+"px",...t.style}})})});Mj.displayName=gw;var Oj="ScrollAreaViewport",Dj=S.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:s,nonce:i,...o}=t,l=mr(Oj,n),u=S.useRef(null),d=vt(e,u,l.onViewportChange);return g.jsxs(g.Fragment,{children:[g.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),g.jsx(rt.div,{"data-radix-scroll-area-viewport":"",...o,ref:d,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...t.style},children:g.jsx("div",{ref:l.onContentChange,style:{minWidth:"100%",display:"table"},children:s})})]})});Dj.displayName=Oj;var ui="ScrollAreaScrollbar",Pj=S.forwardRef((t,e)=>{const{forceMount:n,...s}=t,i=mr(ui,t.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:l}=i,u=t.orientation==="horizontal";return S.useEffect(()=>(u?o(!0):l(!0),()=>{u?o(!1):l(!1)}),[u,o,l]),i.type==="hover"?g.jsx(rV,{...s,ref:e,forceMount:n}):i.type==="scroll"?g.jsx(iV,{...s,ref:e,forceMount:n}):i.type==="auto"?g.jsx(Lj,{...s,ref:e,forceMount:n}):i.type==="always"?g.jsx(vw,{...s,ref:e}):null});Pj.displayName=ui;var rV=S.forwardRef((t,e)=>{const{forceMount:n,...s}=t,i=mr(ui,t.__scopeScrollArea),[o,l]=S.useState(!1);return S.useEffect(()=>{const u=i.scrollArea;let d=0;if(u){const h=()=>{window.clearTimeout(d),l(!0)},m=()=>{d=window.setTimeout(()=>l(!1),i.scrollHideDelay)};return u.addEventListener("pointerenter",h),u.addEventListener("pointerleave",m),()=>{window.clearTimeout(d),u.removeEventListener("pointerenter",h),u.removeEventListener("pointerleave",m)}}},[i.scrollArea,i.scrollHideDelay]),g.jsx(ci,{present:n||o,children:g.jsx(Lj,{"data-state":o?"visible":"hidden",...s,ref:e})})}),iV=S.forwardRef((t,e)=>{const{forceMount:n,...s}=t,i=mr(ui,t.__scopeScrollArea),o=t.orientation==="horizontal",l=um(()=>d("SCROLL_END"),100),[u,d]=nV("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return S.useEffect(()=>{if(u==="idle"){const h=window.setTimeout(()=>d("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(h)}},[u,i.scrollHideDelay,d]),S.useEffect(()=>{const h=i.viewport,m=o?"scrollLeft":"scrollTop";if(h){let p=h[m];const v=()=>{const x=h[m];p!==x&&(d("SCROLL"),l()),p=x};return h.addEventListener("scroll",v),()=>h.removeEventListener("scroll",v)}},[i.viewport,o,d,l]),g.jsx(ci,{present:n||u!=="hidden",children:g.jsx(vw,{"data-state":u==="hidden"?"hidden":"visible",...s,ref:e,onPointerEnter:qe(t.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:qe(t.onPointerLeave,()=>d("POINTER_LEAVE"))})})}),Lj=S.forwardRef((t,e)=>{const n=mr(ui,t.__scopeScrollArea),{forceMount:s,...i}=t,[o,l]=S.useState(!1),u=t.orientation==="horizontal",d=um(()=>{if(n.viewport){const h=n.viewport.offsetWidth<n.viewport.scrollWidth,m=n.viewport.offsetHeight<n.viewport.scrollHeight;l(u?h:m)}},10);return Nc(n.viewport,d),Nc(n.content,d),g.jsx(ci,{present:s||o,children:g.jsx(vw,{"data-state":o?"visible":"hidden",...i,ref:e})})}),vw=S.forwardRef((t,e)=>{const{orientation:n="vertical",...s}=t,i=mr(ui,t.__scopeScrollArea),o=S.useRef(null),l=S.useRef(0),[u,d]=S.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),h=Uj(u.viewport,u.content),m={...s,sizes:u,onSizesChange:d,hasThumb:h>0&&h<1,onThumbChange:v=>o.current=v,onThumbPointerUp:()=>l.current=0,onThumbPointerDown:v=>l.current=v};function p(v,x){return dV(v,l.current,u,x)}return n==="horizontal"?g.jsx(aV,{...m,ref:e,onThumbPositionChange:()=>{if(i.viewport&&o.current){const v=i.viewport.scrollLeft,x=KT(v,u,i.dir);o.current.style.transform=`translate3d(${x}px, 0, 0)`}},onWheelScroll:v=>{i.viewport&&(i.viewport.scrollLeft=v)},onDragScroll:v=>{i.viewport&&(i.viewport.scrollLeft=p(v,i.dir))}}):n==="vertical"?g.jsx(oV,{...m,ref:e,onThumbPositionChange:()=>{if(i.viewport&&o.current){const v=i.viewport.scrollTop,x=KT(v,u);o.current.style.transform=`translate3d(0, ${x}px, 0)`}},onWheelScroll:v=>{i.viewport&&(i.viewport.scrollTop=v)},onDragScroll:v=>{i.viewport&&(i.viewport.scrollTop=p(v))}}):null}),aV=S.forwardRef((t,e)=>{const{sizes:n,onSizesChange:s,...i}=t,o=mr(ui,t.__scopeScrollArea),[l,u]=S.useState(),d=S.useRef(null),h=vt(e,d,o.onScrollbarXChange);return S.useEffect(()=>{d.current&&u(getComputedStyle(d.current))},[d]),g.jsx(Fj,{"data-orientation":"horizontal",...i,ref:h,sizes:n,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":cm(n)+"px",...t.style},onThumbPointerDown:m=>t.onThumbPointerDown(m.x),onDragScroll:m=>t.onDragScroll(m.x),onWheelScroll:(m,p)=>{if(o.viewport){const v=o.viewport.scrollLeft+m.deltaX;t.onWheelScroll(v),$j(v,p)&&m.preventDefault()}},onResize:()=>{d.current&&o.viewport&&l&&s({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:gp(l.paddingLeft),paddingEnd:gp(l.paddingRight)}})}})}),oV=S.forwardRef((t,e)=>{const{sizes:n,onSizesChange:s,...i}=t,o=mr(ui,t.__scopeScrollArea),[l,u]=S.useState(),d=S.useRef(null),h=vt(e,d,o.onScrollbarYChange);return S.useEffect(()=>{d.current&&u(getComputedStyle(d.current))},[d]),g.jsx(Fj,{"data-orientation":"vertical",...i,ref:h,sizes:n,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":cm(n)+"px",...t.style},onThumbPointerDown:m=>t.onThumbPointerDown(m.y),onDragScroll:m=>t.onDragScroll(m.y),onWheelScroll:(m,p)=>{if(o.viewport){const v=o.viewport.scrollTop+m.deltaY;t.onWheelScroll(v),$j(v,p)&&m.preventDefault()}},onResize:()=>{d.current&&o.viewport&&l&&s({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:gp(l.paddingTop),paddingEnd:gp(l.paddingBottom)}})}})}),[lV,Ij]=jj(ui),Fj=S.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:s,hasThumb:i,onThumbChange:o,onThumbPointerUp:l,onThumbPointerDown:u,onThumbPositionChange:d,onDragScroll:h,onWheelScroll:m,onResize:p,...v}=t,x=mr(ui,n),[_,w]=S.useState(null),C=vt(e,z=>w(z)),T=S.useRef(null),N=S.useRef(""),k=x.viewport,A=s.content-s.viewport,O=_s(m),P=_s(d),j=um(p,10);function D(z){if(T.current){const I=z.clientX-T.current.left,H=z.clientY-T.current.top;h({x:I,y:H})}}return S.useEffect(()=>{const z=I=>{const H=I.target;(_==null?void 0:_.contains(H))&&O(I,A)};return document.addEventListener("wheel",z,{passive:!1}),()=>document.removeEventListener("wheel",z,{passive:!1})},[k,_,A,O]),S.useEffect(P,[s,P]),Nc(_,j),Nc(x.content,j),g.jsx(lV,{scope:n,scrollbar:_,hasThumb:i,onThumbChange:_s(o),onThumbPointerUp:_s(l),onThumbPositionChange:P,onThumbPointerDown:_s(u),children:g.jsx(rt.div,{...v,ref:C,style:{position:"absolute",...v.style},onPointerDown:qe(t.onPointerDown,z=>{z.button===0&&(z.target.setPointerCapture(z.pointerId),T.current=_.getBoundingClientRect(),N.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",x.viewport&&(x.viewport.style.scrollBehavior="auto"),D(z))}),onPointerMove:qe(t.onPointerMove,D),onPointerUp:qe(t.onPointerUp,z=>{const I=z.target;I.hasPointerCapture(z.pointerId)&&I.releasePointerCapture(z.pointerId),document.body.style.webkitUserSelect=N.current,x.viewport&&(x.viewport.style.scrollBehavior=""),T.current=null})})})}),mp="ScrollAreaThumb",zj=S.forwardRef((t,e)=>{const{forceMount:n,...s}=t,i=Ij(mp,t.__scopeScrollArea);return g.jsx(ci,{present:n||i.hasThumb,children:g.jsx(cV,{ref:e,...s})})}),cV=S.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:s,...i}=t,o=mr(mp,n),l=Ij(mp,n),{onThumbPositionChange:u}=l,d=vt(e,p=>l.onThumbChange(p)),h=S.useRef(void 0),m=um(()=>{h.current&&(h.current(),h.current=void 0)},100);return S.useEffect(()=>{const p=o.viewport;if(p){const v=()=>{if(m(),!h.current){const x=fV(p,u);h.current=x,u()}};return u(),p.addEventListener("scroll",v),()=>p.removeEventListener("scroll",v)}},[o.viewport,m,u]),g.jsx(rt.div,{"data-state":l.hasThumb?"visible":"hidden",...i,ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...s},onPointerDownCapture:qe(t.onPointerDownCapture,p=>{const x=p.target.getBoundingClientRect(),_=p.clientX-x.left,w=p.clientY-x.top;l.onThumbPointerDown({x:_,y:w})}),onPointerUp:qe(t.onPointerUp,l.onThumbPointerUp)})});zj.displayName=mp;var yw="ScrollAreaCorner",Bj=S.forwardRef((t,e)=>{const n=mr(yw,t.__scopeScrollArea),s=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&s?g.jsx(uV,{...t,ref:e}):null});Bj.displayName=yw;var uV=S.forwardRef((t,e)=>{const{__scopeScrollArea:n,...s}=t,i=mr(yw,n),[o,l]=S.useState(0),[u,d]=S.useState(0),h=!!(o&&u);return Nc(i.scrollbarX,()=>{var p;const m=((p=i.scrollbarX)==null?void 0:p.offsetHeight)||0;i.onCornerHeightChange(m),d(m)}),Nc(i.scrollbarY,()=>{var p;const m=((p=i.scrollbarY)==null?void 0:p.offsetWidth)||0;i.onCornerWidthChange(m),l(m)}),h?g.jsx(rt.div,{...s,ref:e,style:{width:o,height:u,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function gp(t){return t?parseInt(t,10):0}function Uj(t,e){const n=t/e;return isNaN(n)?0:n}function cm(t){const e=Uj(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=(t.scrollbar.size-n)*e;return Math.max(s,18)}function dV(t,e,n,s="ltr"){const i=cm(n),o=i/2,l=e||o,u=i-l,d=n.scrollbar.paddingStart+l,h=n.scrollbar.size-n.scrollbar.paddingEnd-u,m=n.content-n.viewport,p=s==="ltr"?[0,m]:[m*-1,0];return Vj([d,h],p)(t)}function KT(t,e,n="ltr"){const s=cm(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,o=e.scrollbar.size-i,l=e.content-e.viewport,u=o-s,d=n==="ltr"?[0,l]:[l*-1,0],h=nb(t,d);return Vj([0,l],[0,u])(h)}function Vj(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const s=(e[1]-e[0])/(t[1]-t[0]);return e[0]+s*(n-t[0])}}function $j(t,e){return t>0&&t<e}var fV=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},s=0;return function i(){const o={left:t.scrollLeft,top:t.scrollTop},l=n.left!==o.left,u=n.top!==o.top;(l||u)&&e(),n=o,s=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(s)};function um(t,e){const n=_s(t),s=S.useRef(0);return S.useEffect(()=>()=>window.clearTimeout(s.current),[]),S.useCallback(()=>{window.clearTimeout(s.current),s.current=window.setTimeout(n,e)},[n,e])}function Nc(t,e){const n=_s(e);Fn(()=>{let s=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(s),s=window.requestAnimationFrame(n)});return i.observe(t),()=>{window.cancelAnimationFrame(s),i.unobserve(t)}}},[t,n])}var hV=Mj,pV=Dj,mV=Bj;function gV({className:t,children:e,viewportRef:n,...s}){return g.jsxs(hV,{"data-slot":"scroll-area",className:Me("relative",t),...s,children:[g.jsx(pV,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",ref:n,children:e}),g.jsx(vV,{}),g.jsx(mV,{})]})}function vV({className:t,orientation:e="vertical",...n}){return g.jsx(Pj,{"data-slot":"scroll-area-scrollbar",orientation:e,className:Me("flex touch-none p-px transition-colors select-none",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",t),...n,children:g.jsx(zj,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}function ni({className:t,type:e,...n}){return g.jsx("input",{type:e,"data-slot":"input",className:Me("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...n})}var yV="Separator",GT="horizontal",bV=["horizontal","vertical"],Hj=S.forwardRef((t,e)=>{const{decorative:n,orientation:s=GT,...i}=t,o=xV(s)?s:GT,u=n?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return g.jsx(rt.div,{"data-orientation":o,...u,...i,ref:e})});Hj.displayName=yV;function xV(t){return bV.includes(t)}var wV=Hj;function _V({className:t,orientation:e="horizontal",decorative:n=!0,...s}){return g.jsx(wV,{"data-slot":"separator-root",decorative:n,orientation:e,className:Me("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",t),...s})}function SV({...t}){return g.jsx(jA,{"data-slot":"sheet",...t})}function CV({...t}){return g.jsx(wx,{"data-slot":"sheet-portal",...t})}function EV({className:t,...e}){return g.jsx(nm,{"data-slot":"sheet-overlay",className:Me("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e})}function TV({className:t,children:e,side:n="right",...s}){return g.jsxs(CV,{children:[g.jsx(EV,{}),g.jsxs(sm,{"data-slot":"sheet-content",className:Me("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",n==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",n==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",n==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",n==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",t),...s,children:[e,g.jsxs(Cx,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[g.jsx(Nx,{className:"size-4"}),g.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function kV({className:t,...e}){return g.jsx("div",{"data-slot":"sheet-header",className:Me("flex flex-col gap-1.5 p-4",t),...e})}function NV({className:t,...e}){return g.jsx(_x,{"data-slot":"sheet-title",className:Me("text-foreground font-semibold",t),...e})}function AV({className:t,...e}){return g.jsx(Sx,{"data-slot":"sheet-description",className:Me("text-muted-foreground text-sm",t),...e})}const RV=["top","right","bottom","left"],Va=Math.min,Is=Math.max,vp=Math.round,Eh=Math.floor,si=t=>({x:t,y:t}),jV={left:"right",right:"left",bottom:"top",top:"bottom"},MV={start:"end",end:"start"};function sb(t,e,n){return Is(t,Va(e,n))}function $i(t,e){return typeof t=="function"?t(e):t}function Hi(t){return t.split("-")[0]}function Yc(t){return t.split("-")[1]}function bw(t){return t==="x"?"y":"x"}function xw(t){return t==="y"?"height":"width"}const OV=new Set(["top","bottom"]);function Yr(t){return OV.has(Hi(t))?"y":"x"}function ww(t){return bw(Yr(t))}function DV(t,e,n){n===void 0&&(n=!1);const s=Yc(t),i=ww(t),o=xw(i);let l=i==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(l=yp(l)),[l,yp(l)]}function PV(t){const e=yp(t);return[rb(t),e,rb(e)]}function rb(t){return t.replace(/start|end/g,e=>MV[e])}const YT=["left","right"],WT=["right","left"],LV=["top","bottom"],IV=["bottom","top"];function FV(t,e,n){switch(t){case"top":case"bottom":return n?e?WT:YT:e?YT:WT;case"left":case"right":return e?LV:IV;default:return[]}}function zV(t,e,n,s){const i=Yc(t);let o=FV(Hi(t),n==="start",s);return i&&(o=o.map(l=>l+"-"+i),e&&(o=o.concat(o.map(rb)))),o}function yp(t){return t.replace(/left|right|bottom|top/g,e=>jV[e])}function BV(t){return{top:0,right:0,bottom:0,left:0,...t}}function qj(t){return typeof t!="number"?BV(t):{top:t,right:t,bottom:t,left:t}}function bp(t){const{x:e,y:n,width:s,height:i}=t;return{width:s,height:i,top:n,left:e,right:e+s,bottom:n+i,x:e,y:n}}function XT(t,e,n){let{reference:s,floating:i}=t;const o=Yr(e),l=ww(e),u=xw(l),d=Hi(e),h=o==="y",m=s.x+s.width/2-i.width/2,p=s.y+s.height/2-i.height/2,v=s[u]/2-i[u]/2;let x;switch(d){case"top":x={x:m,y:s.y-i.height};break;case"bottom":x={x:m,y:s.y+s.height};break;case"right":x={x:s.x+s.width,y:p};break;case"left":x={x:s.x-i.width,y:p};break;default:x={x:s.x,y:s.y}}switch(Yc(e)){case"start":x[l]-=v*(n&&h?-1:1);break;case"end":x[l]+=v*(n&&h?-1:1);break}return x}const UV=async(t,e,n)=>{const{placement:s="bottom",strategy:i="absolute",middleware:o=[],platform:l}=n,u=o.filter(Boolean),d=await(l.isRTL==null?void 0:l.isRTL(e));let h=await l.getElementRects({reference:t,floating:e,strategy:i}),{x:m,y:p}=XT(h,s,d),v=s,x={},_=0;for(let w=0;w<u.length;w++){const{name:C,fn:T}=u[w],{x:N,y:k,data:A,reset:O}=await T({x:m,y:p,initialPlacement:s,placement:v,strategy:i,middlewareData:x,rects:h,platform:l,elements:{reference:t,floating:e}});m=N??m,p=k??p,x={...x,[C]:{...x[C],...A}},O&&_<=50&&(_++,typeof O=="object"&&(O.placement&&(v=O.placement),O.rects&&(h=O.rects===!0?await l.getElementRects({reference:t,floating:e,strategy:i}):O.rects),{x:m,y:p}=XT(h,v,d)),w=-1)}return{x:m,y:p,placement:v,strategy:i,middlewareData:x}};async function Ad(t,e){var n;e===void 0&&(e={});const{x:s,y:i,platform:o,rects:l,elements:u,strategy:d}=t,{boundary:h="clippingAncestors",rootBoundary:m="viewport",elementContext:p="floating",altBoundary:v=!1,padding:x=0}=$i(e,t),_=qj(x),C=u[v?p==="floating"?"reference":"floating":p],T=bp(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(C)))==null||n?C:C.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(u.floating)),boundary:h,rootBoundary:m,strategy:d})),N=p==="floating"?{x:s,y:i,width:l.floating.width,height:l.floating.height}:l.reference,k=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u.floating)),A=await(o.isElement==null?void 0:o.isElement(k))?await(o.getScale==null?void 0:o.getScale(k))||{x:1,y:1}:{x:1,y:1},O=bp(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:N,offsetParent:k,strategy:d}):N);return{top:(T.top-O.top+_.top)/A.y,bottom:(O.bottom-T.bottom+_.bottom)/A.y,left:(T.left-O.left+_.left)/A.x,right:(O.right-T.right+_.right)/A.x}}const VV=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:s,placement:i,rects:o,platform:l,elements:u,middlewareData:d}=e,{element:h,padding:m=0}=$i(t,e)||{};if(h==null)return{};const p=qj(m),v={x:n,y:s},x=ww(i),_=xw(x),w=await l.getDimensions(h),C=x==="y",T=C?"top":"left",N=C?"bottom":"right",k=C?"clientHeight":"clientWidth",A=o.reference[_]+o.reference[x]-v[x]-o.floating[_],O=v[x]-o.reference[x],P=await(l.getOffsetParent==null?void 0:l.getOffsetParent(h));let j=P?P[k]:0;(!j||!await(l.isElement==null?void 0:l.isElement(P)))&&(j=u.floating[k]||o.floating[_]);const D=A/2-O/2,z=j/2-w[_]/2-1,I=Va(p[T],z),H=Va(p[N],z),V=I,X=j-w[_]-H,J=j/2-w[_]/2+D,ie=sb(V,J,X),R=!d.arrow&&Yc(i)!=null&&J!==ie&&o.reference[_]/2-(J<V?I:H)-w[_]/2<0,B=R?J<V?J-V:J-X:0;return{[x]:v[x]+B,data:{[x]:ie,centerOffset:J-ie-B,...R&&{alignmentOffset:B}},reset:R}}}),$V=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,s;const{placement:i,middlewareData:o,rects:l,initialPlacement:u,platform:d,elements:h}=e,{mainAxis:m=!0,crossAxis:p=!0,fallbackPlacements:v,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:w=!0,...C}=$i(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const T=Hi(i),N=Yr(u),k=Hi(u)===u,A=await(d.isRTL==null?void 0:d.isRTL(h.floating)),O=v||(k||!w?[yp(u)]:PV(u)),P=_!=="none";!v&&P&&O.push(...zV(u,w,_,A));const j=[u,...O],D=await Ad(e,C),z=[];let I=((s=o.flip)==null?void 0:s.overflows)||[];if(m&&z.push(D[T]),p){const J=DV(i,l,A);z.push(D[J[0]],D[J[1]])}if(I=[...I,{placement:i,overflows:z}],!z.every(J=>J<=0)){var H,V;const J=(((H=o.flip)==null?void 0:H.index)||0)+1,ie=j[J];if(ie&&(!(p==="alignment"?N!==Yr(ie):!1)||I.every(F=>F.overflows[0]>0&&Yr(F.placement)===N)))return{data:{index:J,overflows:I},reset:{placement:ie}};let R=(V=I.filter(B=>B.overflows[0]<=0).sort((B,F)=>B.overflows[1]-F.overflows[1])[0])==null?void 0:V.placement;if(!R)switch(x){case"bestFit":{var X;const B=(X=I.filter(F=>{if(P){const se=Yr(F.placement);return se===N||se==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(se=>se>0).reduce((se,W)=>se+W,0)]).sort((F,se)=>F[1]-se[1])[0])==null?void 0:X[0];B&&(R=B);break}case"initialPlacement":R=u;break}if(i!==R)return{reset:{placement:R}}}return{}}}};function QT(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function JT(t){return RV.some(e=>t[e]>=0)}const HV=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:s="referenceHidden",...i}=$i(t,e);switch(s){case"referenceHidden":{const o=await Ad(e,{...i,elementContext:"reference"}),l=QT(o,n.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:JT(l)}}}case"escaped":{const o=await Ad(e,{...i,altBoundary:!0}),l=QT(o,n.floating);return{data:{escapedOffsets:l,escaped:JT(l)}}}default:return{}}}}},Kj=new Set(["left","top"]);async function qV(t,e){const{placement:n,platform:s,elements:i}=t,o=await(s.isRTL==null?void 0:s.isRTL(i.floating)),l=Hi(n),u=Yc(n),d=Yr(n)==="y",h=Kj.has(l)?-1:1,m=o&&d?-1:1,p=$i(e,t);let{mainAxis:v,crossAxis:x,alignmentAxis:_}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return u&&typeof _=="number"&&(x=u==="end"?_*-1:_),d?{x:x*m,y:v*h}:{x:v*h,y:x*m}}const KV=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,s;const{x:i,y:o,placement:l,middlewareData:u}=e,d=await qV(e,t);return l===((n=u.offset)==null?void 0:n.placement)&&(s=u.arrow)!=null&&s.alignmentOffset?{}:{x:i+d.x,y:o+d.y,data:{...d,placement:l}}}}},GV=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:s,placement:i}=e,{mainAxis:o=!0,crossAxis:l=!1,limiter:u={fn:C=>{let{x:T,y:N}=C;return{x:T,y:N}}},...d}=$i(t,e),h={x:n,y:s},m=await Ad(e,d),p=Yr(Hi(i)),v=bw(p);let x=h[v],_=h[p];if(o){const C=v==="y"?"top":"left",T=v==="y"?"bottom":"right",N=x+m[C],k=x-m[T];x=sb(N,x,k)}if(l){const C=p==="y"?"top":"left",T=p==="y"?"bottom":"right",N=_+m[C],k=_-m[T];_=sb(N,_,k)}const w=u.fn({...e,[v]:x,[p]:_});return{...w,data:{x:w.x-n,y:w.y-s,enabled:{[v]:o,[p]:l}}}}}},YV=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:s,placement:i,rects:o,middlewareData:l}=e,{offset:u=0,mainAxis:d=!0,crossAxis:h=!0}=$i(t,e),m={x:n,y:s},p=Yr(i),v=bw(p);let x=m[v],_=m[p];const w=$i(u,e),C=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(d){const k=v==="y"?"height":"width",A=o.reference[v]-o.floating[k]+C.mainAxis,O=o.reference[v]+o.reference[k]-C.mainAxis;x<A?x=A:x>O&&(x=O)}if(h){var T,N;const k=v==="y"?"width":"height",A=Kj.has(Hi(i)),O=o.reference[p]-o.floating[k]+(A&&((T=l.offset)==null?void 0:T[p])||0)+(A?0:C.crossAxis),P=o.reference[p]+o.reference[k]+(A?0:((N=l.offset)==null?void 0:N[p])||0)-(A?C.crossAxis:0);_<O?_=O:_>P&&(_=P)}return{[v]:x,[p]:_}}}},WV=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,s;const{placement:i,rects:o,platform:l,elements:u}=e,{apply:d=()=>{},...h}=$i(t,e),m=await Ad(e,h),p=Hi(i),v=Yc(i),x=Yr(i)==="y",{width:_,height:w}=o.floating;let C,T;p==="top"||p==="bottom"?(C=p,T=v===(await(l.isRTL==null?void 0:l.isRTL(u.floating))?"start":"end")?"left":"right"):(T=p,C=v==="end"?"top":"bottom");const N=w-m.top-m.bottom,k=_-m.left-m.right,A=Va(w-m[C],N),O=Va(_-m[T],k),P=!e.middlewareData.shift;let j=A,D=O;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(D=k),(s=e.middlewareData.shift)!=null&&s.enabled.y&&(j=N),P&&!v){const I=Is(m.left,0),H=Is(m.right,0),V=Is(m.top,0),X=Is(m.bottom,0);x?D=_-2*(I!==0||H!==0?I+H:Is(m.left,m.right)):j=w-2*(V!==0||X!==0?V+X:Is(m.top,m.bottom))}await d({...e,availableWidth:D,availableHeight:j});const z=await l.getDimensions(u.floating);return _!==z.width||w!==z.height?{reset:{rects:!0}}:{}}}};function dm(){return typeof window<"u"}function Wc(t){return Gj(t)?(t.nodeName||"").toLowerCase():"#document"}function Bs(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function di(t){var e;return(e=(Gj(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Gj(t){return dm()?t instanceof Node||t instanceof Bs(t).Node:!1}function Ar(t){return dm()?t instanceof Element||t instanceof Bs(t).Element:!1}function oi(t){return dm()?t instanceof HTMLElement||t instanceof Bs(t).HTMLElement:!1}function ZT(t){return!dm()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Bs(t).ShadowRoot}const XV=new Set(["inline","contents"]);function Xd(t){const{overflow:e,overflowX:n,overflowY:s,display:i}=Rr(t);return/auto|scroll|overlay|hidden|clip/.test(e+s+n)&&!XV.has(i)}const QV=new Set(["table","td","th"]);function JV(t){return QV.has(Wc(t))}const ZV=[":popover-open",":modal"];function fm(t){return ZV.some(e=>{try{return t.matches(e)}catch{return!1}})}const e$=["transform","translate","scale","rotate","perspective"],t$=["transform","translate","scale","rotate","perspective","filter"],n$=["paint","layout","strict","content"];function _w(t){const e=Sw(),n=Ar(t)?Rr(t):t;return e$.some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||t$.some(s=>(n.willChange||"").includes(s))||n$.some(s=>(n.contain||"").includes(s))}function s$(t){let e=$a(t);for(;oi(e)&&!Ac(e);){if(_w(e))return e;if(fm(e))return null;e=$a(e)}return null}function Sw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const r$=new Set(["html","body","#document"]);function Ac(t){return r$.has(Wc(t))}function Rr(t){return Bs(t).getComputedStyle(t)}function hm(t){return Ar(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function $a(t){if(Wc(t)==="html")return t;const e=t.assignedSlot||t.parentNode||ZT(t)&&t.host||di(t);return ZT(e)?e.host:e}function Yj(t){const e=$a(t);return Ac(e)?t.ownerDocument?t.ownerDocument.body:t.body:oi(e)&&Xd(e)?e:Yj(e)}function Rd(t,e,n){var s;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=Yj(t),o=i===((s=t.ownerDocument)==null?void 0:s.body),l=Bs(i);if(o){const u=ib(l);return e.concat(l,l.visualViewport||[],Xd(i)?i:[],u&&n?Rd(u):[])}return e.concat(i,Rd(i,[],n))}function ib(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Wj(t){const e=Rr(t);let n=parseFloat(e.width)||0,s=parseFloat(e.height)||0;const i=oi(t),o=i?t.offsetWidth:n,l=i?t.offsetHeight:s,u=vp(n)!==o||vp(s)!==l;return u&&(n=o,s=l),{width:n,height:s,$:u}}function Cw(t){return Ar(t)?t:t.contextElement}function ic(t){const e=Cw(t);if(!oi(e))return si(1);const n=e.getBoundingClientRect(),{width:s,height:i,$:o}=Wj(e);let l=(o?vp(n.width):n.width)/s,u=(o?vp(n.height):n.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!u||!Number.isFinite(u))&&(u=1),{x:l,y:u}}const i$=si(0);function Xj(t){const e=Bs(t);return!Sw()||!e.visualViewport?i$:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function a$(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Bs(t)?!1:e}function Ho(t,e,n,s){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),o=Cw(t);let l=si(1);e&&(s?Ar(s)&&(l=ic(s)):l=ic(t));const u=a$(o,n,s)?Xj(o):si(0);let d=(i.left+u.x)/l.x,h=(i.top+u.y)/l.y,m=i.width/l.x,p=i.height/l.y;if(o){const v=Bs(o),x=s&&Ar(s)?Bs(s):s;let _=v,w=ib(_);for(;w&&s&&x!==_;){const C=ic(w),T=w.getBoundingClientRect(),N=Rr(w),k=T.left+(w.clientLeft+parseFloat(N.paddingLeft))*C.x,A=T.top+(w.clientTop+parseFloat(N.paddingTop))*C.y;d*=C.x,h*=C.y,m*=C.x,p*=C.y,d+=k,h+=A,_=Bs(w),w=ib(_)}}return bp({width:m,height:p,x:d,y:h})}function Ew(t,e){const n=hm(t).scrollLeft;return e?e.left+n:Ho(di(t)).left+n}function Qj(t,e,n){n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=s.left+e.scrollLeft-(n?0:Ew(t,s)),o=s.top+e.scrollTop;return{x:i,y:o}}function o$(t){let{elements:e,rect:n,offsetParent:s,strategy:i}=t;const o=i==="fixed",l=di(s),u=e?fm(e.floating):!1;if(s===l||u&&o)return n;let d={scrollLeft:0,scrollTop:0},h=si(1);const m=si(0),p=oi(s);if((p||!p&&!o)&&((Wc(s)!=="body"||Xd(l))&&(d=hm(s)),oi(s))){const x=Ho(s);h=ic(s),m.x=x.x+s.clientLeft,m.y=x.y+s.clientTop}const v=l&&!p&&!o?Qj(l,d,!0):si(0);return{width:n.width*h.x,height:n.height*h.y,x:n.x*h.x-d.scrollLeft*h.x+m.x+v.x,y:n.y*h.y-d.scrollTop*h.y+m.y+v.y}}function l$(t){return Array.from(t.getClientRects())}function c$(t){const e=di(t),n=hm(t),s=t.ownerDocument.body,i=Is(e.scrollWidth,e.clientWidth,s.scrollWidth,s.clientWidth),o=Is(e.scrollHeight,e.clientHeight,s.scrollHeight,s.clientHeight);let l=-n.scrollLeft+Ew(t);const u=-n.scrollTop;return Rr(s).direction==="rtl"&&(l+=Is(e.clientWidth,s.clientWidth)-i),{width:i,height:o,x:l,y:u}}function u$(t,e){const n=Bs(t),s=di(t),i=n.visualViewport;let o=s.clientWidth,l=s.clientHeight,u=0,d=0;if(i){o=i.width,l=i.height;const h=Sw();(!h||h&&e==="fixed")&&(u=i.offsetLeft,d=i.offsetTop)}return{width:o,height:l,x:u,y:d}}const d$=new Set(["absolute","fixed"]);function f$(t,e){const n=Ho(t,!0,e==="fixed"),s=n.top+t.clientTop,i=n.left+t.clientLeft,o=oi(t)?ic(t):si(1),l=t.clientWidth*o.x,u=t.clientHeight*o.y,d=i*o.x,h=s*o.y;return{width:l,height:u,x:d,y:h}}function e2(t,e,n){let s;if(e==="viewport")s=u$(t,n);else if(e==="document")s=c$(di(t));else if(Ar(e))s=f$(e,n);else{const i=Xj(t);s={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return bp(s)}function Jj(t,e){const n=$a(t);return n===e||!Ar(n)||Ac(n)?!1:Rr(n).position==="fixed"||Jj(n,e)}function h$(t,e){const n=e.get(t);if(n)return n;let s=Rd(t,[],!1).filter(u=>Ar(u)&&Wc(u)!=="body"),i=null;const o=Rr(t).position==="fixed";let l=o?$a(t):t;for(;Ar(l)&&!Ac(l);){const u=Rr(l),d=_w(l);!d&&u.position==="fixed"&&(i=null),(o?!d&&!i:!d&&u.position==="static"&&!!i&&d$.has(i.position)||Xd(l)&&!d&&Jj(t,l))?s=s.filter(m=>m!==l):i=u,l=$a(l)}return e.set(t,s),s}function p$(t){let{element:e,boundary:n,rootBoundary:s,strategy:i}=t;const l=[...n==="clippingAncestors"?fm(e)?[]:h$(e,this._c):[].concat(n),s],u=l[0],d=l.reduce((h,m)=>{const p=e2(e,m,i);return h.top=Is(p.top,h.top),h.right=Va(p.right,h.right),h.bottom=Va(p.bottom,h.bottom),h.left=Is(p.left,h.left),h},e2(e,u,i));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function m$(t){const{width:e,height:n}=Wj(t);return{width:e,height:n}}function g$(t,e,n){const s=oi(e),i=di(e),o=n==="fixed",l=Ho(t,!0,o,e);let u={scrollLeft:0,scrollTop:0};const d=si(0);function h(){d.x=Ew(i)}if(s||!s&&!o)if((Wc(e)!=="body"||Xd(i))&&(u=hm(e)),s){const x=Ho(e,!0,o,e);d.x=x.x+e.clientLeft,d.y=x.y+e.clientTop}else i&&h();o&&!s&&i&&h();const m=i&&!s&&!o?Qj(i,u):si(0),p=l.left+u.scrollLeft-d.x-m.x,v=l.top+u.scrollTop-d.y-m.y;return{x:p,y:v,width:l.width,height:l.height}}function _y(t){return Rr(t).position==="static"}function t2(t,e){if(!oi(t)||Rr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return di(t)===n&&(n=n.ownerDocument.body),n}function Zj(t,e){const n=Bs(t);if(fm(t))return n;if(!oi(t)){let i=$a(t);for(;i&&!Ac(i);){if(Ar(i)&&!_y(i))return i;i=$a(i)}return n}let s=t2(t,e);for(;s&&JV(s)&&_y(s);)s=t2(s,e);return s&&Ac(s)&&_y(s)&&!_w(s)?n:s||s$(t)||n}const v$=async function(t){const e=this.getOffsetParent||Zj,n=this.getDimensions,s=await n(t.floating);return{reference:g$(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function y$(t){return Rr(t).direction==="rtl"}const b$={convertOffsetParentRelativeRectToViewportRelativeRect:o$,getDocumentElement:di,getClippingRect:p$,getOffsetParent:Zj,getElementRects:v$,getClientRects:l$,getDimensions:m$,getScale:ic,isElement:Ar,isRTL:y$};function eM(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function x$(t,e){let n=null,s;const i=di(t);function o(){var u;clearTimeout(s),(u=n)==null||u.disconnect(),n=null}function l(u,d){u===void 0&&(u=!1),d===void 0&&(d=1),o();const h=t.getBoundingClientRect(),{left:m,top:p,width:v,height:x}=h;if(u||e(),!v||!x)return;const _=Eh(p),w=Eh(i.clientWidth-(m+v)),C=Eh(i.clientHeight-(p+x)),T=Eh(m),k={rootMargin:-_+"px "+-w+"px "+-C+"px "+-T+"px",threshold:Is(0,Va(1,d))||1};let A=!0;function O(P){const j=P[0].intersectionRatio;if(j!==d){if(!A)return l();j?l(!1,j):s=setTimeout(()=>{l(!1,1e-7)},1e3)}j===1&&!eM(h,t.getBoundingClientRect())&&l(),A=!1}try{n=new IntersectionObserver(O,{...k,root:i.ownerDocument})}catch{n=new IntersectionObserver(O,k)}n.observe(t)}return l(!0),o}function w$(t,e,n,s){s===void 0&&(s={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:d=!1}=s,h=Cw(t),m=i||o?[...h?Rd(h):[],...Rd(e)]:[];m.forEach(T=>{i&&T.addEventListener("scroll",n,{passive:!0}),o&&T.addEventListener("resize",n)});const p=h&&u?x$(h,n):null;let v=-1,x=null;l&&(x=new ResizeObserver(T=>{let[N]=T;N&&N.target===h&&x&&(x.unobserve(e),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var k;(k=x)==null||k.observe(e)})),n()}),h&&!d&&x.observe(h),x.observe(e));let _,w=d?Ho(t):null;d&&C();function C(){const T=Ho(t);w&&!eM(w,T)&&n(),w=T,_=requestAnimationFrame(C)}return n(),()=>{var T;m.forEach(N=>{i&&N.removeEventListener("scroll",n),o&&N.removeEventListener("resize",n)}),p==null||p(),(T=x)==null||T.disconnect(),x=null,d&&cancelAnimationFrame(_)}}const _$=KV,S$=GV,C$=$V,E$=WV,T$=HV,n2=VV,k$=YV,N$=(t,e,n)=>{const s=new Map,i={platform:b$,...n},o={...i.platform,_c:s};return UV(t,e,{...i,platform:o})};var A$=typeof document<"u",R$=function(){},tp=A$?S.useLayoutEffect:R$;function xp(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,s,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(s=n;s--!==0;)if(!xp(t[s],e[s]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(e,i[s]))return!1;for(s=n;s--!==0;){const o=i[s];if(!(o==="_owner"&&t.$$typeof)&&!xp(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function tM(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function s2(t,e){const n=tM(t);return Math.round(e*n)/n}function Sy(t){const e=S.useRef(t);return tp(()=>{e.current=t}),e}function j$(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:s=[],platform:i,elements:{reference:o,floating:l}={},transform:u=!0,whileElementsMounted:d,open:h}=t,[m,p]=S.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[v,x]=S.useState(s);xp(v,s)||x(s);const[_,w]=S.useState(null),[C,T]=S.useState(null),N=S.useCallback(F=>{F!==P.current&&(P.current=F,w(F))},[]),k=S.useCallback(F=>{F!==j.current&&(j.current=F,T(F))},[]),A=o||_,O=l||C,P=S.useRef(null),j=S.useRef(null),D=S.useRef(m),z=d!=null,I=Sy(d),H=Sy(i),V=Sy(h),X=S.useCallback(()=>{if(!P.current||!j.current)return;const F={placement:e,strategy:n,middleware:v};H.current&&(F.platform=H.current),N$(P.current,j.current,F).then(se=>{const W={...se,isPositioned:V.current!==!1};J.current&&!xp(D.current,W)&&(D.current=W,Xo.flushSync(()=>{p(W)}))})},[v,e,n,H,V]);tp(()=>{h===!1&&D.current.isPositioned&&(D.current.isPositioned=!1,p(F=>({...F,isPositioned:!1})))},[h]);const J=S.useRef(!1);tp(()=>(J.current=!0,()=>{J.current=!1}),[]),tp(()=>{if(A&&(P.current=A),O&&(j.current=O),A&&O){if(I.current)return I.current(A,O,X);X()}},[A,O,X,I,z]);const ie=S.useMemo(()=>({reference:P,floating:j,setReference:N,setFloating:k}),[N,k]),R=S.useMemo(()=>({reference:A,floating:O}),[A,O]),B=S.useMemo(()=>{const F={position:n,left:0,top:0};if(!R.floating)return F;const se=s2(R.floating,m.x),W=s2(R.floating,m.y);return u?{...F,transform:"translate("+se+"px, "+W+"px)",...tM(R.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:se,top:W}},[n,u,R.floating,m.x,m.y]);return S.useMemo(()=>({...m,update:X,refs:ie,elements:R,floatingStyles:B}),[m,X,ie,R,B])}const M$=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:s,padding:i}=typeof t=="function"?t(n):t;return s&&e(s)?s.current!=null?n2({element:s.current,padding:i}).fn(n):{}:s?n2({element:s,padding:i}).fn(n):{}}}},O$=(t,e)=>({..._$(t),options:[t,e]}),D$=(t,e)=>({...S$(t),options:[t,e]}),P$=(t,e)=>({...k$(t),options:[t,e]}),L$=(t,e)=>({...C$(t),options:[t,e]}),I$=(t,e)=>({...E$(t),options:[t,e]}),F$=(t,e)=>({...T$(t),options:[t,e]}),z$=(t,e)=>({...M$(t),options:[t,e]});var B$="Arrow",nM=S.forwardRef((t,e)=>{const{children:n,width:s=10,height:i=5,...o}=t;return g.jsx(rt.svg,{...o,ref:e,width:s,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:g.jsx("polygon",{points:"0,0 30,0 15,10"})})});nM.displayName=B$;var U$=nM;function V$(t){const[e,n]=S.useState(void 0);return Fn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const s=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let l,u;if("borderBoxSize"in o){const d=o.borderBoxSize,h=Array.isArray(d)?d[0]:d;l=h.inlineSize,u=h.blockSize}else l=t.offsetWidth,u=t.offsetHeight;n({width:l,height:u})});return s.observe(t,{box:"border-box"}),()=>s.unobserve(t)}else n(void 0)},[t]),e}var Tw="Popper",[sM,pm]=Vc(Tw),[$$,rM]=sM(Tw),iM=t=>{const{__scopePopper:e,children:n}=t,[s,i]=S.useState(null);return g.jsx($$,{scope:e,anchor:s,onAnchorChange:i,children:n})};iM.displayName=Tw;var aM="PopperAnchor",oM=S.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:s,...i}=t,o=rM(aM,n),l=S.useRef(null),u=vt(e,l);return S.useEffect(()=>{o.onAnchorChange((s==null?void 0:s.current)||l.current)}),s?null:g.jsx(rt.div,{...i,ref:u})});oM.displayName=aM;var kw="PopperContent",[H$,q$]=sM(kw),lM=S.forwardRef((t,e)=>{var ae,me,ge,pe,Ce,Ee;const{__scopePopper:n,side:s="bottom",sideOffset:i=0,align:o="center",alignOffset:l=0,arrowPadding:u=0,avoidCollisions:d=!0,collisionBoundary:h=[],collisionPadding:m=0,sticky:p="partial",hideWhenDetached:v=!1,updatePositionStrategy:x="optimized",onPlaced:_,...w}=t,C=rM(kw,n),[T,N]=S.useState(null),k=vt(e,Ke=>N(Ke)),[A,O]=S.useState(null),P=V$(A),j=(P==null?void 0:P.width)??0,D=(P==null?void 0:P.height)??0,z=s+(o!=="center"?"-"+o:""),I=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},H=Array.isArray(h)?h:[h],V=H.length>0,X={padding:I,boundary:H.filter(G$),altBoundary:V},{refs:J,floatingStyles:ie,placement:R,isPositioned:B,middlewareData:F}=j$({strategy:"fixed",placement:z,whileElementsMounted:(...Ke)=>w$(...Ke,{animationFrame:x==="always"}),elements:{reference:C.anchor},middleware:[O$({mainAxis:i+D,alignmentAxis:l}),d&&D$({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?P$():void 0,...X}),d&&L$({...X}),I$({...X,apply:({elements:Ke,rects:st,availableWidth:Ve,availableHeight:Ut})=>{const{width:ft,height:rn}=st.reference,yt=Ke.floating.style;yt.setProperty("--radix-popper-available-width",`${Ve}px`),yt.setProperty("--radix-popper-available-height",`${Ut}px`),yt.setProperty("--radix-popper-anchor-width",`${ft}px`),yt.setProperty("--radix-popper-anchor-height",`${rn}px`)}}),A&&z$({element:A,padding:u}),Y$({arrowWidth:j,arrowHeight:D}),v&&F$({strategy:"referenceHidden",...X})]}),[se,W]=dM(R),L=_s(_);Fn(()=>{B&&(L==null||L())},[B,L]);const $=(ae=F.arrow)==null?void 0:ae.x,Y=(me=F.arrow)==null?void 0:me.y,ee=((ge=F.arrow)==null?void 0:ge.centerOffset)!==0,[de,ce]=S.useState();return Fn(()=>{T&&ce(window.getComputedStyle(T).zIndex)},[T]),g.jsx("div",{ref:J.setFloating,"data-radix-popper-content-wrapper":"",style:{...ie,transform:B?ie.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:de,"--radix-popper-transform-origin":[(pe=F.transformOrigin)==null?void 0:pe.x,(Ce=F.transformOrigin)==null?void 0:Ce.y].join(" "),...((Ee=F.hide)==null?void 0:Ee.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:g.jsx(H$,{scope:n,placedSide:se,onArrowChange:O,arrowX:$,arrowY:Y,shouldHideArrow:ee,children:g.jsx(rt.div,{"data-side":se,"data-align":W,...w,ref:k,style:{...w.style,animation:B?void 0:"none"}})})})});lM.displayName=kw;var cM="PopperArrow",K$={top:"bottom",right:"left",bottom:"top",left:"right"},uM=S.forwardRef(function(e,n){const{__scopePopper:s,...i}=e,o=q$(cM,s),l=K$[o.placedSide];return g.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:g.jsx(U$,{...i,ref:n,style:{...i.style,display:"block"}})})});uM.displayName=cM;function G$(t){return t!==null}var Y$=t=>({name:"transformOrigin",options:t,fn(e){var C,T,N;const{placement:n,rects:s,middlewareData:i}=e,l=((C=i.arrow)==null?void 0:C.centerOffset)!==0,u=l?0:t.arrowWidth,d=l?0:t.arrowHeight,[h,m]=dM(n),p={start:"0%",center:"50%",end:"100%"}[m],v=(((T=i.arrow)==null?void 0:T.x)??0)+u/2,x=(((N=i.arrow)==null?void 0:N.y)??0)+d/2;let _="",w="";return h==="bottom"?(_=l?p:`${v}px`,w=`${-d}px`):h==="top"?(_=l?p:`${v}px`,w=`${s.floating.height+d}px`):h==="right"?(_=`${-d}px`,w=l?p:`${x}px`):h==="left"&&(_=`${s.floating.width+d}px`,w=l?p:`${x}px`),{data:{x:_,y:w}}}});function dM(t){const[e,n="center"]=t.split("-");return[e,n]}var fM=iM,hM=oM,pM=lM,mM=uM,gM=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),W$="VisuallyHidden",vM=S.forwardRef((t,e)=>g.jsx(rt.span,{...t,ref:e,style:{...gM,...t.style}}));vM.displayName=W$;var X$=vM,[mm,AZ]=Vc("Tooltip",[pm]),gm=pm(),yM="TooltipProvider",Q$=700,ab="tooltip.open",[J$,Nw]=mm(yM),bM=t=>{const{__scopeTooltip:e,delayDuration:n=Q$,skipDelayDuration:s=300,disableHoverableContent:i=!1,children:o}=t,l=S.useRef(!0),u=S.useRef(!1),d=S.useRef(0);return S.useEffect(()=>{const h=d.current;return()=>window.clearTimeout(h)},[]),g.jsx(J$,{scope:e,isOpenDelayedRef:l,delayDuration:n,onOpen:S.useCallback(()=>{window.clearTimeout(d.current),l.current=!1},[]),onClose:S.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>l.current=!0,s)},[s]),isPointerInTransitRef:u,onPointerInTransitChange:S.useCallback(h=>{u.current=h},[]),disableHoverableContent:i,children:o})};bM.displayName=yM;var jd="Tooltip",[Z$,Qd]=mm(jd),xM=t=>{const{__scopeTooltip:e,children:n,open:s,defaultOpen:i,onOpenChange:o,disableHoverableContent:l,delayDuration:u}=t,d=Nw(jd,t.__scopeTooltip),h=gm(e),[m,p]=S.useState(null),v=Po(),x=S.useRef(0),_=l??d.disableHoverableContent,w=u??d.delayDuration,C=S.useRef(!1),[T,N]=ap({prop:s,defaultProp:i??!1,onChange:j=>{j?(d.onOpen(),document.dispatchEvent(new CustomEvent(ab))):d.onClose(),o==null||o(j)},caller:jd}),k=S.useMemo(()=>T?C.current?"delayed-open":"instant-open":"closed",[T]),A=S.useCallback(()=>{window.clearTimeout(x.current),x.current=0,C.current=!1,N(!0)},[N]),O=S.useCallback(()=>{window.clearTimeout(x.current),x.current=0,N(!1)},[N]),P=S.useCallback(()=>{window.clearTimeout(x.current),x.current=window.setTimeout(()=>{C.current=!0,N(!0),x.current=0},w)},[w,N]);return S.useEffect(()=>()=>{x.current&&(window.clearTimeout(x.current),x.current=0)},[]),g.jsx(fM,{...h,children:g.jsx(Z$,{scope:e,contentId:v,open:T,stateAttribute:k,trigger:m,onTriggerChange:p,onTriggerEnter:S.useCallback(()=>{d.isOpenDelayedRef.current?P():A()},[d.isOpenDelayedRef,P,A]),onTriggerLeave:S.useCallback(()=>{_?O():(window.clearTimeout(x.current),x.current=0)},[O,_]),onOpen:A,onClose:O,disableHoverableContent:_,children:n})})};xM.displayName=jd;var ob="TooltipTrigger",wM=S.forwardRef((t,e)=>{const{__scopeTooltip:n,...s}=t,i=Qd(ob,n),o=Nw(ob,n),l=gm(n),u=S.useRef(null),d=vt(e,u,i.onTriggerChange),h=S.useRef(!1),m=S.useRef(!1),p=S.useCallback(()=>h.current=!1,[]);return S.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),g.jsx(hM,{asChild:!0,...l,children:g.jsx(rt.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...s,ref:d,onPointerMove:qe(t.onPointerMove,v=>{v.pointerType!=="touch"&&!m.current&&!o.isPointerInTransitRef.current&&(i.onTriggerEnter(),m.current=!0)}),onPointerLeave:qe(t.onPointerLeave,()=>{i.onTriggerLeave(),m.current=!1}),onPointerDown:qe(t.onPointerDown,()=>{i.open&&i.onClose(),h.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:qe(t.onFocus,()=>{h.current||i.onOpen()}),onBlur:qe(t.onBlur,i.onClose),onClick:qe(t.onClick,i.onClose)})})});wM.displayName=ob;var Aw="TooltipPortal",[eH,tH]=mm(Aw,{forceMount:void 0}),_M=t=>{const{__scopeTooltip:e,forceMount:n,children:s,container:i}=t,o=Qd(Aw,e);return g.jsx(eH,{scope:e,forceMount:n,children:g.jsx(ci,{present:n||o.open,children:g.jsx(Zp,{asChild:!0,container:i,children:s})})})};_M.displayName=Aw;var Rc="TooltipContent",SM=S.forwardRef((t,e)=>{const n=tH(Rc,t.__scopeTooltip),{forceMount:s=n.forceMount,side:i="top",...o}=t,l=Qd(Rc,t.__scopeTooltip);return g.jsx(ci,{present:s||l.open,children:l.disableHoverableContent?g.jsx(CM,{side:i,...o,ref:e}):g.jsx(nH,{side:i,...o,ref:e})})}),nH=S.forwardRef((t,e)=>{const n=Qd(Rc,t.__scopeTooltip),s=Nw(Rc,t.__scopeTooltip),i=S.useRef(null),o=vt(e,i),[l,u]=S.useState(null),{trigger:d,onClose:h}=n,m=i.current,{onPointerInTransitChange:p}=s,v=S.useCallback(()=>{u(null),p(!1)},[p]),x=S.useCallback((_,w)=>{const C=_.currentTarget,T={x:_.clientX,y:_.clientY},N=aH(T,C.getBoundingClientRect()),k=oH(T,N),A=lH(w.getBoundingClientRect()),O=uH([...k,...A]);u(O),p(!0)},[p]);return S.useEffect(()=>()=>v(),[v]),S.useEffect(()=>{if(d&&m){const _=C=>x(C,m),w=C=>x(C,d);return d.addEventListener("pointerleave",_),m.addEventListener("pointerleave",w),()=>{d.removeEventListener("pointerleave",_),m.removeEventListener("pointerleave",w)}}},[d,m,x,v]),S.useEffect(()=>{if(l){const _=w=>{const C=w.target,T={x:w.clientX,y:w.clientY},N=(d==null?void 0:d.contains(C))||(m==null?void 0:m.contains(C)),k=!cH(T,l);N?v():k&&(v(),h())};return document.addEventListener("pointermove",_),()=>document.removeEventListener("pointermove",_)}},[d,m,l,h,v]),g.jsx(CM,{...t,ref:o})}),[sH,rH]=mm(jd,{isInside:!1}),iH=_4("TooltipContent"),CM=S.forwardRef((t,e)=>{const{__scopeTooltip:n,children:s,"aria-label":i,onEscapeKeyDown:o,onPointerDownOutside:l,...u}=t,d=Qd(Rc,n),h=gm(n),{onClose:m}=d;return S.useEffect(()=>(document.addEventListener(ab,m),()=>document.removeEventListener(ab,m)),[m]),S.useEffect(()=>{if(d.trigger){const p=v=>{const x=v.target;x!=null&&x.contains(d.trigger)&&m()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[d.trigger,m]),g.jsx(Jp,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:p=>p.preventDefault(),onDismiss:m,children:g.jsxs(pM,{"data-state":d.stateAttribute,...h,...u,ref:e,style:{...u.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[g.jsx(iH,{children:s}),g.jsx(sH,{scope:n,isInside:!0,children:g.jsx(X$,{id:d.contentId,role:"tooltip",children:i||s})})]})})});SM.displayName=Rc;var EM="TooltipArrow",TM=S.forwardRef((t,e)=>{const{__scopeTooltip:n,...s}=t,i=gm(n);return rH(EM,n).isInside?null:g.jsx(mM,{...i,...s,ref:e})});TM.displayName=EM;function aH(t,e){const n=Math.abs(e.top-t.y),s=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),o=Math.abs(e.left-t.x);switch(Math.min(n,s,i,o)){case o:return"left";case i:return"right";case n:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function oH(t,e,n=5){const s=[];switch(e){case"top":s.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":s.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":s.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":s.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return s}function lH(t){const{top:e,right:n,bottom:s,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:s},{x:i,y:s}]}function cH(t,e){const{x:n,y:s}=t;let i=!1;for(let o=0,l=e.length-1;o<e.length;l=o++){const u=e[o],d=e[l],h=u.x,m=u.y,p=d.x,v=d.y;m>s!=v>s&&n<(p-h)*(s-m)/(v-m)+h&&(i=!i)}return i}function uH(t){const e=t.slice();return e.sort((n,s)=>n.x<s.x?-1:n.x>s.x?1:n.y<s.y?-1:n.y>s.y?1:0),dH(e)}function dH(t){if(t.length<=1)return t.slice();const e=[];for(let s=0;s<t.length;s++){const i=t[s];for(;e.length>=2;){const o=e[e.length-1],l=e[e.length-2];if((o.x-l.x)*(i.y-l.y)>=(o.y-l.y)*(i.x-l.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let s=t.length-1;s>=0;s--){const i=t[s];for(;n.length>=2;){const o=n[n.length-1],l=n[n.length-2];if((o.x-l.x)*(i.y-l.y)>=(o.y-l.y)*(i.x-l.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var fH=bM,hH=xM,pH=wM,mH=_M,gH=SM,vH=TM;function kM({delayDuration:t=0,...e}){return g.jsx(fH,{"data-slot":"tooltip-provider",delayDuration:t,...e})}function yH({...t}){return g.jsx(kM,{children:g.jsx(hH,{"data-slot":"tooltip",...t})})}function bH({...t}){return g.jsx(pH,{"data-slot":"tooltip-trigger",...t})}function xH({className:t,sideOffset:e=0,children:n,...s}){return g.jsx(mH,{children:g.jsxs(gH,{"data-slot":"tooltip-content",sideOffset:e,className:Me("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",t),...s,children:[n,g.jsx(vH,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}const Cy=768;function wH(){const[t,e]=S.useState(void 0);return S.useEffect(()=>{const n=window.matchMedia(`(max-width: ${Cy-1}px)`),s=()=>{e(window.innerWidth<Cy)};return n.addEventListener("change",s),e(window.innerWidth<Cy),()=>n.removeEventListener("change",s)},[]),!!t}const _H="sidebar_state",SH=60*60*24*7,CH="12rem",EH="18rem",TH="3rem",kH="b",NM=S.createContext(null);function AM(){const t=S.useContext(NM);if(!t)throw new Error("useSidebar must be used within a SidebarProvider.");return t}function NH({defaultOpen:t=!0,open:e,onOpenChange:n,className:s,style:i,children:o,...l}){const u=wH(),[d,h]=S.useState(!1),[m,p]=S.useState(t),v=e??m,x=S.useCallback(T=>{const N=typeof T=="function"?T(v):T;n?n(N):p(N),document.cookie=`${_H}=${N}; path=/; max-age=${SH}`},[n,v]),_=S.useCallback(()=>u?h(T=>!T):x(T=>!T),[u,x,h]);S.useEffect(()=>{const T=N=>{N.key===kH&&(N.metaKey||N.ctrlKey)&&(N.preventDefault(),_())};return window.addEventListener("keydown",T),()=>window.removeEventListener("keydown",T)},[_]);const w=v?"expanded":"collapsed",C=S.useMemo(()=>({state:w,open:v,setOpen:x,isMobile:u,openMobile:d,setOpenMobile:h,toggleSidebar:_}),[w,v,x,u,d,h,_]);return g.jsx(NM.Provider,{value:C,children:g.jsx(kM,{delayDuration:0,children:g.jsx("div",{"data-slot":"sidebar-wrapper",style:{"--sidebar-width":CH,"--sidebar-width-icon":TH,...i},className:Me("group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full",s),...l,children:o})})})}function AH({side:t="left",variant:e="sidebar",collapsible:n="offcanvas",className:s,children:i,...o}){const{isMobile:l,state:u,openMobile:d,setOpenMobile:h}=AM();return n==="none"?g.jsx("div",{"data-slot":"sidebar",className:Me("bg-sidebar text-sidebar-foreground flex h-full w-(--sidebar-width) flex-col",s),...o,children:i}):l?g.jsx(SV,{open:d,onOpenChange:h,...o,children:g.jsxs(TV,{"data-sidebar":"sidebar","data-slot":"sidebar","data-mobile":"true",className:"bg-sidebar text-sidebar-foreground w-(--sidebar-width) p-0 [&>button]:hidden",style:{"--sidebar-width":EH},side:t,children:[g.jsxs(kV,{className:"sr-only",children:[g.jsx(NV,{children:"Sidebar"}),g.jsx(AV,{children:"Displays the mobile sidebar."})]}),g.jsx("div",{className:"flex h-full w-full flex-col",children:i})]})}):g.jsxs("div",{className:"group peer text-sidebar-foreground hidden md:block","data-state":u,"data-collapsible":u==="collapsed"?n:"","data-variant":e,"data-side":t,"data-slot":"sidebar",children:[g.jsx("div",{"data-slot":"sidebar-gap",className:Me("relative w-(--sidebar-width) bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",e==="floating"||e==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4)))]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon)")}),g.jsx("div",{"data-slot":"sidebar-container",className:Me("fixed inset-y-0 z-10 hidden h-svh w-(--sidebar-width) transition-[left,right,width] duration-200 ease-linear md:flex",t==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",e==="floating"||e==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4))+2px)]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon) group-data-[side=left]:border-r group-data-[side=right]:border-l",s),...o,children:g.jsx("div",{"data-sidebar":"sidebar","data-slot":"sidebar-inner",className:"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm",children:i})})]})}function RH({className:t,...e}){return g.jsx("div",{"data-slot":"sidebar-content","data-sidebar":"content",className:Me("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",t),...e})}function jH({className:t,...e}){return g.jsx("div",{"data-slot":"sidebar-group","data-sidebar":"group",className:Me("relative flex w-full min-w-0 flex-col p-2",t),...e})}function MH({className:t,asChild:e=!1,...n}){const s=e?Qp:"div";return g.jsx(s,{"data-slot":"sidebar-group-label","data-sidebar":"group-label",className:Me("text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",t),...n})}function OH({className:t,...e}){return g.jsx("div",{"data-slot":"sidebar-group-content","data-sidebar":"group-content",className:Me("w-full text-sm",t),...e})}function DH({className:t,...e}){return g.jsx("ul",{"data-slot":"sidebar-menu","data-sidebar":"menu",className:Me("flex w-full min-w-0 flex-col gap-1",t),...e})}function PH({className:t,...e}){return g.jsx("li",{"data-slot":"sidebar-menu-item","data-sidebar":"menu-item",className:Me("group/menu-item relative",t),...e})}const LH=px("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:p-0!"}},defaultVariants:{variant:"default",size:"default"}});function IH({asChild:t=!1,isActive:e=!1,variant:n="default",size:s="default",tooltip:i,className:o,...l}){const u=t?Qp:"button",{isMobile:d,state:h}=AM(),m=g.jsx(u,{"data-slot":"sidebar-menu-button","data-sidebar":"menu-button","data-size":s,"data-active":e,className:Me(LH({variant:n,size:s}),o),...l});return i?(typeof i=="string"&&(i={children:i}),g.jsxs(yH,{children:[g.jsx(bH,{asChild:!0,children:m}),g.jsx(xH,{side:"right",align:"center",hidden:h!=="collapsed"||d,...i})]})):m}const ac=zN(),FH={FTK_AI:{name:"FTK_AI",icon:"/api/sys_files/FTK_AI.png"},FTK_Local:{name:"FTK_Local",icon:"/api/sys_files/FTK_AI.png"},anthropic:{name:"Claude",icon:"https://registry.npmmirror.com/@lobehub/icons-static-png/latest/files/dark/claude-color.png"},openai:{name:"OpenAI",icon:"https://openai.com/favicon.ico"},replicate:{name:"Replicate",icon:"https://images.seeklogo.com/logo-png/61/1/replicate-icon-logo-png_seeklogo-611690.png"},ollama:{name:"Ollama",icon:"https://images.seeklogo.com/logo-png/59/1/ollama-logo-png_seeklogo-593420.png"},huggingface:{name:"Hugging Face",icon:"https://huggingface.co/favicon.ico"},wavespeed:{name:"WaveSpeedAi",icon:"https://www.wavespeed.ai/favicon.ico"},volces:{name:"Volces",icon:"https://portal.volccdn.com/obj/volcfe/misc/favicon.png"},ComfyUI:{name:"ComfyUI",icon:"/api/sys_files/cf.png"}},RZ={generate_image:"Generate Image",prompt_user_multi_choice:"Prompt Multi-Choice",prompt_user_single_choice:"Prompt Single-Choice",write_plan:"Write Plan",finish:"Finish"},jZ="/api/sys_files/FTK_AI.ico",MZ="/api/sys_files/FTK_AI.png",OZ="FTK Canvas Agent",DZ="你是一个专业的助手，你的任务是根据用户的问题和上下文，生成符合要求的回答。";async function zH(){return await(await fetch("/api/config")).json()}async function BH(t){return await(await fetch("/api/config",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).json()}async function RM(){try{const t=await fetch(`${ac}/api/config/develop-mode`);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return(await t.json()).develop_mode||!1}catch(t){return console.error("Failed to get develop mode:",t),!1}}var UH="Label",jM=S.forwardRef((t,e)=>g.jsx(rt.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));jM.displayName=UH;var VH=jM;function ur({className:t,...e}){return g.jsx(VH,{"data-slot":"label",className:Me("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...e})}function $H({value:t,onChange:e,onDataChange:n,options:s,placeholder:i,className:o,id:l}){const[u,d]=S.useState(!1),[h,m]=S.useState(t),p=S.useRef(null);S.useEffect(()=>{m(t)},[t]);const v=w=>{const C=w.target.value;m(C),e(C),d(!0)},x=w=>{m(w.value),e(w.value),w.data&&n&&n(w.data),d(!1)},_=s.filter(w=>w.label.toLowerCase().includes(h.toLowerCase())||w.value.toLowerCase().includes(h.toLowerCase()));return S.useEffect(()=>{const w=C=>{p.current&&!p.current.contains(C.target)&&d(!1)};return document.addEventListener("mousedown",w),()=>{document.removeEventListener("mousedown",w)}},[]),g.jsxs("div",{ref:p,className:Me("relative",o),children:[g.jsxs("div",{className:"relative",children:[g.jsx(ni,{id:l,value:h,onChange:v,onFocus:()=>d(!0),placeholder:i,className:"pr-10"}),g.jsx(Be,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>d(!u),children:g.jsx(Tx,{className:Me("h-4 w-4 transition-transform duration-200",u&&"rotate-180")})})]}),u&&_.length>0&&g.jsx("div",{className:"absolute top-full left-0 right-0 z-50 mt-1 max-h-60 overflow-auto rounded-md border bg-popover shadow-md",children:g.jsx("div",{className:"p-1",children:_.map(w=>g.jsxs("div",{className:Me("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none hover:bg-accent hover:text-accent-foreground",t===w.value&&"bg-accent text-accent-foreground"),onClick:()=>x(w),children:[g.jsx("span",{className:"flex-1",children:w.label}),t===w.value&&g.jsx(Ex,{className:"h-4 w-4"})]},w.value))})})]})}function MM({models:t,onChange:e,label:n="Models"}){const[s,i]=S.useState([]),[o,l]=S.useState(""),[u,d]=S.useState(!1);S.useEffect(()=>{const v=Object.entries(t).map(([x,_])=>({name:x,type:_.type||"text"}));i(v.length>0?v:[])},[t]);const h=S.useCallback(v=>{const x=v.filter(w=>w.name.trim()),_={};x.forEach(w=>{_[w.name]={type:w.type}}),e(_)},[e]),m=()=>{if(o){const v=[...s,{name:o,type:"text"}];i(v),h(v),l(""),d(!1)}},p=v=>{if(s.length>1){const x=s.filter((_,w)=>w!==v);i(x),h(x)}};return g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx(ur,{children:n}),g.jsxs(Ki,{open:u,onOpenChange:d,children:[g.jsx(w6,{asChild:!0,children:g.jsxs(Be,{variant:"secondary",size:"sm",children:[g.jsx(DA,{className:"h-4 w-4 mr-1"}),"Add Model"]})}),g.jsx(Qo,{children:g.jsxs("div",{className:"space-y-5",children:[g.jsx(ur,{children:"Model Name"}),g.jsx(ni,{type:"text",placeholder:"openai/gpt-4o",value:o,onKeyDown:v=>{v.key==="Enter"&&m()},onChange:v=>l(v.target.value)}),g.jsx(Be,{type:"button",onClick:m,className:"w-full",children:"Add Model"})]})})]})]}),g.jsx("div",{className:"space-y-2",children:s.map((v,x)=>g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("p",{className:"w-[50%]",children:v.name}),g.jsxs("div",{className:"flex items-center gap-6",children:[g.jsx("p",{children:v.type}),s.length>1&&g.jsx(Be,{type:"button",variant:"outline",size:"sm",onClick:()=>p(x),className:"h-10 w-10 p-0",children:g.jsx(lp,{className:"h-4 w-4"})})]})]},x))})]})}function HH(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}const qH=t=>{switch(t){case"success":return YH;case"info":return XH;case"warning":return WH;case"error":return QH;default:return null}},KH=Array(12).fill(0),GH=({visible:t,className:e})=>le.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},le.createElement("div",{className:"sonner-spinner"},KH.map((n,s)=>le.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),YH=le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},le.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),WH=le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},le.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),XH=le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},le.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),QH=le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},le.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),JH=le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},le.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),le.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),ZH=()=>{const[t,e]=le.useState(document.hidden);return le.useEffect(()=>{const n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t};let lb=1;class e7{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;const{message:s,...i}=e,o=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:lb++,l=this.toasts.find(d=>d.id===o),u=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(o)&&this.dismissedToasts.delete(o),l?this.toasts=this.toasts.map(d=>d.id===o?(this.publish({...d,...e,id:o,title:s}),{...d,...e,id:o,dismissible:u,title:s}):d):this.addToast({title:s,...i,dismissible:u,id:o}),o},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:e,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(s=>s({id:n.id,dismiss:!0}))}),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let s;n.loading!==void 0&&(s=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const i=Promise.resolve(e instanceof Function?e():e);let o=s!==void 0,l;const u=i.then(async h=>{if(l=["resolve",h],le.isValidElement(h))o=!1,this.create({id:s,type:"default",message:h});else if(n7(h)&&!h.ok){o=!1;const p=typeof n.error=="function"?await n.error(`HTTP error! status: ${h.status}`):n.error,v=typeof n.description=="function"?await n.description(`HTTP error! status: ${h.status}`):n.description,_=typeof p=="object"&&!le.isValidElement(p)?p:{message:p};this.create({id:s,type:"error",description:v,..._})}else if(h instanceof Error){o=!1;const p=typeof n.error=="function"?await n.error(h):n.error,v=typeof n.description=="function"?await n.description(h):n.description,_=typeof p=="object"&&!le.isValidElement(p)?p:{message:p};this.create({id:s,type:"error",description:v,..._})}else if(n.success!==void 0){o=!1;const p=typeof n.success=="function"?await n.success(h):n.success,v=typeof n.description=="function"?await n.description(h):n.description,_=typeof p=="object"&&!le.isValidElement(p)?p:{message:p};this.create({id:s,type:"success",description:v,..._})}}).catch(async h=>{if(l=["reject",h],n.error!==void 0){o=!1;const m=typeof n.error=="function"?await n.error(h):n.error,p=typeof n.description=="function"?await n.description(h):n.description,x=typeof m=="object"&&!le.isValidElement(m)?m:{message:m};this.create({id:s,type:"error",description:p,...x})}}).finally(()=>{o&&(this.dismiss(s),s=void 0),n.finally==null||n.finally.call(n)}),d=()=>new Promise((h,m)=>u.then(()=>l[0]==="reject"?m(l[1]):h(l[1])).catch(m));return typeof s!="string"&&typeof s!="number"?{unwrap:d}:Object.assign(s,{unwrap:d})},this.custom=(e,n)=>{const s=(n==null?void 0:n.id)||lb++;return this.create({jsx:e(s),id:s,...n}),s},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const bs=new e7,t7=(t,e)=>{const n=(e==null?void 0:e.id)||lb++;return bs.addToast({title:t,...e,id:n}),n},n7=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",s7=t7,r7=()=>bs.toasts,i7=()=>bs.getActiveToasts(),as=Object.assign(s7,{success:bs.success,info:bs.info,warning:bs.warning,error:bs.error,custom:bs.custom,message:bs.message,promise:bs.promise,dismiss:bs.dismiss,loading:bs.loading},{getHistory:r7,getToasts:i7});HH("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Th(t){return t.label!==void 0}const a7=3,o7="24px",l7="16px",r2=4e3,c7=356,u7=14,d7=45,f7=200;function Ur(...t){return t.filter(Boolean).join(" ")}function h7(t){const[e,n]=t.split("-"),s=[];return e&&s.push(e),n&&s.push(n),s}const p7=t=>{var e,n,s,i,o,l,u,d,h;const{invert:m,toast:p,unstyled:v,interacting:x,setHeights:_,visibleToasts:w,heights:C,index:T,toasts:N,expanded:k,removeToast:A,defaultRichColors:O,closeButton:P,style:j,cancelButtonStyle:D,actionButtonStyle:z,className:I="",descriptionClassName:H="",duration:V,position:X,gap:J,expandByDefault:ie,classNames:R,icons:B,closeButtonAriaLabel:F="Close toast"}=t,[se,W]=le.useState(null),[L,$]=le.useState(null),[Y,ee]=le.useState(!1),[de,ce]=le.useState(!1),[ae,me]=le.useState(!1),[ge,pe]=le.useState(!1),[Ce,Ee]=le.useState(!1),[Ke,st]=le.useState(0),[Ve,Ut]=le.useState(0),ft=le.useRef(p.duration||V||r2),rn=le.useRef(null),yt=le.useRef(null),an=T===0,zn=T+1<=w,Fe=p.type,it=p.dismissible!==!1,pt=p.className||"",Or=p.descriptionClassName||"",Bn=le.useMemo(()=>C.findIndex(te=>te.toastId===p.id)||0,[C,p.id]),Xn=le.useMemo(()=>{var te;return(te=p.closeButton)!=null?te:P},[p.closeButton,P]),Un=le.useMemo(()=>p.duration||V||r2,[p.duration,V]),gr=le.useRef(0),ls=le.useRef(0),fi=le.useRef(0),ks=le.useRef(null),[Qt,on]=X.split("-"),wn=le.useMemo(()=>C.reduce((te,ye,je)=>je>=Bn?te:te+ye.height,0),[C,Bn]),Ft=ZH(),hi=p.invert||m,Dr=Fe==="loading";ls.current=le.useMemo(()=>Bn*J+wn,[Bn,wn]),le.useEffect(()=>{ft.current=Un},[Un]),le.useEffect(()=>{ee(!0)},[]),le.useEffect(()=>{const te=yt.current;if(te){const ye=te.getBoundingClientRect().height;return Ut(ye),_(je=>[{toastId:p.id,height:ye,position:p.position},...je]),()=>_(je=>je.filter(At=>At.toastId!==p.id))}},[_,p.id]),le.useLayoutEffect(()=>{if(!Y)return;const te=yt.current,ye=te.style.height;te.style.height="auto";const je=te.getBoundingClientRect().height;te.style.height=ye,Ut(je),_(At=>At.find(Xe=>Xe.toastId===p.id)?At.map(Xe=>Xe.toastId===p.id?{...Xe,height:je}:Xe):[{toastId:p.id,height:je,position:p.position},...At])},[Y,p.title,p.description,_,p.id,p.jsx,p.action,p.cancel]);const Jt=le.useCallback(()=>{ce(!0),st(ls.current),_(te=>te.filter(ye=>ye.toastId!==p.id)),setTimeout(()=>{A(p)},f7)},[p,A,_,ls]);le.useEffect(()=>{if(p.promise&&Fe==="loading"||p.duration===1/0||p.type==="loading")return;let te;return k||x||Ft?(()=>{if(fi.current<gr.current){const At=new Date().getTime()-gr.current;ft.current=ft.current-At}fi.current=new Date().getTime()})():(()=>{ft.current!==1/0&&(gr.current=new Date().getTime(),te=setTimeout(()=>{p.onAutoClose==null||p.onAutoClose.call(p,p),Jt()},ft.current))})(),()=>clearTimeout(te)},[k,x,p,Fe,Ft,Jt]),le.useEffect(()=>{p.delete&&(Jt(),p.onDismiss==null||p.onDismiss.call(p,p))},[Jt,p.delete]);function Pe(){var te;if(B!=null&&B.loading){var ye;return le.createElement("div",{className:Ur(R==null?void 0:R.loader,p==null||(ye=p.classNames)==null?void 0:ye.loader,"sonner-loader"),"data-visible":Fe==="loading"},B.loading)}return le.createElement(GH,{className:Ur(R==null?void 0:R.loader,p==null||(te=p.classNames)==null?void 0:te.loader),visible:Fe==="loading"})}const at=p.icon||(B==null?void 0:B[Fe])||qH(Fe);var Et,ct;return le.createElement("li",{tabIndex:0,ref:yt,className:Ur(I,pt,R==null?void 0:R.toast,p==null||(e=p.classNames)==null?void 0:e.toast,R==null?void 0:R.default,R==null?void 0:R[Fe],p==null||(n=p.classNames)==null?void 0:n[Fe]),"data-sonner-toast":"","data-rich-colors":(Et=p.richColors)!=null?Et:O,"data-styled":!(p.jsx||p.unstyled||v),"data-mounted":Y,"data-promise":!!p.promise,"data-swiped":Ce,"data-removed":de,"data-visible":zn,"data-y-position":Qt,"data-x-position":on,"data-index":T,"data-front":an,"data-swiping":ae,"data-dismissible":it,"data-type":Fe,"data-invert":hi,"data-swipe-out":ge,"data-swipe-direction":L,"data-expanded":!!(k||ie&&Y),style:{"--index":T,"--toasts-before":T,"--z-index":N.length-T,"--offset":`${de?Ke:ls.current}px`,"--initial-height":ie?"auto":`${Ve}px`,...j,...p.style},onDragEnd:()=>{me(!1),W(null),ks.current=null},onPointerDown:te=>{te.button!==2&&(Dr||!it||(rn.current=new Date,st(ls.current),te.target.setPointerCapture(te.pointerId),te.target.tagName!=="BUTTON"&&(me(!0),ks.current={x:te.clientX,y:te.clientY})))},onPointerUp:()=>{var te,ye,je;if(ge||!it)return;ks.current=null;const At=Number(((te=yt.current)==null?void 0:te.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),_n=Number(((ye=yt.current)==null?void 0:ye.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Xe=new Date().getTime()-((je=rn.current)==null?void 0:je.getTime()),bt=se==="x"?At:_n,Zt=Math.abs(bt)/Xe;if(Math.abs(bt)>=d7||Zt>.11){st(ls.current),p.onDismiss==null||p.onDismiss.call(p,p),$(se==="x"?At>0?"right":"left":_n>0?"down":"up"),Jt(),pe(!0);return}else{var Rt,Vt;(Rt=yt.current)==null||Rt.style.setProperty("--swipe-amount-x","0px"),(Vt=yt.current)==null||Vt.style.setProperty("--swipe-amount-y","0px")}Ee(!1),me(!1),W(null)},onPointerMove:te=>{var ye,je,At;if(!ks.current||!it||((ye=window.getSelection())==null?void 0:ye.toString().length)>0)return;const Xe=te.clientY-ks.current.y,bt=te.clientX-ks.current.x;var Zt;const Rt=(Zt=t.swipeDirections)!=null?Zt:h7(X);!se&&(Math.abs(bt)>1||Math.abs(Xe)>1)&&W(Math.abs(bt)>Math.abs(Xe)?"x":"y");let Vt={x:0,y:0};const Qn=pn=>1/(1.5+Math.abs(pn)/20);if(se==="y"){if(Rt.includes("top")||Rt.includes("bottom"))if(Rt.includes("top")&&Xe<0||Rt.includes("bottom")&&Xe>0)Vt.y=Xe;else{const pn=Xe*Qn(Xe);Vt.y=Math.abs(pn)<Math.abs(Xe)?pn:Xe}}else if(se==="x"&&(Rt.includes("left")||Rt.includes("right")))if(Rt.includes("left")&&bt<0||Rt.includes("right")&&bt>0)Vt.x=bt;else{const pn=bt*Qn(bt);Vt.x=Math.abs(pn)<Math.abs(bt)?pn:bt}(Math.abs(Vt.x)>0||Math.abs(Vt.y)>0)&&Ee(!0),(je=yt.current)==null||je.style.setProperty("--swipe-amount-x",`${Vt.x}px`),(At=yt.current)==null||At.style.setProperty("--swipe-amount-y",`${Vt.y}px`)}},Xn&&!p.jsx&&Fe!=="loading"?le.createElement("button",{"aria-label":F,"data-disabled":Dr,"data-close-button":!0,onClick:Dr||!it?()=>{}:()=>{Jt(),p.onDismiss==null||p.onDismiss.call(p,p)},className:Ur(R==null?void 0:R.closeButton,p==null||(s=p.classNames)==null?void 0:s.closeButton)},(ct=B==null?void 0:B.close)!=null?ct:JH):null,(Fe||p.icon||p.promise)&&p.icon!==null&&((B==null?void 0:B[Fe])!==null||p.icon)?le.createElement("div",{"data-icon":"",className:Ur(R==null?void 0:R.icon,p==null||(i=p.classNames)==null?void 0:i.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||Pe():null,p.type!=="loading"?at:null):null,le.createElement("div",{"data-content":"",className:Ur(R==null?void 0:R.content,p==null||(o=p.classNames)==null?void 0:o.content)},le.createElement("div",{"data-title":"",className:Ur(R==null?void 0:R.title,p==null||(l=p.classNames)==null?void 0:l.title)},p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title),p.description?le.createElement("div",{"data-description":"",className:Ur(H,Or,R==null?void 0:R.description,p==null||(u=p.classNames)==null?void 0:u.description)},typeof p.description=="function"?p.description():p.description):null),le.isValidElement(p.cancel)?p.cancel:p.cancel&&Th(p.cancel)?le.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||D,onClick:te=>{Th(p.cancel)&&it&&(p.cancel.onClick==null||p.cancel.onClick.call(p.cancel,te),Jt())},className:Ur(R==null?void 0:R.cancelButton,p==null||(d=p.classNames)==null?void 0:d.cancelButton)},p.cancel.label):null,le.isValidElement(p.action)?p.action:p.action&&Th(p.action)?le.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||z,onClick:te=>{Th(p.action)&&(p.action.onClick==null||p.action.onClick.call(p.action,te),!te.defaultPrevented&&Jt())},className:Ur(R==null?void 0:R.actionButton,p==null||(h=p.classNames)==null?void 0:h.actionButton)},p.action.label):null)};function i2(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function m7(t,e){const n={};return[t,e].forEach((s,i)=>{const o=i===1,l=o?"--mobile-offset":"--offset",u=o?l7:o7;function d(h){["top","right","bottom","left"].forEach(m=>{n[`${l}-${m}`]=typeof h=="number"?`${h}px`:h})}typeof s=="number"||typeof s=="string"?d(s):typeof s=="object"?["top","right","bottom","left"].forEach(h=>{s[h]===void 0?n[`${l}-${h}`]=u:n[`${l}-${h}`]=typeof s[h]=="number"?`${s[h]}px`:s[h]}):d(u)}),n}const g7=le.forwardRef(function(e,n){const{invert:s,position:i="bottom-right",hotkey:o=["altKey","KeyT"],expand:l,closeButton:u,className:d,offset:h,mobileOffset:m,theme:p="light",richColors:v,duration:x,style:_,visibleToasts:w=a7,toastOptions:C,dir:T=i2(),gap:N=u7,icons:k,containerAriaLabel:A="Notifications"}=e,[O,P]=le.useState([]),j=le.useMemo(()=>Array.from(new Set([i].concat(O.filter(L=>L.position).map(L=>L.position)))),[O,i]),[D,z]=le.useState([]),[I,H]=le.useState(!1),[V,X]=le.useState(!1),[J,ie]=le.useState(p!=="system"?p:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),R=le.useRef(null),B=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),F=le.useRef(null),se=le.useRef(!1),W=le.useCallback(L=>{P($=>{var Y;return(Y=$.find(ee=>ee.id===L.id))!=null&&Y.delete||bs.dismiss(L.id),$.filter(({id:ee})=>ee!==L.id)})},[]);return le.useEffect(()=>bs.subscribe(L=>{if(L.dismiss){requestAnimationFrame(()=>{P($=>$.map(Y=>Y.id===L.id?{...Y,delete:!0}:Y))});return}setTimeout(()=>{tA.flushSync(()=>{P($=>{const Y=$.findIndex(ee=>ee.id===L.id);return Y!==-1?[...$.slice(0,Y),{...$[Y],...L},...$.slice(Y+1)]:[L,...$]})})})}),[O]),le.useEffect(()=>{if(p!=="system"){ie(p);return}if(p==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ie("dark"):ie("light")),typeof window>"u")return;const L=window.matchMedia("(prefers-color-scheme: dark)");try{L.addEventListener("change",({matches:$})=>{ie($?"dark":"light")})}catch{L.addListener(({matches:Y})=>{try{ie(Y?"dark":"light")}catch(ee){console.error(ee)}})}},[p]),le.useEffect(()=>{O.length<=1&&H(!1)},[O]),le.useEffect(()=>{const L=$=>{var Y;if(o.every(ce=>$[ce]||$.code===ce)){var de;H(!0),(de=R.current)==null||de.focus()}$.code==="Escape"&&(document.activeElement===R.current||(Y=R.current)!=null&&Y.contains(document.activeElement))&&H(!1)};return document.addEventListener("keydown",L),()=>document.removeEventListener("keydown",L)},[o]),le.useEffect(()=>{if(R.current)return()=>{F.current&&(F.current.focus({preventScroll:!0}),F.current=null,se.current=!1)}},[R.current]),le.createElement("section",{ref:n,"aria-label":`${A} ${B}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},j.map((L,$)=>{var Y;const[ee,de]=L.split("-");return O.length?le.createElement("ol",{key:L,dir:T==="auto"?i2():T,tabIndex:-1,ref:R,className:d,"data-sonner-toaster":!0,"data-sonner-theme":J,"data-y-position":ee,"data-x-position":de,style:{"--front-toast-height":`${((Y=D[0])==null?void 0:Y.height)||0}px`,"--width":`${c7}px`,"--gap":`${N}px`,..._,...m7(h,m)},onBlur:ce=>{se.current&&!ce.currentTarget.contains(ce.relatedTarget)&&(se.current=!1,F.current&&(F.current.focus({preventScroll:!0}),F.current=null))},onFocus:ce=>{ce.target instanceof HTMLElement&&ce.target.dataset.dismissible==="false"||se.current||(se.current=!0,F.current=ce.relatedTarget)},onMouseEnter:()=>H(!0),onMouseMove:()=>H(!0),onMouseLeave:()=>{V||H(!1)},onDragEnd:()=>H(!1),onPointerDown:ce=>{ce.target instanceof HTMLElement&&ce.target.dataset.dismissible==="false"||X(!0)},onPointerUp:()=>X(!1)},O.filter(ce=>!ce.position&&$===0||ce.position===L).map((ce,ae)=>{var me,ge;return le.createElement(p7,{key:ce.id,icons:k,index:ae,toast:ce,defaultRichColors:v,duration:(me=C==null?void 0:C.duration)!=null?me:x,className:C==null?void 0:C.className,descriptionClassName:C==null?void 0:C.descriptionClassName,invert:s,visibleToasts:w,closeButton:(ge=C==null?void 0:C.closeButton)!=null?ge:u,interacting:V,position:L,style:C==null?void 0:C.style,unstyled:C==null?void 0:C.unstyled,classNames:C==null?void 0:C.classNames,cancelButtonStyle:C==null?void 0:C.cancelButtonStyle,actionButtonStyle:C==null?void 0:C.actionButtonStyle,closeButtonAriaLabel:C==null?void 0:C.closeButtonAriaLabel,removeToast:W,toasts:O.filter(pe=>pe.position==ce.position),heights:D.filter(pe=>pe.position==ce.position),setHeights:z,expandByDefault:l,gap:N,expanded:I,swipeDirections:e.swipeDirections})})):null}))}),Ey=[{value:"ollama",label:"Ollama",data:{apiUrl:"http://localhost:11434",models:{"qwen3.0:0.6b":{type:"text"},"qwen3.0:8b":{type:"text"},"llama3.2:3b":{type:"text"},"gpt-oss:20b":{type:"text"}}}},{value:"OpenAI",label:"OpenAI",data:{apiUrl:"https://api.openai.com/v1/",models:{"gpt-4o":{type:"text"},"gpt-4o-mini":{type:"text"}}}},{value:"anthropic",label:"Claude",data:{apiUrl:"https://api.anthropic.com/v1/",models:{"claude-3-7-sonnet-latest":{type:"text"}}}},{value:"OpenRouter",label:"OpenRouter",data:{apiUrl:"https://openrouter.ai/api/v1/",models:{"openai/gpt-4o":{type:"text"},"deepseek/deepseek-chat-v3-0324":{type:"text"},"deepseek/deepseek-chat-v3-0324:free":{type:"text"}}}},{value:"wavespeed",label:"Wavespeed",mediaOnly:!0,data:{apiUrl:"https://api.wavespeed.ai/api/v3/",models:{},api_key:""}},{value:"replicate",label:"Replicate",mediaOnly:!0,data:{apiUrl:"https://api.replicate.com/v1/",models:{},api_key:"",max_tokens:8192}},{value:"深度求索",label:"深度求索 (DeepSeek)",data:{apiUrl:"https://api.deepseek.com/v1/",models:{"deepseek-chat":{type:"text"}}}},{value:"volces",label:"火山引擎 (Volces)",data:{apiUrl:"https://ark.cn-beijing.volces.com/api/v3/",models:{"doubao-seed-1-6-250615":{type:"text"},"doubao-seed-1-6-thinking-250615":{type:"text"},"doubao-seed-1-6-flash-250615":{type:"text"},"doubao-seedream-3-0-t2i-250415":{type:"image"},"doubao-seedance-1-0-pro-250528":{type:"video"},"doubao-seedance-1-0-lite-i2v-250428":{type:"video"},"doubao-seedance-1-0-lite-t2v-250428":{type:"video"}}}},{value:"GoogleVertex",label:"GoogleVertex",data:{apiUrl:"",models:{"gemini-2.5-flash":{type:"text"},"gemini-2.5-pro":{type:"text"},"gemini-2.5-flash-lite-preview-06-17":{type:"text"},"gemini-2.0-flash":{type:"text"},"gemini-2.0-flash-lite":{type:"text"}}}},{value:"硅基流动",label:"硅基流动 (SiliconFlow)",data:{apiUrl:"https://api.siliconflow.cn/v1/"}},{value:"智谱 AI",label:"智谱 AI (GLM)",data:{apiUrl:"https://open.bigmodel.cn/api/paas/v4/"}},{value:"月之暗面",label:"月之暗面 (Kimi)",data:{apiUrl:"https://api.moonshot.cn/v1/"}}];function v7({open:t,onOpenChange:e,onSave:n}){var C;const{t:s}=Us(),[i,o]=S.useState(""),[l,u]=S.useState(""),[d,h]=S.useState(""),[m,p]=S.useState({}),v=((C=Ey.find(T=>T.value===i))==null?void 0:C.mediaOnly)??!1,x=T=>{T&&typeof T=="object"&&"apiUrl"in T&&(u(T.apiUrl),p(T.models??{}))},_=()=>{var k;if(!i.trim()||!l.trim())return;if(!((k=Ey.find(A=>A.value===i))!=null&&k.mediaOnly)&&Object.keys(m).length===0){as.error(s("settings:provider.noModelsSelected"));return}const T={models:m,url:l,api_key:d,max_tokens:8192,is_custom:!0},N=i.toLowerCase().replace(/\s+/g,"_");n(N,T),o(""),u(""),h(""),p({}),e(!1)},w=()=>{o(""),u(""),h(""),p({}),e(!1)};return g.jsx(Ki,{open:t,onOpenChange:e,children:g.jsxs(mw,{open:t,children:[g.jsx($c,{children:g.jsxs(Hc,{children:[s("settings:provider.addProvider"),v&&g.jsx("span",{className:"ml-3",children:"🎨 🎥"})]})}),g.jsxs("div",{className:"space-y-4 py-4",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx(ur,{htmlFor:"provider-name",children:s("settings:provider.providerName")}),g.jsx($H,{id:"provider-name",value:i,onChange:o,onDataChange:x,options:Ey,placeholder:s("settings:provider.providerNamePlaceholder")})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(ur,{htmlFor:"api-url",children:s("settings:provider.apiUrl")}),g.jsx(ni,{id:"api-url",placeholder:s("settings:provider.apiUrlPlaceholder"),value:l,onChange:T=>u(T.target.value)})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(ur,{htmlFor:"api-key",children:s("settings:provider.apiKey")}),g.jsx(ni,{id:"api-key",type:"password",placeholder:s("settings:provider.apiKeyPlaceholder"),value:d,onChange:T=>h(T.target.value)})]}),!v&&g.jsx(MM,{models:m,onChange:p,label:s("settings:models.title")})]}),g.jsxs(Hd,{children:[g.jsx(Be,{variant:"outline",onClick:w,children:s("settings:provider.cancel")}),g.jsx(Be,{onClick:_,disabled:!i.trim()||!l.trim(),children:s("settings:provider.save")})]})]})})}function y7({providerKey:t,config:e,onConfigChange:n,onDeleteProvider:s}){const{t:i}=Us();if(t==="FTK_AI")return null;const o=FH[t]||{name:t.charAt(0).toUpperCase()+t.slice(1).replace(/_/g," "),icon:"https://openai.com/favicon.ico"},l=e.is_custom,u=(v,x)=>{n(t,{...e,[v]:x})},d=v=>{n(t,{...e,models:v})},h=()=>{s&&l&&s(t)},m=t==="replicate"||t==="huggingface",p=!m;return g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("img",{src:o.icon,alt:o.name,className:"w-10 h-10 rounded-full"}),g.jsx("p",{className:"font-bold text-2xl w-fit",children:o.name}),l&&g.jsx("span",{children:"✨ Custom Provider"}),m&&g.jsx("span",{children:"🎨 Image Generation"}),l&&s&&g.jsx("div",{className:"ml-auto",children:g.jsxs(Be,{variant:"outline",size:"sm",onClick:h,className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:[g.jsx(lp,{className:"h-4 w-4 mr-1"}),i("settings:provider.delete")]})})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(ur,{htmlFor:`${t}-url`,children:i("settings:provider.apiUrl")}),g.jsx(ni,{id:`${t}-url`,placeholder:i("settings:provider.apiUrlPlaceholder"),value:e.url??"",onChange:v=>u("url",v.target.value),className:"w-full"})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(ur,{htmlFor:`${t}-apiKey`,children:i("settings:provider.apiKey")}),g.jsx(ni,{id:`${t}-apiKey`,type:"password",placeholder:i("settings:provider.apiKeyPlaceholder"),value:e.api_key??"",onChange:v=>u("api_key",v.target.value),className:"w-full"}),g.jsx("p",{className:"text-xs text-gray-500",children:i("settings:provider.apiKeyDescription")})]}),t!=="ollama"&&g.jsx("div",{className:"space-y-2",children:g.jsx(MM,{models:e.models||{},onChange:d,label:i("settings:models.title")})}),p&&g.jsxs("div",{className:"space-y-2",children:[g.jsx(ur,{htmlFor:`${t}-maxTokens`,children:i("settings:provider.maxTokens")}),g.jsx(ni,{id:`${t}-maxTokens`,type:"number",placeholder:i("settings:provider.maxTokensPlaceholder"),value:e.max_tokens??8192,onChange:v=>u("max_tokens",parseInt(v.target.value)),className:"w-full"}),g.jsx("p",{className:"text-xs text-gray-500",children:i("settings:provider.maxTokensDescription")})]})]})}const b7=()=>{const{t}=Us(),{providers:e,setProviders:n}=_0(),s=JA(),[i,o]=S.useState(!0),[l,u]=S.useState(""),[d,h]=S.useState(!1);S.useEffect(()=>{(async()=>{try{const w=await zH();n(w)}catch(w){console.error("Error loading configuration:",w),u(t("settings:messages.failedToLoad"))}finally{o(!1)}})()},[]);const m=(_,w)=>{n({...e,[_]:w})},p=(_,w)=>{n({...e,[_]:w})},v=_=>{delete e[_],n({...e})},x=async()=>{try{u("");const _=await BH(e);if(_.status==="success")as.success(_.message),s();else throw new Error(_.message||"Failed to save configuration")}catch(_){console.error("Error saving settings:",_),u(t("settings:messages.failedToSave"))}};return g.jsxs("div",{className:"flex flex-col items-center justify-center p-4 w-full sm:pb-0 pb-10 relative",children:[i&&g.jsx("div",{className:"flex justify-center items-center h-32",children:g.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-zinc-500"})}),!i&&Object.keys(e).map((_,w)=>g.jsxs("div",{className:"w-full",children:[g.jsx(y7,{providerKey:_,config:e[_],onConfigChange:m,onDeleteProvider:v}),w!==Object.keys(e).length-1&&g.jsx("div",{className:"my-6 border-t bg-border"})]},_)),g.jsxs("div",{className:"flex fixed bottom-0 left-[calc(var(--sidebar-width))] gap-1 right-0 px-1",children:[g.jsxs(Be,{onClick:x,className:"w-1/2",size:"lg",children:[g.jsx(kx,{className:"mr-2 h-6 w-6"})," ",t("settings:saveSettings")]}),g.jsxs(Be,{variant:"outline",onClick:()=>h(!0),className:"w-1/2",size:"lg",children:[g.jsx(DA,{className:"h-6 w-6"}),t("settings:provider.addProvider")]})]}),l&&g.jsx("div",{className:"text-red-500 text-center mb-4",children:l}),g.jsx(v7,{open:d,onOpenChange:h,onSave:p})]})};function x7(t){const e=t+"CollectionProvider",[n,s]=Vc(e),[i,o]=n(e,{collectionRef:{current:null},itemMap:new Map}),l=w=>{const{scope:C,children:T}=w,N=le.useRef(null),k=le.useRef(new Map).current;return g.jsx(i,{scope:C,itemMap:k,collectionRef:N,children:T})};l.displayName=e;const u=t+"CollectionSlot",d=Cc(u),h=le.forwardRef((w,C)=>{const{scope:T,children:N}=w,k=o(u,T),A=vt(C,k.collectionRef);return g.jsx(d,{ref:A,children:N})});h.displayName=u;const m=t+"CollectionItemSlot",p="data-radix-collection-item",v=Cc(m),x=le.forwardRef((w,C)=>{const{scope:T,children:N,...k}=w,A=le.useRef(null),O=vt(C,A),P=o(m,T);return le.useEffect(()=>(P.itemMap.set(A,{ref:A,...k}),()=>void P.itemMap.delete(A))),g.jsx(v,{[p]:"",ref:O,children:N})});x.displayName=m;function _(w){const C=o(t+"CollectionConsumer",w);return le.useCallback(()=>{const N=C.collectionRef.current;if(!N)return[];const k=Array.from(N.querySelectorAll(`[${p}]`));return Array.from(C.itemMap.values()).sort((P,j)=>k.indexOf(P.ref.current)-k.indexOf(j.ref.current))},[C.collectionRef,C.itemMap])}return[{Provider:l,Slot:h,ItemSlot:x},_,s]}function w7(t){const e=S.useRef({value:t,previous:t});return S.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var _7=[" ","Enter","ArrowUp","ArrowDown"],S7=[" ","Enter"],qo="Select",[vm,ym,C7]=x7(qo),[Xc,PZ]=Vc(qo,[C7,pm]),bm=pm(),[E7,Ka]=Xc(qo),[T7,k7]=Xc(qo),OM=t=>{const{__scopeSelect:e,children:n,open:s,defaultOpen:i,onOpenChange:o,value:l,defaultValue:u,onValueChange:d,dir:h,name:m,autoComplete:p,disabled:v,required:x,form:_}=t,w=bm(e),[C,T]=S.useState(null),[N,k]=S.useState(null),[A,O]=S.useState(!1),P=Rj(h),[j,D]=ap({prop:s,defaultProp:i??!1,onChange:o,caller:qo}),[z,I]=ap({prop:l,defaultProp:u,onChange:d,caller:qo}),H=S.useRef(null),V=C?_||!!C.closest("form"):!0,[X,J]=S.useState(new Set),ie=Array.from(X).map(R=>R.props.value).join(";");return g.jsx(fM,{...w,children:g.jsxs(E7,{required:x,scope:e,trigger:C,onTriggerChange:T,valueNode:N,onValueNodeChange:k,valueNodeHasChildren:A,onValueNodeHasChildrenChange:O,contentId:Po(),value:z,onValueChange:I,open:j,onOpenChange:D,dir:P,triggerPointerDownPosRef:H,disabled:v,children:[g.jsx(vm.Provider,{scope:e,children:g.jsx(T7,{scope:t.__scopeSelect,onNativeOptionAdd:S.useCallback(R=>{J(B=>new Set(B).add(R))},[]),onNativeOptionRemove:S.useCallback(R=>{J(B=>{const F=new Set(B);return F.delete(R),F})},[]),children:n})}),V?g.jsxs(tO,{"aria-hidden":!0,required:x,tabIndex:-1,name:m,autoComplete:p,value:z,onChange:R=>I(R.target.value),disabled:v,form:_,children:[z===void 0?g.jsx("option",{value:""}):null,Array.from(X)]},ie):null]})})};OM.displayName=qo;var DM="SelectTrigger",PM=S.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:s=!1,...i}=t,o=bm(n),l=Ka(DM,n),u=l.disabled||s,d=vt(e,l.onTriggerChange),h=ym(n),m=S.useRef("touch"),[p,v,x]=sO(w=>{const C=h().filter(k=>!k.disabled),T=C.find(k=>k.value===l.value),N=rO(C,w,T);N!==void 0&&l.onValueChange(N.value)}),_=w=>{u||(l.onOpenChange(!0),x()),w&&(l.triggerPointerDownPosRef.current={x:Math.round(w.pageX),y:Math.round(w.pageY)})};return g.jsx(hM,{asChild:!0,...o,children:g.jsx(rt.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":nO(l.value)?"":void 0,...i,ref:d,onClick:qe(i.onClick,w=>{w.currentTarget.focus(),m.current!=="mouse"&&_(w)}),onPointerDown:qe(i.onPointerDown,w=>{m.current=w.pointerType;const C=w.target;C.hasPointerCapture(w.pointerId)&&C.releasePointerCapture(w.pointerId),w.button===0&&w.ctrlKey===!1&&w.pointerType==="mouse"&&(_(w),w.preventDefault())}),onKeyDown:qe(i.onKeyDown,w=>{const C=p.current!=="";!(w.ctrlKey||w.altKey||w.metaKey)&&w.key.length===1&&v(w.key),!(C&&w.key===" ")&&_7.includes(w.key)&&(_(),w.preventDefault())})})})});PM.displayName=DM;var LM="SelectValue",IM=S.forwardRef((t,e)=>{const{__scopeSelect:n,className:s,style:i,children:o,placeholder:l="",...u}=t,d=Ka(LM,n),{onValueNodeHasChildrenChange:h}=d,m=o!==void 0,p=vt(e,d.onValueNodeChange);return Fn(()=>{h(m)},[h,m]),g.jsx(rt.span,{...u,ref:p,style:{pointerEvents:"none"},children:nO(d.value)?g.jsx(g.Fragment,{children:l}):o})});IM.displayName=LM;var N7="SelectIcon",FM=S.forwardRef((t,e)=>{const{__scopeSelect:n,children:s,...i}=t;return g.jsx(rt.span,{"aria-hidden":!0,...i,ref:e,children:s||"▼"})});FM.displayName=N7;var A7="SelectPortal",zM=t=>g.jsx(Zp,{asChild:!0,...t});zM.displayName=A7;var Ko="SelectContent",BM=S.forwardRef((t,e)=>{const n=Ka(Ko,t.__scopeSelect),[s,i]=S.useState();if(Fn(()=>{i(new DocumentFragment)},[]),!n.open){const o=s;return o?Xo.createPortal(g.jsx(UM,{scope:t.__scopeSelect,children:g.jsx(vm.Slot,{scope:t.__scopeSelect,children:g.jsx("div",{children:t.children})})}),o):null}return g.jsx(VM,{...t,ref:e})});BM.displayName=Ko;var Cr=10,[UM,Ga]=Xc(Ko),R7="SelectContentImpl",j7=Cc("SelectContent.RemoveScroll"),VM=S.forwardRef((t,e)=>{const{__scopeSelect:n,position:s="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:o,onPointerDownOutside:l,side:u,sideOffset:d,align:h,alignOffset:m,arrowPadding:p,collisionBoundary:v,collisionPadding:x,sticky:_,hideWhenDetached:w,avoidCollisions:C,...T}=t,N=Ka(Ko,n),[k,A]=S.useState(null),[O,P]=S.useState(null),j=vt(e,ae=>A(ae)),[D,z]=S.useState(null),[I,H]=S.useState(null),V=ym(n),[X,J]=S.useState(!1),ie=S.useRef(!1);S.useEffect(()=>{if(k)return pA(k)},[k]),iA();const R=S.useCallback(ae=>{const[me,...ge]=V().map(Ee=>Ee.ref.current),[pe]=ge.slice(-1),Ce=document.activeElement;for(const Ee of ae)if(Ee===Ce||(Ee==null||Ee.scrollIntoView({block:"nearest"}),Ee===me&&O&&(O.scrollTop=0),Ee===pe&&O&&(O.scrollTop=O.scrollHeight),Ee==null||Ee.focus(),document.activeElement!==Ce))return},[V,O]),B=S.useCallback(()=>R([D,k]),[R,D,k]);S.useEffect(()=>{X&&B()},[X,B]);const{onOpenChange:F,triggerPointerDownPosRef:se}=N;S.useEffect(()=>{if(k){let ae={x:0,y:0};const me=pe=>{var Ce,Ee;ae={x:Math.abs(Math.round(pe.pageX)-(((Ce=se.current)==null?void 0:Ce.x)??0)),y:Math.abs(Math.round(pe.pageY)-(((Ee=se.current)==null?void 0:Ee.y)??0))}},ge=pe=>{ae.x<=10&&ae.y<=10?pe.preventDefault():k.contains(pe.target)||F(!1),document.removeEventListener("pointermove",me),se.current=null};return se.current!==null&&(document.addEventListener("pointermove",me),document.addEventListener("pointerup",ge,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",me),document.removeEventListener("pointerup",ge,{capture:!0})}}},[k,F,se]),S.useEffect(()=>{const ae=()=>F(!1);return window.addEventListener("blur",ae),window.addEventListener("resize",ae),()=>{window.removeEventListener("blur",ae),window.removeEventListener("resize",ae)}},[F]);const[W,L]=sO(ae=>{const me=V().filter(Ce=>!Ce.disabled),ge=me.find(Ce=>Ce.ref.current===document.activeElement),pe=rO(me,ae,ge);pe&&setTimeout(()=>pe.ref.current.focus())}),$=S.useCallback((ae,me,ge)=>{const pe=!ie.current&&!ge;(N.value!==void 0&&N.value===me||pe)&&(z(ae),pe&&(ie.current=!0))},[N.value]),Y=S.useCallback(()=>k==null?void 0:k.focus(),[k]),ee=S.useCallback((ae,me,ge)=>{const pe=!ie.current&&!ge;(N.value!==void 0&&N.value===me||pe)&&H(ae)},[N.value]),de=s==="popper"?cb:$M,ce=de===cb?{side:u,sideOffset:d,align:h,alignOffset:m,arrowPadding:p,collisionBoundary:v,collisionPadding:x,sticky:_,hideWhenDetached:w,avoidCollisions:C}:{};return g.jsx(UM,{scope:n,content:k,viewport:O,onViewportChange:P,itemRefCallback:$,selectedItem:D,onItemLeave:Y,itemTextRefCallback:ee,focusSelectedItem:B,selectedItemText:I,position:s,isPositioned:X,searchRef:W,children:g.jsx(vx,{as:j7,allowPinchZoom:!0,children:g.jsx(gx,{asChild:!0,trapped:N.open,onMountAutoFocus:ae=>{ae.preventDefault()},onUnmountAutoFocus:qe(i,ae=>{var me;(me=N.trigger)==null||me.focus({preventScroll:!0}),ae.preventDefault()}),children:g.jsx(Jp,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:ae=>ae.preventDefault(),onDismiss:()=>N.onOpenChange(!1),children:g.jsx(de,{role:"listbox",id:N.contentId,"data-state":N.open?"open":"closed",dir:N.dir,onContextMenu:ae=>ae.preventDefault(),...T,...ce,onPlaced:()=>J(!0),ref:j,style:{display:"flex",flexDirection:"column",outline:"none",...T.style},onKeyDown:qe(T.onKeyDown,ae=>{const me=ae.ctrlKey||ae.altKey||ae.metaKey;if(ae.key==="Tab"&&ae.preventDefault(),!me&&ae.key.length===1&&L(ae.key),["ArrowUp","ArrowDown","Home","End"].includes(ae.key)){let pe=V().filter(Ce=>!Ce.disabled).map(Ce=>Ce.ref.current);if(["ArrowUp","End"].includes(ae.key)&&(pe=pe.slice().reverse()),["ArrowUp","ArrowDown"].includes(ae.key)){const Ce=ae.target,Ee=pe.indexOf(Ce);pe=pe.slice(Ee+1)}setTimeout(()=>R(pe)),ae.preventDefault()}})})})})})})});VM.displayName=R7;var M7="SelectItemAlignedPosition",$M=S.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:s,...i}=t,o=Ka(Ko,n),l=Ga(Ko,n),[u,d]=S.useState(null),[h,m]=S.useState(null),p=vt(e,j=>m(j)),v=ym(n),x=S.useRef(!1),_=S.useRef(!0),{viewport:w,selectedItem:C,selectedItemText:T,focusSelectedItem:N}=l,k=S.useCallback(()=>{if(o.trigger&&o.valueNode&&u&&h&&w&&C&&T){const j=o.trigger.getBoundingClientRect(),D=h.getBoundingClientRect(),z=o.valueNode.getBoundingClientRect(),I=T.getBoundingClientRect();if(o.dir!=="rtl"){const Ce=I.left-D.left,Ee=z.left-Ce,Ke=j.left-Ee,st=j.width+Ke,Ve=Math.max(st,D.width),Ut=window.innerWidth-Cr,ft=nb(Ee,[Cr,Math.max(Cr,Ut-Ve)]);u.style.minWidth=st+"px",u.style.left=ft+"px"}else{const Ce=D.right-I.right,Ee=window.innerWidth-z.right-Ce,Ke=window.innerWidth-j.right-Ee,st=j.width+Ke,Ve=Math.max(st,D.width),Ut=window.innerWidth-Cr,ft=nb(Ee,[Cr,Math.max(Cr,Ut-Ve)]);u.style.minWidth=st+"px",u.style.right=ft+"px"}const H=v(),V=window.innerHeight-Cr*2,X=w.scrollHeight,J=window.getComputedStyle(h),ie=parseInt(J.borderTopWidth,10),R=parseInt(J.paddingTop,10),B=parseInt(J.borderBottomWidth,10),F=parseInt(J.paddingBottom,10),se=ie+R+X+F+B,W=Math.min(C.offsetHeight*5,se),L=window.getComputedStyle(w),$=parseInt(L.paddingTop,10),Y=parseInt(L.paddingBottom,10),ee=j.top+j.height/2-Cr,de=V-ee,ce=C.offsetHeight/2,ae=C.offsetTop+ce,me=ie+R+ae,ge=se-me;if(me<=ee){const Ce=H.length>0&&C===H[H.length-1].ref.current;u.style.bottom="0px";const Ee=h.clientHeight-w.offsetTop-w.offsetHeight,Ke=Math.max(de,ce+(Ce?Y:0)+Ee+B),st=me+Ke;u.style.height=st+"px"}else{const Ce=H.length>0&&C===H[0].ref.current;u.style.top="0px";const Ke=Math.max(ee,ie+w.offsetTop+(Ce?$:0)+ce)+ge;u.style.height=Ke+"px",w.scrollTop=me-ee+w.offsetTop}u.style.margin=`${Cr}px 0`,u.style.minHeight=W+"px",u.style.maxHeight=V+"px",s==null||s(),requestAnimationFrame(()=>x.current=!0)}},[v,o.trigger,o.valueNode,u,h,w,C,T,o.dir,s]);Fn(()=>k(),[k]);const[A,O]=S.useState();Fn(()=>{h&&O(window.getComputedStyle(h).zIndex)},[h]);const P=S.useCallback(j=>{j&&_.current===!0&&(k(),N==null||N(),_.current=!1)},[k,N]);return g.jsx(D7,{scope:n,contentWrapper:u,shouldExpandOnScrollRef:x,onScrollButtonChange:P,children:g.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:A},children:g.jsx(rt.div,{...i,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});$M.displayName=M7;var O7="SelectPopperPosition",cb=S.forwardRef((t,e)=>{const{__scopeSelect:n,align:s="start",collisionPadding:i=Cr,...o}=t,l=bm(n);return g.jsx(pM,{...l,...o,ref:e,align:s,collisionPadding:i,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});cb.displayName=O7;var[D7,Rw]=Xc(Ko,{}),ub="SelectViewport",HM=S.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:s,...i}=t,o=Ga(ub,n),l=Rw(ub,n),u=vt(e,o.onViewportChange),d=S.useRef(0);return g.jsxs(g.Fragment,{children:[g.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),g.jsx(vm.Slot,{scope:n,children:g.jsx(rt.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:u,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:qe(i.onScroll,h=>{const m=h.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:v}=l;if(v!=null&&v.current&&p){const x=Math.abs(d.current-m.scrollTop);if(x>0){const _=window.innerHeight-Cr*2,w=parseFloat(p.style.minHeight),C=parseFloat(p.style.height),T=Math.max(w,C);if(T<_){const N=T+x,k=Math.min(_,N),A=N-k;p.style.height=k+"px",p.style.bottom==="0px"&&(m.scrollTop=A>0?A:0,p.style.justifyContent="flex-end")}}}d.current=m.scrollTop})})})]})});HM.displayName=ub;var qM="SelectGroup",[P7,L7]=Xc(qM),I7=S.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t,i=Po();return g.jsx(P7,{scope:n,id:i,children:g.jsx(rt.div,{role:"group","aria-labelledby":i,...s,ref:e})})});I7.displayName=qM;var KM="SelectLabel",F7=S.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t,i=L7(KM,n);return g.jsx(rt.div,{id:i.id,...s,ref:e})});F7.displayName=KM;var wp="SelectItem",[z7,GM]=Xc(wp),YM=S.forwardRef((t,e)=>{const{__scopeSelect:n,value:s,disabled:i=!1,textValue:o,...l}=t,u=Ka(wp,n),d=Ga(wp,n),h=u.value===s,[m,p]=S.useState(o??""),[v,x]=S.useState(!1),_=vt(e,N=>{var k;return(k=d.itemRefCallback)==null?void 0:k.call(d,N,s,i)}),w=Po(),C=S.useRef("touch"),T=()=>{i||(u.onValueChange(s),u.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return g.jsx(z7,{scope:n,value:s,disabled:i,textId:w,isSelected:h,onItemTextChange:S.useCallback(N=>{p(k=>k||((N==null?void 0:N.textContent)??"").trim())},[]),children:g.jsx(vm.ItemSlot,{scope:n,value:s,disabled:i,textValue:m,children:g.jsx(rt.div,{role:"option","aria-labelledby":w,"data-highlighted":v?"":void 0,"aria-selected":h&&v,"data-state":h?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...l,ref:_,onFocus:qe(l.onFocus,()=>x(!0)),onBlur:qe(l.onBlur,()=>x(!1)),onClick:qe(l.onClick,()=>{C.current!=="mouse"&&T()}),onPointerUp:qe(l.onPointerUp,()=>{C.current==="mouse"&&T()}),onPointerDown:qe(l.onPointerDown,N=>{C.current=N.pointerType}),onPointerMove:qe(l.onPointerMove,N=>{var k;C.current=N.pointerType,i?(k=d.onItemLeave)==null||k.call(d):C.current==="mouse"&&N.currentTarget.focus({preventScroll:!0})}),onPointerLeave:qe(l.onPointerLeave,N=>{var k;N.currentTarget===document.activeElement&&((k=d.onItemLeave)==null||k.call(d))}),onKeyDown:qe(l.onKeyDown,N=>{var A;((A=d.searchRef)==null?void 0:A.current)!==""&&N.key===" "||(S7.includes(N.key)&&T(),N.key===" "&&N.preventDefault())})})})})});YM.displayName=wp;var ed="SelectItemText",WM=S.forwardRef((t,e)=>{const{__scopeSelect:n,className:s,style:i,...o}=t,l=Ka(ed,n),u=Ga(ed,n),d=GM(ed,n),h=k7(ed,n),[m,p]=S.useState(null),v=vt(e,T=>p(T),d.onItemTextChange,T=>{var N;return(N=u.itemTextRefCallback)==null?void 0:N.call(u,T,d.value,d.disabled)}),x=m==null?void 0:m.textContent,_=S.useMemo(()=>g.jsx("option",{value:d.value,disabled:d.disabled,children:x},d.value),[d.disabled,d.value,x]),{onNativeOptionAdd:w,onNativeOptionRemove:C}=h;return Fn(()=>(w(_),()=>C(_)),[w,C,_]),g.jsxs(g.Fragment,{children:[g.jsx(rt.span,{id:d.textId,...o,ref:v}),d.isSelected&&l.valueNode&&!l.valueNodeHasChildren?Xo.createPortal(o.children,l.valueNode):null]})});WM.displayName=ed;var XM="SelectItemIndicator",QM=S.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t;return GM(XM,n).isSelected?g.jsx(rt.span,{"aria-hidden":!0,...s,ref:e}):null});QM.displayName=XM;var db="SelectScrollUpButton",JM=S.forwardRef((t,e)=>{const n=Ga(db,t.__scopeSelect),s=Rw(db,t.__scopeSelect),[i,o]=S.useState(!1),l=vt(e,s.onScrollButtonChange);return Fn(()=>{if(n.viewport&&n.isPositioned){let u=function(){const h=d.scrollTop>0;o(h)};const d=n.viewport;return u(),d.addEventListener("scroll",u),()=>d.removeEventListener("scroll",u)}},[n.viewport,n.isPositioned]),i?g.jsx(eO,{...t,ref:l,onAutoScroll:()=>{const{viewport:u,selectedItem:d}=n;u&&d&&(u.scrollTop=u.scrollTop-d.offsetHeight)}}):null});JM.displayName=db;var fb="SelectScrollDownButton",ZM=S.forwardRef((t,e)=>{const n=Ga(fb,t.__scopeSelect),s=Rw(fb,t.__scopeSelect),[i,o]=S.useState(!1),l=vt(e,s.onScrollButtonChange);return Fn(()=>{if(n.viewport&&n.isPositioned){let u=function(){const h=d.scrollHeight-d.clientHeight,m=Math.ceil(d.scrollTop)<h;o(m)};const d=n.viewport;return u(),d.addEventListener("scroll",u),()=>d.removeEventListener("scroll",u)}},[n.viewport,n.isPositioned]),i?g.jsx(eO,{...t,ref:l,onAutoScroll:()=>{const{viewport:u,selectedItem:d}=n;u&&d&&(u.scrollTop=u.scrollTop+d.offsetHeight)}}):null});ZM.displayName=fb;var eO=S.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:s,...i}=t,o=Ga("SelectScrollButton",n),l=S.useRef(null),u=ym(n),d=S.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return S.useEffect(()=>()=>d(),[d]),Fn(()=>{var m;const h=u().find(p=>p.ref.current===document.activeElement);(m=h==null?void 0:h.ref.current)==null||m.scrollIntoView({block:"nearest"})},[u]),g.jsx(rt.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:qe(i.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(s,50))}),onPointerMove:qe(i.onPointerMove,()=>{var h;(h=o.onItemLeave)==null||h.call(o),l.current===null&&(l.current=window.setInterval(s,50))}),onPointerLeave:qe(i.onPointerLeave,()=>{d()})})}),B7="SelectSeparator",U7=S.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t;return g.jsx(rt.div,{"aria-hidden":!0,...s,ref:e})});U7.displayName=B7;var hb="SelectArrow",V7=S.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t,i=bm(n),o=Ka(hb,n),l=Ga(hb,n);return o.open&&l.position==="popper"?g.jsx(mM,{...i,...s,ref:e}):null});V7.displayName=hb;var $7="SelectBubbleInput",tO=S.forwardRef(({__scopeSelect:t,value:e,...n},s)=>{const i=S.useRef(null),o=vt(s,i),l=w7(e);return S.useEffect(()=>{const u=i.current;if(!u)return;const d=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(d,"value").set;if(l!==e&&m){const p=new Event("change",{bubbles:!0});m.call(u,e),u.dispatchEvent(p)}},[l,e]),g.jsx(rt.select,{...n,style:{...gM,...n.style},ref:o,defaultValue:e})});tO.displayName=$7;function nO(t){return t===""||t===void 0}function sO(t){const e=_s(t),n=S.useRef(""),s=S.useRef(0),i=S.useCallback(l=>{const u=n.current+l;e(u),function d(h){n.current=h,window.clearTimeout(s.current),h!==""&&(s.current=window.setTimeout(()=>d(""),1e3))}(u)},[e]),o=S.useCallback(()=>{n.current="",window.clearTimeout(s.current)},[]);return S.useEffect(()=>()=>window.clearTimeout(s.current),[]),[n,i,o]}function rO(t,e,n){const i=e.length>1&&Array.from(e).every(h=>h===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let l=H7(t,Math.max(o,0));i.length===1&&(l=l.filter(h=>h!==n));const d=l.find(h=>h.textValue.toLowerCase().startsWith(i.toLowerCase()));return d!==n?d:void 0}function H7(t,e){return t.map((n,s)=>t[(e+s)%t.length])}var q7=OM,K7=PM,G7=IM,Y7=FM,W7=zM,X7=BM,Q7=HM,J7=YM,Z7=WM,e9=QM,t9=JM,n9=ZM;function s9({...t}){return g.jsx(q7,{"data-slot":"select",...t})}function r9({...t}){return g.jsx(G7,{"data-slot":"select-value",...t})}function i9({className:t,size:e="default",children:n,...s}){return g.jsxs(K7,{"data-slot":"select-trigger","data-size":e,className:Me("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...s,children:[n,g.jsx(Y7,{asChild:!0,children:g.jsx(Tx,{className:"size-4 opacity-50"})})]})}function a9({className:t,children:e,position:n="popper",...s}){return g.jsx(W7,{children:g.jsxs(X7,{"data-slot":"select-content",className:Me("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...s,children:[g.jsx(o9,{}),g.jsx(Q7,{className:Me("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),g.jsx(l9,{})]})})}function Ty({className:t,children:e,...n}){return g.jsxs(J7,{"data-slot":"select-item",className:Me("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...n,children:[g.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:g.jsx(e9,{children:g.jsx(Ex,{className:"size-4"})})}),g.jsx(Z7,{children:e})]})}function o9({className:t,...e}){return g.jsx(t9,{"data-slot":"select-scroll-up-button",className:Me("flex cursor-default items-center justify-center py-1",t),...e,children:g.jsx(zI,{className:"size-4"})})}function l9({className:t,...e}){return g.jsx(n9,{"data-slot":"select-scroll-down-button",className:Me("flex cursor-default items-center justify-center py-1",t),...e,children:g.jsx(Tx,{className:"size-4"})})}async function c9(){return await(await fetch("/api/settings/proxy")).json()}async function u9(t){return await(await fetch("/api/settings/proxy",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).json()}const d9=()=>{const{t}=Us(),[e,n]=S.useState(!0),[s,i]=S.useState(""),[o,l]=S.useState(!1),[u,d]=S.useState({mode:"system",url:""});S.useEffect(()=>{(async()=>{try{const _=(await c9()).proxy||"system";let w="system",C="";_==="no_proxy"?w="no_proxy":_==="system"?w="system":(w="custom",C=_),d({mode:w,url:C})}catch(x){console.error("Error loading proxy settings:",x);const _=x instanceof Error?x.message:"Failed to load proxy settings";i(_)}finally{n(!1)}})()},[t]);const h=v=>{d(x=>({...x,mode:v}))},m=v=>{d(x=>({...x,url:v}))},p=async()=>{try{i("");let v;switch(u.mode){case"no_proxy":v="no_proxy";break;case"system":v="system";break;case"custom":if(v=u.url.trim(),v&&!v.match(/^(https?|socks[45]):\/\/.+/)){i("Invalid proxy URL format. Please use http://, https://, socks4://, or socks5:// protocol.");return}break;default:v="system"}console.log("Saving proxy settings:",{proxy:v});const x=await u9({proxy:v});if(console.log("Proxy settings save result:",x),x.status==="success")as.success(x.message||"Proxy settings saved successfully"),setTimeout(()=>{as.info(t("settings:messages.restartRequired"),{duration:5e3})},1e3),i("");else{const _=x.message||"Failed to save proxy settings";console.error("Save failed with result:",x),i(_),as.error(_)}}catch(v){console.error("Error saving proxy settings:",v);const x=v instanceof Error?v.message:"Failed to save proxy settings";i(x),as.error(x)}};return g.jsxs("div",{className:"flex flex-col items-center justify-center p-4 relative w-full sm:pb-0 pb-10",children:[e&&g.jsx("div",{className:"flex justify-center items-center h-32",children:g.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-zinc-500"})}),!e&&g.jsxs("div",{className:"w-full",children:[g.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[g.jsx(i6,{className:"h-5 w-5"}),g.jsx("h3",{className:"text-lg font-semibold",children:t("settings:proxy:title")})]}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx(ur,{htmlFor:"proxy-mode",className:"text-sm font-medium",children:t("settings:proxy:mode")}),g.jsxs(s9,{value:u.mode,onValueChange:h,children:[g.jsx(i9,{className:"w-48",children:g.jsx(r9,{placeholder:t("settings:proxy:selectMode")})}),g.jsxs(a9,{children:[g.jsx(Ty,{value:"no_proxy",children:t("settings:proxy:modes.no_proxy")}),g.jsx(Ty,{value:"system",children:t("settings:proxy:modes.system")}),g.jsx(Ty,{value:"custom",children:t("settings:proxy:modes.custom")})]})]})]}),u.mode==="custom"&&g.jsxs("div",{className:"space-y-2",children:[g.jsx(ur,{htmlFor:"proxy-url",className:"text-sm font-medium",children:t("settings:proxy:url")}),g.jsx(ni,{id:"proxy-url",type:"text",placeholder:t("settings:proxy:urlPlaceholder"),value:u.url,onChange:v=>m(v.target.value)})]})]})]}),g.jsx("div",{className:"flex justify-center fixed sm:bottom-2 sm:left-[calc(var(--sidebar-width)+0.45rem)] sm:translate-x-0 -translate-x-1/2 bottom-15 left-1/2 gap-1.5",children:g.jsxs(Be,{onClick:p,disabled:e,children:[g.jsx(kx,{className:"mr-2 h-4 w-4"})," ",t("settings:saveSettings")]})}),s&&g.jsx("div",{className:"text-red-500 text-center mb-4",children:s})]})},f9=({current:t,setCurrent:e,onClose:n})=>{const{t:s}=Us(),[i,o]=S.useState(!1);S.useEffect(()=>{(async()=>{try{const d=await RM();o(d)}catch(d){console.error("Failed to get develop mode:",d),o(!1)}})()},[]);const l=[{type:"provider",title:"settings:provider:title",icon:c6},{type:"comfyConfig",title:"settings:comfyConfig:title",icon:xE},...i?[{type:"taskConfig",title:"settings:taskConfig:title",icon:xE},{type:"agentManager",title:"settings:agentManager:title",icon:v6}]:[]];return g.jsx(AH,{className:"h-full rounded-l-lg overflow-hidden",children:g.jsx(RH,{children:g.jsxs(jH,{children:[g.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n&&g.jsxs(Be,{onClick:n,children:[g.jsx(II,{className:"h-6 w-6"}),g.jsx("span",{className:"sr-only",children:"Close"})]}),g.jsx(MH,{className:"text-lg font-bold select-none",children:s("settings:title")})]}),g.jsx(OH,{children:g.jsx(DH,{children:l.map(u=>g.jsx(PH,{children:g.jsx(IH,{asChild:!0,children:g.jsxs("div",{className:Me("flex items-center gap-2 select-none cursor-pointer",t===u.type&&"bg-muted"),onClick:()=>e(u.type),children:[g.jsx(u.icon,{}),g.jsx("span",{children:s(u.title)})]})})},u.title))})})]})})})},h9={theme:"system",setTheme:()=>null},iO=S.createContext(h9),Ya=()=>{const t=S.useContext(iO);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t},p9=({taskConfigs:t,onEdit:e,onDelete:n,loading:s,error:i})=>{const{theme:o}=Ya(),l=d=>{window.confirm(`确定要删除任务配置 "${d}" 吗？`)&&n(d)},u=d=>({FTK:{label:"FTK",className:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-100",icon:"🔄"}})[d]||{label:d,className:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200",icon:"📄"};return s?g.jsxs("div",{className:"flex justify-center items-center py-16",children:[g.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"}),g.jsx("span",{className:"ml-4 text-gray-600 dark:text-gray-300 text-lg",children:"正在加载任务配置..."})]}):i?g.jsxs("div",{className:"bg-red-50 dark:bg-red-900/30 text-red-700 dark:text-red-300 p-6 rounded-xl border border-red-200 dark:border-red-800 mt-6 shadow-sm max-w-2xl mx-auto",children:[g.jsxs("div",{className:"flex items-center",children:[g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),g.jsx("p",{className:"font-semibold text-lg",children:"加载失败"})]}),g.jsx("p",{className:"mt-2 text-sm",children:i})]}):t.length===0?g.jsxs("div",{className:"text-center py-20 bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-2xl border-2 border-dashed border-blue-200 dark:border-blue-800 mt-6 max-w-2xl mx-auto",children:[g.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-blue-100 text-blue-600 mb-6",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),g.jsx("h3",{className:"text-2xl font-bold text-gray-800 dark:text-gray-200 mb-2",children:"暂无任务配置"}),g.jsx("p",{className:"text-gray-600 dark:text-gray-400 max-w-md mx-auto",children:'点击"添加新任务"按钮创建您的第一个任务配置'})]}):g.jsx("div",{className:"space-y-4",children:t.map((d,h)=>{const m=u(d.task_type);return g.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6 shadow-sm hover:shadow-lg transition-all duration-300 hover:border-blue-300 dark:hover:border-blue-700 transform hover:-translate-y-0.5",children:[g.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start justify-between gap-4 mb-4",children:[g.jsxs("div",{className:"flex items-start flex-1",children:[g.jsx("div",{className:`flex items-center justify-center w-12 h-12 rounded-lg ${m.className} text-xl mr-4 flex-shrink-0`,children:m.icon}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-2",children:[g.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${m.className}`,children:m.label}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("h4",{className:"text-xl font-bold text-gray-900 dark:text-gray-100 truncate",children:d.task_name}),d.task_agent&&g.jsxs("span",{className:"text-sm px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 rounded-full",children:["Agent: ",d.task_agent]}),d.usage_type&&g.jsxs("span",{className:"text-sm px-2 py-1 bg-purple-100 dark:bg-purple-900/50 text-purple-600 dark:text-purple-300 rounded-full",children:[d.usage_type==="video"&&"视频",d.usage_type==="image"&&"图片",d.usage_type==="audio"&&"音频",d.usage_type==="text"&&"文本"]}),d.workflow_json&&g.jsx("span",{className:"text-sm px-2 py-1 bg-green-100 dark:bg-green-900/50 text-green-600 dark:text-green-300 rounded-full",children:"✓ 包含工作流配置"}),d.available!==void 0&&!d.available&&g.jsx("span",{className:"text-sm px-2 py-1 bg-red-100 dark:bg-red-900/50 text-red-600 dark:text-red-300 rounded-full",children:"⚠️ 不可用"})]})]}),g.jsx("p",{className:"text-gray-600 dark:text-gray-400 leading-relaxed whitespace-pre-line mt-2",children:d.task_description})]})]}),g.jsxs("div",{className:"flex space-x-2 flex-shrink-0",children:[g.jsxs("button",{onClick:()=>e(d),className:"px-4 py-2 text-sm font-medium bg-blue-500 text-white rounded-lg hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors flex items-center",children:[g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"编辑"]}),g.jsxs("button",{onClick:()=>l(d.task_name),className:"px-4 py-2 text-sm font-medium bg-red-500 text-white rounded-lg hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors flex items-center",children:[g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"删除"]})]})]}),(d.workflow_name||d.workflow_json)&&g.jsxs("div",{className:"space-y-3 pt-4 mt-4 border-t border-gray-100",children:[d.workflow_name&&g.jsxs("div",{className:"flex items-center",children:[g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-400 dark:text-gray-500 mr-2 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})}),g.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400 mr-2",children:"工作流名称:"}),g.jsx("span",{className:"text-sm font-medium text-gray-800 dark:text-gray-300 truncate",children:d.workflow_name})]}),d.workflow_json&&g.jsxs("div",{className:"flex items-center",children:[g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-green-500 dark:text-green-400 mr-2 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),g.jsx("span",{className:"text-sm font-medium text-green-600 dark:text-green-400",children:"工作流JSON配置: 已设置"})]})]})]},d.task_name)})})},a2=async()=>{try{const t=await fetch("/api/task-configs?task_type=FTK");if(!t.ok)throw new Error(`获取任务配置失败: ${t.statusText}`);return await t.json()}catch(t){throw console.error("获取任务配置时出错:",t),t}},o2=async t=>{try{const e={task_name:t.task_name||"",task_type:t.task_type||"FTK",task_description:t.task_description||"",workflow_name:t.workflow_name||"",task_agent:t.task_agent,workflow_json:t.workflow_json||"",available:t.available!==void 0?t.available:!0,usage_type:t.usage_type||"image"};jw(e);const n=await fetch("/api/task-configs",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!n.ok){const s=await n.json().catch(()=>({}));throw new Error(s.detail||`添加任务配置失败: HTTP ${n.status}`)}return await n.json()}catch(e){throw console.error("添加任务配置时出错:",e),e}},l2=async(t,e)=>{try{const n={task_name:e.task_name||"",task_type:e.task_type||"FTK",task_description:e.task_description||"",workflow_name:e.workflow_name||"",task_agent:e.task_agent,workflow_json:e.workflow_json||"",available:e.available!==void 0?e.available:!0,usage_type:e.usage_type||"image"};jw(n);const s=await fetch(`/api/task-configs/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!s.ok){const i=await s.json().catch(()=>({}));throw new Error(i.detail||`更新任务配置失败: HTTP ${s.status}`)}return await s.json()}catch(n){throw console.error("更新任务配置时出错:",n),n}},m9=async t=>{try{const e=await fetch(`/api/task-configs/${t}`,{method:"DELETE"});if(!e.ok){const n=await e.json();throw new Error(n.detail||"删除任务配置失败")}return await e.json()}catch(e){throw console.error("删除任务配置时出错:",e),e}},jw=t=>{var s,i,o;const e=[];if(!t)return e.push("任务配置数据不能为空"),e;(s=t.task_name)!=null&&s.trim()||e.push("任务名称不能为空"),(i=t.task_type)!=null&&i.trim()||e.push("任务类型不能为空"),t.task_type!=="FTK"&&e.push('任务类型必须为 "FTK"'),(o=t.task_description)!=null&&o.trim()||e.push("任务描述不能为空");const n=["video","image","audio","text"];if(t.usage_type&&!n.includes(t.usage_type)&&e.push("用途类型必须为 video、image、audio 或 text"),t.workflow_json)try{const l=String(t.workflow_json);let u;try{u=JSON.parse(l)}catch(h){const m=h instanceof Error?h.message:"未知的JSON解析错误";return e.push(`工作流JSON格式无效，请确保提供的是有效的JSON字符串。错误: ${m}`),e}if(!u||typeof u!="object"||Array.isArray(u))return e.push("工作流JSON格式无效，请确保提供的是有效的JSON对象，而不是数组或其他类型。"),e;let d=!1;for(const h in u)if(Object.prototype.hasOwnProperty.call(u,h)){const m=u[h];if(m&&typeof m=="object"&&"class_type"in m){d=!0;break}}if(!d)e.push("无效的API JSON格式。请确保导出的是ComfyUI的API JSON。");else{let h=!1,m=!1;for(const p in u)if(Object.prototype.hasOwnProperty.call(u,p)){const v=u[p];v&&typeof v=="object"&&v.class_type==="FTK_INPUT"?h=!0:v&&typeof v=="object"&&v.class_type==="FTK_OUTPUT"&&(m=!0)}if(!h||!m){const p=[];h||p.push("FTK_INPUT"),m||p.push("FTK_OUTPUT"),e.push(`工作流必须包含${p.join("和")}节点`)}}}catch(l){console.error("验证工作流JSON时发生错误:",l);const u=l instanceof Error?l.message:"未知错误";e.push(`工作流JSON验证失败: ${u}`)}return e};function g9({className:t,...e}){return g.jsx("div",{"data-slot":"card",className:Me("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...e})}function v9({className:t,...e}){return g.jsx("div",{"data-slot":"card-header",className:Me("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...e})}function y9({className:t,...e}){return g.jsx("div",{"data-slot":"card-title",className:Me("leading-none font-semibold",t),...e})}function b9({className:t,...e}){return g.jsx("div",{"data-slot":"card-content",className:Me("px-6",t),...e})}const x9=px("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function w9({className:t,variant:e,asChild:n=!1,...s}){const i=n?Qp:"span";return g.jsx(i,{"data-slot":"badge",className:Me(x9({variant:e}),t),...s})}const aO=({onWorkflowLoaded:t,disabled:e=!1})=>{const{t:n}=Us(),s=S.useRef(null),[i,o]=S.useState(null),[l,u]=S.useState([]),[d,h]=S.useState(""),[m,p]=S.useState(""),v=N=>{if(console.log("开始验证文件类型..."),console.log("文件验证详情:",{fileName:N.name,fileType:N.type}),!N.name.endsWith(".json")){console.log("文件验证失败: 无效的文件扩展名");const k=n("settings:comfyui.invalidFileFormat","请上传JSON格式的文件");return p(k),as.error(k),!1}return console.log("文件验证通过"),!0},x=N=>{console.log("开始解析JSON字符串...");let k;try{k=JSON.parse(N),console.log("JSON解析成功")}catch(O){console.log("JSON解析错误:",O);const P=n("settings:comfyui.invalidJsonSyntax","JSON格式无效，请检查文件内容是否正确");return p(P),as.error(P+": "+(O instanceof Error?O.message:String(O))),null}if(console.log("验证JSON结构..."),!k||typeof k!="object"||Array.isArray(k)){console.log("JSON结构验证失败: 不是有效的对象");const O=n("settings:comfyui.invalidApiJsonFormat","无效的API JSON格式。JSON必须是一个对象，而不是数组或其他类型。");return p(O),as.error(O),null}console.log("验证API JSON格式...");let A=!1;for(const O in k)if(Object.prototype.hasOwnProperty.call(k,O)){const P=k[O];if(P&&typeof P=="object"&&"class_type"in P){A=!0;break}}if(!A){console.log("API JSON格式验证失败: 缺少必要的class_type属性");const O=n("settings:comfyui.invalidApiJsonFormat","无效的API JSON格式。您需要导出API JSON，而不是ComfyUI中的工作流JSON。请在ComfyUI菜单 -> 工作流 -> 导出（API）JSON中尝试。");return p(O),as.error(O),null}return console.log("JSON验证通过"),k},_=N=>{console.log("开始检查必要节点(FTK_INPUT, FTK_OUTPUT)...");let k=!1,A=!1;for(const O in N)if(Object.prototype.hasOwnProperty.call(N,O)){const P=N[O];P&&typeof P=="object"&&(P.class_type==="FTK_INPUT"?(k=!0,console.log("找到FTK_INPUT节点")):P.class_type==="FTK_OUTPUT"&&(A=!0,console.log("找到FTK_OUTPUT节点")))}if(!k||!A){const O=[];k||(O.push("FTK_INPUT"),console.log("缺少FTK_INPUT节点")),A||(O.push("FTK_OUTPUT"),console.log("缺少FTK_OUTPUT节点"));const P=n("settings:comfyui.missingRequiredNodes",`工作流不能使用，缺少必要的节点: ${O.join("和")}。请去GitHub添加COMFYUI_CANVA_Agent下载节点。`);return p(P),as.error(P),!1}return console.log("所有必要节点检查通过"),!0},w=N=>{console.log("开始提取FTK_INPUT节点的输入参数...");const k=[];for(const A in N)if(Object.prototype.hasOwnProperty.call(N,A)){const O=N[A];if(O&&typeof O=="object"&&O.class_type==="FTK_INPUT"&&O.inputs){console.log(`处理FTK_INPUT节点 ${A}`);for(const[P,j]of Object.entries(O.inputs))if(!P.startsWith("_")&&P!=="unique_id"){console.log(`  提取参数: ${P} = ${j} (类型: ${typeof j})`);let D="string";typeof j=="number"?D="number":typeof j=="boolean"&&(D="boolean");let z=j;D==="string"&&typeof z!="string"?z=String(z):D==="number"&&typeof z!="number"?z=Number(z)||0:D==="boolean"&&typeof z!="boolean"&&(z=!!z),k.push({name:P,type:D,description:`FTK_INPUT节点参数: ${P}`,node_id:A,node_input_name:P,default_value:z,required:!0})}}}return console.log(`输入参数提取完成，共 ${k.length} 个参数`),k},C=async N=>{var k;if(console.log("handleFileChange called",N),N.stopPropagation(),N.preventDefault(),!!N.currentTarget){u([]),p("");try{console.log("===== 开始处理JSON文件上传 =====");const A=(k=N.currentTarget.files)==null?void 0:k[0];if(!A){console.log("未选择文件或文件对象为空");return}if(console.log("选择的文件信息:",{name:A.name,size:A.size,type:A.type}),console.log("开始验证文件类型..."),!v(A)){console.log("文件类型验证失败");return}console.log("文件类型验证通过"),console.log("开始读取文件内容...");const O=await A.text();console.log(`文件内容读取完成，长度: ${O.length} 字符`),console.log("开始解析和验证JSON内容...");const P=x(O);if(!P){console.log("JSON解析或验证失败");return}if(console.log("解析的工作流JSON:",P),console.log(`JSON对象包含 ${Object.keys(P).length} 个节点`),console.log("开始检查必要节点..."),!_(P)){console.log("必要节点检查失败");return}console.log("必要节点检查通过"),console.log("开始提取输入参数...");const j=w(P);console.log(`成功提取 ${j.length} 个输入参数`),console.log("开始保存组件状态..."),o(P),h(A.name),u(j),console.log("组件状态保存完成"),console.log("准备调用父组件的onWorkflowLoaded回调..."),t({api_json:P,name:A.name.replace(".json",""),inputs:j}),console.log("onWorkflowLoaded调用完成，JSON文件处理流程结束"),console.log("===== JSON文件上传处理完成 =====")}catch(A){console.error("===== JSON文件处理出错 ====="),console.error("处理文件时发生未预期错误:",A),console.error("错误类型:",A instanceof Error?A.name:typeof A),console.error("错误消息:",A instanceof Error?A.message:String(A));const O=n("settings:comfyui.unexpectedError","处理文件时发生未预期的错误");p(O),as.error(O+": "+(A instanceof Error?A.message:String(A)))}finally{s.current&&(s.current.value="")}}},T=N=>{N&&(N.stopPropagation(),N.preventDefault()),o(null),u([]),h(""),p(""),s.current&&(s.current.value=""),t({api_json:{},name:"",inputs:[]})};return g.jsxs("div",{className:"space-y-4",children:[m&&g.jsx("div",{className:"bg-red-50 dark:bg-red-900/30 text-red-700 dark:text-red-300 p-3 rounded-md",children:m}),g.jsxs("div",{className:"space-y-3",children:[g.jsxs(Be,{onClick:N=>{var k;N.stopPropagation(),N.preventDefault(),(k=s.current)==null||k.click()},variant:"outline",disabled:e,className:"w-full justify-start",children:[g.jsx("svg",{className:"h-5 w-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),n("settings:comfyui.uploadWorkflowApiJson","上传工作流API JSON")]}),g.jsx("input",{type:"file",accept:".json",ref:s,onChange:C,className:"hidden",disabled:e}),d&&g.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 dark:bg-blue-900/20 rounded-md border border-blue-200 dark:border-blue-800",children:[g.jsxs("div",{className:"flex items-center truncate",children:[g.jsx("svg",{className:"h-5 w-5 text-blue-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),g.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 truncate max-w-xs",children:d})]}),g.jsx(Be,{variant:"ghost",size:"sm",onClick:T,disabled:e,className:"h-8 px-2",children:"移除"})]})]}),i&&Object.keys(i).length>0&&g.jsxs(g9,{className:"border-2 border-dashed border-primary/20",children:[g.jsx(v9,{className:"pb-2",children:g.jsxs(y9,{className:"text-base flex items-center gap-2",children:[g.jsx("div",{className:"h-2 w-2 rounded-full bg-primary"}),n("settings:comfyui.workflowDetails","工作流详情"),g.jsxs(w9,{variant:"outline",className:"ml-auto",children:[Object.keys(i).length," 个节点"]})]})}),g.jsxs(b9,{className:"space-y-4",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:n("settings:comfyui.workflowStatus","工作流状态")}),g.jsx("div",{className:"p-3 bg-green-50 dark:bg-green-900/20 rounded-md border border-green-200 dark:border-green-800 text-sm",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("svg",{className:"h-5 w-5 text-green-600 dark:text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),g.jsx("span",{children:"工作流已验证，包含必要的 FTK_INPUT 和 FTK_OUTPUT 节点。"})]})})]}),g.jsxs("div",{className:"space-y-2 mt-4",children:[g.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:n("settings:comfyui.workflowNodes","工作流节点")}),g.jsx("div",{className:"max-h-60 overflow-y-auto p-3 bg-muted/30 rounded-md space-y-2 text-sm",children:Object.entries(i).map(([N,k])=>g.jsxs("div",{className:"flex items-center gap-2 p-2 hover:bg-muted/50 rounded",children:[g.jsxs("span",{className:"text-xs font-mono bg-accent/50 px-1.5 py-0.5 rounded",children:["#",N]}),g.jsx("span",{className:"font-medium truncate",children:k.class_type}),g.jsxs("span",{className:"text-xs text-muted-foreground ml-auto",children:[Object.keys(k.inputs).length," 个输入"]})]},N))})]})]})]})]})},_9=({initialData:t,onSubmit:e,onCancel:n,existingConfigs:s,originalTaskName:i})=>{const{theme:o}=Ya(),[l,u]=S.useState({task_name:t.task_name||"",task_type:t.task_type||"FTK",task_description:t.task_description||"",workflow_name:t.workflow_name||"",task_agent:t.task_agent||void 0,workflow_json:t.workflow_json||"",usage_type:t.usage_type||"image"}),[d,h]=S.useState([]),[m,p]=S.useState([]),[v,x]=S.useState([]),[_,w]=S.useState(!1),[C,T]=S.useState("basic");S.useEffect(()=>{(async()=>{try{const j=await fetch("/api/agent-config-keys");if(j.ok){const D=await j.json();p(D)}else console.error("Failed to fetch agent config keys")}catch(j){console.error("Error fetching agent config keys:",j)}})()},[]),S.useEffect(()=>{if(u({task_name:t.task_name||"",task_type:t.task_type||"FTK",task_description:t.task_description||"",workflow_name:t.workflow_name||"",task_agent:t.task_agent||void 0,workflow_json:t.workflow_json||"",usage_type:t.usage_type||"image"}),x([]),t.workflow_json)try{console.log(t.workflow_json);const P=JSON.parse(t.workflow_json);h([])}catch(P){console.error("解析初始工作流JSON时出错:",P),h([])}else h([])},[t]);const N=P=>{console.log("===== 开始处理工作流JSON加载 ====="),console.log("接收到的workflowData基本信息:",{name:P==null?void 0:P.name,hasApiJson:!!(P!=null&&P.api_json),apiJsonKeysCount:P!=null&&P.api_json?Object.keys(P.api_json).length:0,inputsCount:P!=null&&P.inputs?P.inputs.length:0});try{if(console.log("验证workflowData的有效性..."),!P||!P.api_json){console.error("无效的工作流数据: workflowData或workflowData.api_json不存在");return}console.log("workflowData验证通过，准备设置表单数据"),u(D=>{const z={...D,workflow_json:JSON.stringify(P.api_json||{}),workflow_name:P.name||""};return console.log("表单数据更新完成:",{workflowName:z.workflow_name,workflowJsonLength:z.workflow_json.length}),z});const j=P.inputs||[];console.log(`设置工作流输入参数，共 ${j.length} 个`),j.length>0&&console.log("工作流输入参数详情:",j),h(j),console.log("清除表单错误信息"),x([]),console.log("===== 工作流JSON加载处理完成 =====")}catch(j){console.error("处理工作流加载数据时出错:",j)}},k=P=>{const{name:j,value:D}=P.target;console.log(`处理输入变化 - 字段名: ${j}, 值: ${D}`);const z=j==="task_agent"&&D===""?void 0:D;console.log(`处理后的值 - 字段名: ${j}, 值: ${z}`),u(I=>({...I,[j]:z})),v.length>0&&x([])},A=P=>s.some(j=>j.task_name===P&&(!i||j.task_name!==i)),O=async P=>{P.preventDefault();const j=jw(l);if(A(l.task_name)&&j.push("任务名称已存在，请使用其他名称"),j.length>0){x(j);return}try{w(!0),await e(l)}catch(D){x([D instanceof Error?D.message:"提交失败，请重试"])}finally{w(!1)}};return g.jsxs("form",{onSubmit:O,className:"space-y-6",children:[v.length>0&&g.jsxs("div",{className:"bg-red-50 dark:bg-red-900/30 text-red-700 dark:text-red-300 p-4 rounded-lg border border-red-200 dark:border-red-800",children:[g.jsx("h4",{className:"font-semibold text-lg mb-2",children:"提交失败"}),g.jsx("ul",{className:"list-disc list-inside space-y-1",children:v.map((P,j)=>g.jsx("li",{children:P},j))})]}),g.jsxs("div",{children:[g.jsxs("button",{type:"button",onClick:()=>T(C==="basic"?"advanced":"basic"),className:"flex items-center justify-between w-full text-left px-4 py-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800 hover:bg-blue-100 dark:hover:bg-blue-900/30 transition-colors",children:[g.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:"基本信息"}),g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-5 w-5 text-gray-500 transition-transform duration-200 ${C==="basic"?"transform rotate-180":""}`,viewBox:"0 0 20 20",fill:"currentColor",children:g.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),C==="basic"&&g.jsxs("div",{className:"mt-4 space-y-4 pl-4 border-l-2 border-blue-200 dark:border-blue-800",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsxs("label",{htmlFor:"task_name",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["任务名称 * ",g.jsx("span",{className:"text-red-500 text-xs",children:"(不能与数据库中已存在的任务名称重复)"})]}),g.jsx("input",{type:"text",id:"task_name",name:"task_name",value:l.task_name,onChange:k,className:"w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"请输入任务名称",disabled:_})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{htmlFor:"workflow_name",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"工作流名称"}),g.jsx("input",{type:"text",id:"workflow_name",name:"workflow_name",value:l.workflow_name,readOnly:!0,className:"w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-gray-100 rounded-md",placeholder:"工作流名称（导入工作流时自动填充）"})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{htmlFor:"task_description",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"任务描述 *"}),g.jsx("textarea",{id:"task_description",name:"task_description",value:l.task_description,onChange:k,rows:3,className:"w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"请输入任务描述",disabled:_})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{htmlFor:"task_agent",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Agent配置"}),g.jsxs("select",{id:"task_agent",name:"task_agent",value:l.task_agent,onChange:k,className:"w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",disabled:_,children:[g.jsx("option",{value:"",children:"请选择Agent配置（可选）"}),m.map(P=>g.jsx("option",{value:P,children:P},P))]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{htmlFor:"usage_type",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"用途类型"}),g.jsxs("select",{id:"usage_type",name:"usage_type",value:l.usage_type,onChange:k,className:"w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",disabled:_,children:[g.jsx("option",{value:"video",children:"视频"}),g.jsx("option",{value:"image",children:"图片"}),g.jsx("option",{value:"audio",children:"音频"}),g.jsx("option",{value:"text",children:"文本"})]})]})]})]}),g.jsxs("div",{children:[g.jsxs("button",{type:"button",onClick:()=>T(C==="advanced"?"basic":"advanced"),className:"flex items-center justify-between w-full text-left px-4 py-3 bg-purple-50 dark:bg-purple-900/20 rounded-lg border border-purple-200 dark:border-purple-800 hover:bg-purple-100 dark:hover:bg-purple-900/30 transition-colors",children:[g.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:"高级配置 - JSON文件导入"}),g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-5 w-5 text-gray-500 transition-transform duration-200 ${C==="advanced"?"transform rotate-180":""}`,viewBox:"0 0 20 20",fill:"currentColor",children:g.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),C==="advanced"&&g.jsx("div",{className:"mt-4 space-y-4 pl-4 border-l-2 border-purple-200 dark:border-purple-800",children:g.jsxs("div",{className:"space-y-4",children:[g.jsx("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"导入工作流API JSON *"}),g.jsx(aO,{onWorkflowLoaded:N,disabled:_}),d.length>0&&g.jsx("div",{className:"p-3 bg-green-50 dark:bg-green-900/20 rounded-md border border-green-200 dark:border-green-800",children:g.jsxs("div",{className:"flex items-start gap-2",children:[g.jsx("svg",{className:"h-4 w-4 text-green-600 dark:text-green-400 shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 10h4.764a2 2 0 011.789 2.894l-3.5 7A2 2 0 0115.263 21h-4.017c-.163 0-.326-.02-.485-.06L7 20m7-10V5a2 2 0 00-2-2h-.095c-.5 0-.905.405-.905.905 0 .714-.211 1.412-.608 2.006L7 11v9m7-10h-2M7 20H5a2 2 0 01-2-2v-6a2 2 0 012-2h2.5"})}),g.jsxs("div",{children:[g.jsx("h4",{className:"text-xs font-medium text-green-800 dark:text-green-400",children:"工作流已成功导入"}),g.jsxs("p",{className:"text-xs text-green-700/80 dark:text-green-400/80 mt-1",children:["系统已自动解析工作流并提取了 ",d.length," 个可配置的输入参数。"]})]})]})}),g.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["注：从ComfyUI导出API JSON方法：ComfyUI菜单 -》 工作流 -》 导出（API）JSON",g.jsx("br",{}),"工作流必须包含FTK_INPUT和FTK_OUTPUT节点，格式必须为有效的ComfyUI API JSON"]})]})})]}),g.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200 dark:border-gray-700",children:[g.jsx("button",{type:"button",onClick:n,className:"px-3 py-1.5 text-sm border border-gray-300 dark:border-gray-600 rounded-md shadow-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",disabled:_,children:"取消"}),g.jsx("button",{type:"submit",className:"px-3 py-1.5 text-sm border border-transparent rounded-md shadow-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",disabled:_,children:_?g.jsxs("span",{className:"flex items-center",children:[g.jsxs("svg",{className:"animate-spin -ml-1 mr-1 h-3 w-3 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[g.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),g.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"提交中..."]}):"确定"})]})]})},S9=({isOpen:t,mode:e,taskData:n,existingConfigs:s,onClose:i,onSubmit:o,originalTaskName:l})=>{const{theme:u}=Ya();if(!t)return null;const d=p=>{p.target===p.currentTarget&&(p.stopPropagation(),i())},h=p=>{p.key==="Escape"&&(p.stopPropagation(),i())},m=p=>{p.stopPropagation()};return g.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center",onClick:d,onKeyDown:h,tabIndex:0,children:g.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow-xl max-w-md w-full mx-4 max-h-[90vh] overflow-y-auto transition-colors duration-300",onClick:m,children:[g.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:g.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:e==="add"?"添加任务配置":"编辑任务配置"})}),g.jsx("div",{className:"px-6 py-4",children:g.jsx(_9,{initialData:n,onSubmit:o,onCancel:i,existingConfigs:s,originalTaskName:l})})]})})},C9=()=>{const{theme:t}=Ya(),{t:e}=Us(),[n,s]=S.useState([]),[i,o]=S.useState({}),[l,u]=S.useState(!1),[d,h]=S.useState("add"),[m,p]=S.useState(!1),[v,x]=S.useState(),[_,w]=S.useState(),C=async()=>{try{p(!0),x(void 0);const I=await a2();s(I)}catch(I){x(I instanceof Error?I.message:"加载任务配置失败")}finally{p(!1)}};S.useEffect(()=>{C()},[]);const T=()=>{o({}),h("add"),w(void 0),u(!0)},N=I=>{console.log("打开编辑任务对话框:",I),o(I),h("edit"),w(I.task_name),u(!0)},k=async I=>{try{p(!0),x(void 0),await m9(I),s(H=>H.filter(V=>V.task_name!==I))}catch(H){x(H instanceof Error?H.message:"删除任务配置失败")}finally{p(!1)}},A=async I=>{try{p(!0),x(void 0),d==="add"?await o2(I):d==="edit"&&_&&await l2(_,I),u(!1),await C()}catch(H){x(H instanceof Error?H.message:"提交任务配置失败")}finally{p(!1)}},O=()=>{C()},P=I=>{console.log("开始转换TaskConfig数组为CSV格式，任务数量:",I.length);const H=["task_name","task_type","task_description","workflow_name","task_agent","available","usage_type","workflow_json"],V=[H.join("	"),...I.map(X=>H.map(J=>{const ie=X[J]||"";return typeof ie=="string"&&J==="workflow_json"?ie.replace(/\n/g,""):ie}).join("	"))].join(`
`);return console.log("CSV转换完成，内容预览:",V.substring(0,200)+(V.length>200?"...":"")),V},j=async()=>{try{console.log("开始导出任务配置");const I=await a2();console.log("获取到的任务配置数量:",I.length);const H=P(I),V=new Blob(["\uFEFF"+H],{type:"text/csv;charset=utf-8;"}),X=URL.createObjectURL(V),J=document.createElement("a");J.setAttribute("href",X),J.setAttribute("download","task-configs.csv"),J.style.visibility="hidden",document.body.appendChild(J),J.click(),document.body.removeChild(J),console.log("任务配置导出成功")}catch(I){console.error("导出任务配置时发生错误:",I),x(I instanceof Error?I.message:"导出任务配置失败")}},D=I=>{var B,F,se,W,L;console.log("开始解析CSV内容，内容长度:",I.length);const H=I.split(`
`);if(console.log("CSV行数:",H.length),H.length<2)throw new Error("CSV文件格式不正确，至少需要包含标题行和一行数据");const X=H[0].replace(/^\ufeff/,"").split("	").map($=>$.trim());console.log("CSV标题行:",X);const J=["task_name","task_type","task_description","workflow_name","task_agent","available","usage_type","workflow_json"],ie=J.filter($=>!X.includes($));if(ie.length>0)throw console.error("CSV文件缺少必要的字段:",ie),new Error(`CSV文件缺少必要的字段: ${ie.join(", ")}`);const R=[];for(let $=1;$<H.length;$++){const Y=H[$].trim();if(!Y)continue;console.log(`正在解析第${$}行数据:`,Y);const ee=Y.split("	");console.log(`第${$}行分割结果:`,ee),console.log(`第${$}行解析结果:`,ee);const de={};for(let ae=0;ae<X.length;ae++){const me=X[ae];J.includes(me)&&(de[me]=ee[ae]||"")}console.log(`第${$}行映射后的配置对象:`,de);const ce={task_name:de.task_name||"",task_type:((B=de.task_type)==null?void 0:B.trim())||"FTK",task_description:((F=de.task_description)==null?void 0:F.trim())||"无描述",workflow_name:((se=de.workflow_name)==null?void 0:se.trim())||"",task_agent:((W=de.task_agent)==null?void 0:W.trim())||void 0,workflow_json:de.workflow_json||"",available:de.available!=="false",usage_type:((L=de.usage_type)==null?void 0:L.trim())||"image"};ce.task_name&&ce.task_description?(R.push(ce),console.log("成功添加任务配置:",ce.task_name)):console.warn("跳过无效的任务配置，缺少必要字段:",ce)}return console.log("CSV解析完成，共解析到有效任务配置数量:",R.length),R},z=I=>{var X;console.log("开始处理CSV文件导入");const H=(X=I.target.files)==null?void 0:X[0];if(!H){console.log("未选择文件");return}console.log("选中的文件信息:",{name:H.name,size:H.size,type:H.type});const V=new FileReader;V.onload=async J=>{var R;console.log("文件读取完成，开始处理内容"),p(!0),x(void 0);const ie=(R=J.target)==null?void 0:R.result;console.log("文件内容长度:",ie.length);try{const B=D(ie);if(console.log("解析得到的任务配置数量:",B.length),!Array.isArray(B)||B.length===0){console.warn("导入的CSV文件中未找到有效的任务配置"),x("导入的CSV文件中未找到有效的任务配置"),p(!1);return}console.log("开始批量处理任务配置，数量:",B.length);for(const F of B)console.log("处理任务配置:",F.task_name),n.find(W=>W.task_name===F.task_name)?(console.log("更新现有任务配置:",F.task_name),await l2(F.task_name,F)):(console.log("添加新任务配置:",F.task_name),await o2(F));console.log("导入完成，重新加载数据"),await C(),I.target&&(I.target.value=""),p(!1),console.log("CSV文件导入处理完成")}catch(B){console.error("导入过程中发生错误:",B),x(B instanceof Error?B.message:"导入任务配置失败"),p(!1)}},V.onerror=()=>{console.error("文件读取失败"),x("文件读取失败"),p(!1)},V.readAsText(H)};return g.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow transition-colors duration-300",children:[g.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:g.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center space-y-4 sm:space-y-0",children:[g.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:e("settings:taskConfig.title")}),g.jsxs("div",{className:"flex flex-wrap gap-2",children:[g.jsx("button",{onClick:T,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",disabled:m,children:e("settings:taskConfig.addNewTask")}),g.jsx("button",{onClick:O,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",disabled:m,children:e("settings:taskConfig.refresh")}),g.jsx("button",{onClick:j,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",disabled:m,children:e("settings:taskConfig.exportConfig")}),g.jsxs("label",{className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 cursor-pointer focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[e("settings:taskConfig.importConfig"),g.jsx("input",{type:"file",accept:".csv",onChange:z,className:"hidden",disabled:m})]})]})]})}),g.jsx("div",{className:"px-6 py-4",children:g.jsx(p9,{taskConfigs:n,onEdit:N,onDelete:k,loading:m,error:v})}),g.jsx(S9,{isOpen:l,mode:d,taskData:i,existingConfigs:n,onClose:()=>u(!1),onSubmit:A,originalTaskName:_})]})},E9=()=>{const{theme:t}=Ya();return g.jsx("div",{className:"p-4 bg-white dark:bg-gray-900 min-h-screen transition-colors duration-300",children:g.jsx(C9,{})})},T9=({agents:t,onEdit:e,onDelete:n,loading:s,error:i})=>{const o=(l,u)=>{window.confirm(`确定要删除Agent "${u}"吗？此操作不可撤销。`)&&n(l)};return s?g.jsx("div",{className:"flex justify-center items-center h-64",children:g.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):i?g.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:g.jsxs("div",{className:"flex",children:[g.jsx("div",{className:"flex-shrink-0",children:g.jsx("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:g.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),g.jsxs("div",{className:"ml-3",children:[g.jsx("h3",{className:"text-sm font-medium text-red-800",children:"加载失败"}),g.jsx("div",{className:"mt-2 text-sm text-red-700",children:g.jsx("p",{children:i})})]})]})}):t.length===0?g.jsxs("div",{className:"text-center py-12",children:[g.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),g.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"暂无Agent配置"}),g.jsx("p",{className:"mt-1 text-sm text-gray-500",children:'点击"添加新Agent"按钮创建第一个Agent配置。'})]}):g.jsx("div",{className:"flex flex-col",children:g.jsx("div",{className:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8",children:g.jsx("div",{className:"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8",children:g.jsx("div",{className:"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg",children:g.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[g.jsx("thead",{className:"bg-gray-50",children:g.jsxs("tr",{children:[g.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Agent ID"}),g.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"名称"}),g.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"中文描述"}),g.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"MCP工具"}),g.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"工具列表"}),g.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"操作"})]})}),g.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(l=>g.jsxs("tr",{className:"hover:bg-gray-50",children:[g.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:l.id}),g.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:l.name}),g.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:g.jsx("div",{className:"max-w-xs truncate",title:l.zh_description,children:l.zh_description})}),g.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:g.jsxs("div",{className:"flex flex-wrap gap-1",children:[l.mcp.map((u,d)=>g.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:u},d)),l.mcp.length===0&&g.jsx("span",{className:"text-gray-400",children:"无"})]})}),g.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:g.jsxs("div",{className:"flex flex-wrap gap-1",children:[l.tool_list.map((u,d)=>g.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:u},d)),l.tool_list.length===0&&g.jsx("span",{className:"text-gray-400",children:"无"})]})}),g.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[g.jsx("button",{onClick:()=>e(l),className:"text-blue-600 hover:text-blue-900 mr-4",children:"编辑"}),g.jsx("button",{onClick:()=>o(l.id,l.name),className:"text-red-600 hover:text-red-900",children:"删除"})]})]},l.id))})]})})})})})},k9=async()=>{try{const t=await fetch("/api/agents");if(!t.ok){const e=await t.json().catch(()=>({}));throw new Error(e.detail||e.message||`获取Agent配置失败: ${t.statusText}`)}return await t.json()}catch(t){throw console.error("获取Agent配置时出错:",t),t}},c2=async t=>{try{const e=await fetch("/api/agents",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok){const n=await e.json().catch(()=>({}));throw new Error(n.detail||n.message||"添加Agent配置失败")}return await e.json()}catch(e){throw console.error("添加Agent配置时出错:",e),e}},u2=async(t,e)=>{try{const n=await fetch(`/api/agents/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!n.ok){const s=await n.json().catch(()=>({}));throw new Error(s.detail||s.message||"更新Agent配置失败")}return await n.json()}catch(n){throw console.error("更新Agent配置时出错:",n),n}},N9=async t=>{try{const e=await fetch(`/api/agents/${t}`,{method:"DELETE"});if(!e.ok){const n=await e.json().catch(()=>({}));throw new Error(n.detail||n.message||"删除Agent配置失败")}return await e.json()}catch(e){throw console.error("删除Agent配置时出错:",e),e}},A9=async()=>{var t;try{const e=await fetch("/api/agents/export");if(!e.ok){const u=await e.json().catch(()=>({}));throw new Error(u.detail||u.message||"导出Agent配置失败")}const n=e.headers.get("content-disposition"),s=((t=n==null?void 0:n.split("filename=")[1])==null?void 0:t.replace(/"/g,""))||"agent_configs.json",i=await e.blob(),o=window.URL.createObjectURL(i),l=document.createElement("a");l.href=o,l.download=s,document.body.appendChild(l),l.click(),document.body.removeChild(l),window.URL.revokeObjectURL(o)}catch(e){throw console.error("导出Agent配置时出错:",e),e}},R9=t=>{var n,s,i,o,l,u;const e=[];return(n=t.id)!=null&&n.trim()||e.push("Agent ID不能为空"),(s=t.name)!=null&&s.trim()||e.push("Agent名称不能为空"),(i=t.zh_description)!=null&&i.trim()||e.push("中文描述不能为空"),(o=t.zh_system_prompt)!=null&&o.trim()||e.push("中文系统提示词不能为空"),(l=t.en_description)!=null&&l.trim()||e.push("英文描述不能为空"),(u=t.en_system_prompt)!=null&&u.trim()||e.push("英文系统提示词不能为空"),e},j9=({isOpen:t,mode:e,agentData:n,existingAgents:s,onClose:i,onSubmit:o,originalAgentId:l})=>{const[u,d]=S.useState({id:n.id||"",name:n.name||"",zh_description:n.zh_description||"",zh_system_prompt:n.zh_system_prompt||"",en_description:n.en_description||"",en_system_prompt:n.en_system_prompt||"",mcp:n.mcp||[],tool_list:n.tool_list||[],handoff_tool:n.handoff_tool||[]}),[h,m]=S.useState(""),[p,v]=S.useState(""),[x,_]=S.useState(""),[w,C]=S.useState([]),[T,N]=S.useState({});S.useEffect(()=>{t&&(d({id:n.id||"",name:n.name||"",zh_description:n.zh_description||"",zh_system_prompt:n.zh_system_prompt||"",en_description:n.en_description||"",en_system_prompt:n.en_system_prompt||"",mcp:n.mcp||[],tool_list:n.tool_list||[],handoff_tool:n.handoff_tool||[]}),C([]),N({}))},[t,n]);const k=()=>{const V={};return u.id.trim()?(e==="add"&&s.some(X=>X.id===u.id)||e==="edit"&&l&&u.id!==l&&s.some(X=>X.id===u.id))&&(V.id="Agent ID已存在"):V.id="Agent ID不能为空",u.name.trim()||(V.name="Agent名称不能为空"),u.zh_description.trim()||(V.zh_description="中文描述不能为空"),u.zh_system_prompt.trim()||(V.zh_system_prompt="中文系统提示词不能为空"),u.en_description.trim()||(V.en_description="英文描述不能为空"),u.en_system_prompt.trim()||(V.en_system_prompt="英文系统提示词不能为空"),N(V),Object.keys(V).length===0},A=V=>{const{name:X,value:J}=V.target;d(ie=>({...ie,[X]:J})),T[X]&&N(ie=>{const R={...ie};return delete R[X],R})},O=()=>{h.trim()&&!u.mcp.includes(h.trim())&&(d(V=>({...V,mcp:[...V.mcp,h.trim()]})),m(""))},P=V=>{d(X=>({...X,mcp:X.mcp.filter(J=>J!==V)}))},j=()=>{p.trim()&&!u.tool_list.includes(p.trim())&&(d(V=>({...V,tool_list:[...V.tool_list,p.trim()]})),v(""))},D=V=>{d(X=>({...X,tool_list:X.tool_list.filter(J=>J!==V)}))},z=()=>{x.trim()&&!u.handoff_tool.includes(x.trim())&&(d(V=>({...V,handoff_tool:[...V.handoff_tool,x.trim()]})),_(""))},I=V=>{d(X=>({...X,handoff_tool:X.handoff_tool.filter(J=>J!==V)}))},H=V=>{if(V.preventDefault(),k()){const X=R9(u);X.length===0?o(u):C(X)}};return t?g.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:g.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[g.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:g.jsx("h3",{className:"text-lg font-medium text-gray-900",children:e==="add"?"添加新Agent":"编辑Agent"})}),g.jsxs("form",{onSubmit:H,children:[g.jsxs("div",{className:"px-6 py-4 space-y-6",children:[w.length>0&&g.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:g.jsxs("div",{className:"flex",children:[g.jsx("div",{className:"flex-shrink-0",children:g.jsx("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:g.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),g.jsxs("div",{className:"ml-3",children:[g.jsx("h3",{className:"text-sm font-medium text-red-800",children:"表单验证失败"}),g.jsx("div",{className:"mt-2 text-sm text-red-700",children:g.jsx("ul",{className:"list-disc space-y-1 pl-5",children:w.map((V,X)=>g.jsx("li",{children:V},X))})})]})]})}),g.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[g.jsxs("div",{children:[g.jsx("label",{htmlFor:"id",className:"block text-sm font-medium text-gray-700",children:"Agent ID *"}),g.jsx("input",{type:"text",id:"id",name:"id",value:u.id,onChange:A,className:`mt-1 block w-full border ${T.id?"border-red-300":"border-gray-300"} rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm`,disabled:e==="edit"}),T.id&&g.jsx("p",{className:"mt-1 text-sm text-red-600",children:T.id})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Agent名称 *"}),g.jsx("input",{type:"text",id:"name",name:"name",value:u.name,onChange:A,className:`mt-1 block w-full border ${T.name?"border-red-300":"border-gray-300"} rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm`}),T.name&&g.jsx("p",{className:"mt-1 text-sm text-red-600",children:T.name})]}),g.jsxs("div",{className:"md:col-span-2",children:[g.jsx("label",{htmlFor:"zh_description",className:"block text-sm font-medium text-gray-700",children:"中文描述 *"}),g.jsx("input",{type:"text",id:"zh_description",name:"zh_description",value:u.zh_description,onChange:A,className:`mt-1 block w-full border ${T.zh_description?"border-red-300":"border-gray-300"} rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm`}),T.zh_description&&g.jsx("p",{className:"mt-1 text-sm text-red-600",children:T.zh_description})]}),g.jsxs("div",{className:"md:col-span-2",children:[g.jsx("label",{htmlFor:"zh_system_prompt",className:"block text-sm font-medium text-gray-700",children:"中文系统提示词 *"}),g.jsx("textarea",{id:"zh_system_prompt",name:"zh_system_prompt",rows:6,value:u.zh_system_prompt,onChange:A,className:`mt-1 block w-full border ${T.zh_system_prompt?"border-red-300":"border-gray-300"} rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm`}),T.zh_system_prompt&&g.jsx("p",{className:"mt-1 text-sm text-red-600",children:T.zh_system_prompt})]}),g.jsxs("div",{className:"md:col-span-2",children:[g.jsx("label",{htmlFor:"en_description",className:"block text-sm font-medium text-gray-700",children:"英文描述 *"}),g.jsx("input",{type:"text",id:"en_description",name:"en_description",value:u.en_description,onChange:A,className:`mt-1 block w-full border ${T.en_description?"border-red-300":"border-gray-300"} rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm`}),T.en_description&&g.jsx("p",{className:"mt-1 text-sm text-red-600",children:T.en_description})]}),g.jsxs("div",{className:"md:col-span-2",children:[g.jsx("label",{htmlFor:"en_system_prompt",className:"block text-sm font-medium text-gray-700",children:"英文系统提示词 *"}),g.jsx("textarea",{id:"en_system_prompt",name:"en_system_prompt",rows:6,value:u.en_system_prompt,onChange:A,className:`mt-1 block w-full border ${T.en_system_prompt?"border-red-300":"border-gray-300"} rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm`}),T.en_system_prompt&&g.jsx("p",{className:"mt-1 text-sm text-red-600",children:T.en_system_prompt})]}),g.jsxs("div",{className:"md:col-span-2",children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"MCP工具"}),g.jsxs("div",{className:"mt-1 flex",children:[g.jsx("input",{type:"text",value:h,onChange:V=>m(V.target.value),className:"flex-1 border border-gray-300 rounded-l-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"输入MCP工具名称"}),g.jsx("button",{type:"button",onClick:O,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-r-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"添加"})]}),g.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:u.mcp.map((V,X)=>g.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800",children:[V,g.jsx("button",{type:"button",onClick:()=>P(V),className:"flex-shrink-0 ml-2 h-4 w-4 rounded-full inline-flex items-center justify-center text-blue-400 hover:bg-blue-200 hover:text-blue-500 focus:outline-none focus:bg-blue-500 focus:text-white",children:g.jsx("svg",{className:"h-2 w-2",stroke:"currentColor",fill:"none",viewBox:"0 0 8 8",children:g.jsx("path",{strokeLinecap:"round",strokeWidth:"1.5",d:"M1 1l6 6m0-6L1 7"})})})]},X))})]}),g.jsxs("div",{className:"md:col-span-2",children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"工具列表"}),g.jsxs("div",{className:"mt-1 flex",children:[g.jsx("input",{type:"text",value:p,onChange:V=>v(V.target.value),className:"flex-1 border border-gray-300 rounded-l-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"输入工具名称"}),g.jsx("button",{type:"button",onClick:j,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-r-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"添加"})]}),g.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:u.tool_list.map((V,X)=>g.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800",children:[V,g.jsx("button",{type:"button",onClick:()=>D(V),className:"flex-shrink-0 ml-2 h-4 w-4 rounded-full inline-flex items-center justify-center text-green-400 hover:bg-green-200 hover:text-green-500 focus:outline-none focus:bg-green-500 focus:text-white",children:g.jsx("svg",{className:"h-2 w-2",stroke:"currentColor",fill:"none",viewBox:"0 0 8 8",children:g.jsx("path",{strokeLinecap:"round",strokeWidth:"1.5",d:"M1 1l6 6m0-6L1 7"})})})]},X))})]}),g.jsxs("div",{className:"md:col-span-2",children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"交接工具"}),g.jsxs("div",{className:"mt-1 flex",children:[g.jsx("input",{type:"text",value:x,onChange:V=>_(V.target.value),className:"flex-1 border border-gray-300 rounded-l-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"输入交接工具名称"}),g.jsx("button",{type:"button",onClick:z,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-r-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"添加"})]}),g.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:u.handoff_tool.map((V,X)=>g.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-purple-100 text-purple-800",children:[V,g.jsx("button",{type:"button",onClick:()=>I(V),className:"flex-shrink-0 ml-2 h-4 w-4 rounded-full inline-flex items-center justify-center text-purple-400 hover:bg-purple-200 hover:text-purple-500 focus:outline-none focus:bg-purple-500 focus:text-white",children:g.jsx("svg",{className:"h-2 w-2",stroke:"currentColor",fill:"none",viewBox:"0 0 8 8",children:g.jsx("path",{strokeLinecap:"round",strokeWidth:"1.5",d:"M1 1l6 6m0-6L1 7"})})})]},X))})]})]})]}),g.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end space-x-3",children:[g.jsx("button",{type:"button",onClick:i,className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"取消"}),g.jsx("button",{type:"submit",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:e==="add"?"添加":"保存"})]})]})]})}):null},M9=()=>{const[t,e]=S.useState([]),[n,s]=S.useState({}),[i,o]=S.useState(!1),[l,u]=S.useState("add"),[d,h]=S.useState(!1),[m,p]=S.useState(),[v,x]=S.useState(),_=async()=>{try{h(!0),p(void 0);const P=await k9();e(P)}catch(P){p(P instanceof Error?P.message:"加载Agent配置失败")}finally{h(!1)}};S.useEffect(()=>{_()},[]);const w=()=>{s({}),u("add"),x(void 0),o(!0)},C=P=>{s(P),u("edit"),x(P.id),o(!0)},T=async P=>{try{h(!0),p(void 0),await N9(P),e(j=>j.filter(D=>D.id!==P))}catch(j){p(j instanceof Error?j.message:"删除Agent配置失败")}finally{h(!1)}},N=async P=>{try{h(!0),p(void 0),l==="add"?await c2(P):l==="edit"&&v&&await u2(v,P),o(!1),await _()}catch(j){p(j instanceof Error?j.message:"提交Agent配置失败")}finally{h(!1)}},k=()=>{_()},A=async()=>{try{await A9()}catch(P){p(P instanceof Error?P.message:"导出Agent配置失败")}},O=P=>{var z;const j=(z=P.target.files)==null?void 0:z[0];if(!j)return;const D=new FileReader;D.onload=async I=>{var H;try{const V=(H=I.target)==null?void 0:H.result,X=JSON.parse(V);if(!Array.isArray(X))throw new Error("导入的文件格式不正确，应为Agent配置数组");h(!0),p(void 0);for(const J of X)try{t.find(R=>R.id===J.id)?await u2(J.id,J):await c2(J)}catch(ie){console.error(`处理Agent ${J.id} 时出错:`,ie)}await _(),P.target&&(P.target.value="")}catch(V){p(V instanceof Error?V.message:"导入Agent配置失败")}finally{h(!1)}},D.readAsText(j)};return g.jsxs("div",{className:"bg-white rounded-lg shadow",children:[g.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:g.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center space-y-4 sm:space-y-0",children:[g.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Agent配置管理"}),g.jsxs("div",{className:"flex flex-wrap gap-2",children:[g.jsx("button",{onClick:w,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",disabled:d,children:"添加新Agent"}),g.jsx("button",{onClick:k,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",disabled:d,children:"刷新"}),g.jsx("button",{onClick:A,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",disabled:d,children:"导出配置"}),g.jsxs("label",{className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 cursor-pointer focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:["导入配置",g.jsx("input",{type:"file",accept:".json",onChange:O,className:"hidden",disabled:d})]})]})]})}),g.jsx("div",{className:"px-6 py-4",children:g.jsx(T9,{agents:t,onEdit:C,onDelete:T,loading:d,error:m})}),g.jsx(j9,{isOpen:i,mode:l,agentData:n,existingAgents:t,onClose:()=>o(!1),onSubmit:N,originalAgentId:v})]})},O9=()=>g.jsx("div",{className:"p-4",children:g.jsx(M9,{})}),D9=({comfyConfigs:t,onEdit:e,onDelete:n,loading:s,error:i})=>{const{theme:o}=Ya(),l=d=>{window.confirm(`确定要删除ComfyUI配置 "${d}" 吗？`)&&n(d)},u=d=>({ComfyUI:{className:"bg-blue-100 text-blue-800",icon:"⚙️"}})[d]||{className:"bg-gray-100 text-gray-800",icon:"📄"};return s?g.jsxs("div",{className:"flex justify-center items-center py-16",children:[g.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"}),g.jsx("span",{className:"ml-4 text-gray-600 dark:text-gray-300 text-lg",children:"正在加载ComfyUI配置..."})]}):i?g.jsxs("div",{className:"bg-red-50 dark:bg-red-900/30 text-red-700 dark:text-red-300 p-6 rounded-xl border border-red-200 dark:border-red-800 mt-6 shadow-sm max-w-2xl mx-auto",children:[g.jsxs("div",{className:"flex items-center",children:[g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),g.jsx("p",{className:"font-semibold text-lg",children:"加载失败"})]}),g.jsx("p",{className:"mt-2 text-sm",children:i})]}):t.length===0?g.jsxs("div",{className:"text-center py-20 bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-2xl border-2 border-dashed border-blue-200 dark:border-blue-800 mt-6 max-w-2xl mx-auto",children:[g.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-blue-100 text-blue-600 mb-6",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),g.jsx("h3",{className:"text-2xl font-bold text-gray-800 dark:text-gray-200 mb-2",children:"暂无ComfyUI配置"}),g.jsx("p",{className:"text-gray-600 dark:text-gray-400 max-w-md mx-auto",children:'点击"添加新配置"按钮创建您的第一个ComfyUI配置'})]}):g.jsx("div",{className:"space-y-4",children:t.map((d,h)=>{const m=u(d.task_type);return g.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6 shadow-sm hover:shadow-lg transition-all duration-300 hover:border-blue-300 dark:hover:border-blue-700 transform hover:-translate-y-0.5",children:[g.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start justify-between gap-4 mb-4",children:[g.jsxs("div",{className:"flex items-start flex-1",children:[g.jsx("div",{className:`flex items-center justify-center w-12 h-12 rounded-lg ${m.className} text-xl mr-4 flex-shrink-0`,children:m.icon}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-2",children:[g.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${m.className}`,children:d.task_type}),g.jsx("h4",{className:"text-xl font-bold text-gray-900 dark:text-gray-100 truncate",children:d.task_name}),g.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-indigo-100 text-indigo-800 dark:bg-indigo-900 dark:text-indigo-300",children:[d.usage_type==="video"&&"视频",d.usage_type==="image"&&"图片",d.usage_type==="audio"&&"音频",d.usage_type==="text"&&"文本"]})]}),g.jsx("p",{className:"text-gray-600 dark:text-gray-400 leading-relaxed whitespace-pre-line mt-2",children:d.task_description})]})]}),g.jsxs("div",{className:"flex space-x-2 flex-shrink-0",children:[g.jsxs("button",{onClick:()=>e(d),className:"px-4 py-2 text-sm font-medium bg-blue-500 text-white rounded-lg hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors flex items-center",children:[g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"编辑"]}),g.jsxs("button",{onClick:()=>l(d.task_name),className:"px-4 py-2 text-sm font-medium bg-red-500 text-white rounded-lg hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors flex items-center",children:[g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"删除"]})]})]}),g.jsxs("div",{className:"flex items-center pt-4 mt-4 border-t border-gray-100",children:[g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-400 dark:text-gray-500 mr-2 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})}),g.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400 mr-2",children:"工作流名称:"}),g.jsx("span",{className:"text-sm font-medium text-gray-800 dark:text-gray-300 truncate",children:d.workflow_name||"未设置"})]}),g.jsxs("div",{className:"flex items-center pt-2 mt-2",children:[g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-400 dark:text-gray-500 mr-2 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),g.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400 mr-2",children:"用途类型:"}),g.jsxs("span",{className:"text-sm font-medium text-gray-800 dark:text-gray-300",children:[d.usage_type==="video"&&"视频",d.usage_type==="image"&&"图片",d.usage_type==="audio"&&"音频",d.usage_type==="text"&&"文本",!d.usage_type&&"未设置"]})]}),d.task_agent&&g.jsxs("div",{className:"flex items-center pt-2 mt-2",children:[g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-400 dark:text-gray-500 mr-2 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a1.994 1.994 0 01-1.414-.586m0 0L11 14h4a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2v4l.586-.586z"})}),g.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400 mr-2",children:"Agent配置:"}),g.jsx("span",{className:"text-sm font-medium text-gray-800 dark:text-gray-300 truncate",children:d.task_agent})]})]},d.task_name)})})},pb=async()=>{try{const t=await fetch("/api/task-configs?task_type=ComfyUI");if(!t.ok)throw new Error(`获取ComfyUI配置失败: ${t.statusText}`);return await t.json()}catch(t){throw console.error("获取ComfyUI配置时出错:",t),t}},d2=async t=>{try{const e={...t,task_type:"ComfyUI"},n=await fetch("/api/task-configs",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!n.ok){const s=await n.json();throw new Error(s.detail||"创建ComfyUI配置失败")}return await n.json()}catch(e){throw console.error("创建ComfyUI配置时出错:",e),e}},f2=async(t,e)=>{try{const n={...e,task_type:"ComfyUI"},s=await fetch(`/api/task-configs/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!s.ok){const i=await s.json();throw new Error(i.detail||"更新ComfyUI配置失败")}return await s.json()}catch(n){throw console.error("更新ComfyUI配置时出错:",n),n}},P9=async t=>{try{const e=await fetch(`/api/task-configs/${t}`,{method:"DELETE"});if(!e.ok){const n=await e.json();throw new Error(n.detail||"删除ComfyUI配置失败")}}catch(e){throw console.error("删除ComfyUI配置时出错:",e),e}},L9=t=>{const e=[];(!t.task_name||t.task_name.trim()==="")&&e.push("任务名称不能为空"),(!t.task_description||t.task_description.trim()==="")&&e.push("任务描述不能为空");const n=["video","image","audio","text"];if(t.usage_type&&!n.includes(t.usage_type)&&e.push("用途类型必须为 video、image、audio 或 text"),!t.workflow_json)e.push("工作流JSON配置不能为空");else{const s=JSON.parse(t.workflow_json);(typeof s!="object"||s===null)&&e.push("工作流JSON配置必须是有效的对象")}return e},I9=({initialData:t,onSubmit:e,onCancel:n,existingConfigs:s,mode:i,originalConfigName:o})=>{const{theme:l}=Ya(),[u,d]=S.useState({task_name:t.task_name||"",task_type:"ComfyUI",task_description:t.task_description||"",workflow_name:t.workflow_name||"",task_agent:t.task_agent||"",workflow_json:t.workflow_json||"",usage_type:t.usage_type||"image"}),[h,m]=S.useState([]),[p,v]=S.useState(!1),[x,_]=S.useState("basic"),[w,C]=S.useState([]),[T,N]=S.useState([]);S.useEffect(()=>{(async()=>{try{const D=await fetch("/api/agent-config-keys");if(D.ok){const z=await D.json();N(z)}else console.error("Failed to fetch agent config keys")}catch(D){console.error("Error fetching agent config keys:",D)}})()},[]),S.useEffect(()=>{if(d({task_name:t.task_name||"",task_type:"ComfyUI",task_description:t.task_description||"",workflow_name:t.workflow_name||"",task_agent:t.task_agent||"",workflow_json:t.workflow_json||"",usage_type:t.usage_type||"image"}),m([]),t.workflow_json)try{const j=JSON.parse(t.workflow_json);C([])}catch(j){console.error("解析初始工作流JSON时出错:",j),C([])}else C([])},[t]);const k=j=>{const{name:D,value:z}=j.target;d(I=>({...I,[D]:z})),h.length>0&&m([])},A=j=>s.some(D=>D.task_name===j&&(!t.task_name||D.task_name!==t.task_name)),O=j=>{console.log("处理工作流JSON加载:",j),d(D=>({...D,workflow_json:JSON.stringify(j.api_json),workflow_name:j.name||""})),C(j.inputs),m([])},P=async j=>{j.preventDefault();const D=L9(u);if(!D.some(z=>z.includes("任务名称"))&&A(u.task_name)&&D.push("任务名称已存在"),D.length>0){m(D);return}try{v(!0),await e(u)}catch(z){m([z instanceof Error?z.message:"提交失败，请重试"])}finally{v(!1)}};return g.jsxs("form",{onSubmit:P,className:"space-y-6",children:[h.length>0&&g.jsxs("div",{className:"bg-red-50 dark:bg-red-900/30 text-red-700 dark:text-red-300 p-4 rounded-lg border border-red-200 dark:border-red-800",children:[g.jsx("h4",{className:"font-semibold text-lg mb-2",children:"提交失败"}),g.jsx("ul",{className:"list-disc list-inside space-y-1",children:h.map((j,D)=>g.jsx("li",{children:j},D))})]}),g.jsxs("div",{children:[g.jsxs("button",{type:"button",onClick:()=>_(x==="basic"?"advanced":"basic"),className:"flex items-center justify-between w-full text-left px-4 py-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800 hover:bg-blue-100 dark:hover:bg-blue-900/30 transition-colors",children:[g.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:"基本信息"}),g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-5 w-5 text-gray-500 transition-transform duration-200 ${x==="basic"?"transform rotate-180":""}`,viewBox:"0 0 20 20",fill:"currentColor",children:g.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),x==="basic"&&g.jsxs("div",{className:"mt-4 space-y-4 pl-4 border-l-2 border-blue-200 dark:border-blue-800",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{htmlFor:"task_name",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"任务名称"}),g.jsx("input",{type:"text",id:"task_name",name:"task_name",value:u.task_name,onChange:k,className:"w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"输入任务名称",disabled:p})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{htmlFor:"workflow_name",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"工作流名称"}),g.jsx("input",{type:"text",id:"workflow_name",name:"workflow_name",value:u.workflow_name,readOnly:!0,className:"w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-gray-100 rounded-md",placeholder:"工作流名称（导入工作流时自动填充）"})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{htmlFor:"task_description",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"任务描述"}),g.jsx("textarea",{id:"task_description",name:"task_description",value:u.task_description,onChange:k,rows:3,className:"w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"输入任务描述",disabled:p})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{htmlFor:"task_agent",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Agent配置（可选）"}),g.jsxs("select",{id:"task_agent",name:"task_agent",value:u.task_agent,onChange:k,className:"w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",disabled:p,children:[g.jsx("option",{value:"",children:"请选择Agent配置（可选）"}),T.map(j=>g.jsx("option",{value:j,children:j},j))]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{htmlFor:"usage_type",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"用途类型"}),g.jsxs("select",{id:"usage_type",name:"usage_type",value:u.usage_type||"image",onChange:k,className:"w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",disabled:p,children:[g.jsx("option",{value:"video",children:"视频"}),g.jsx("option",{value:"image",children:"图片"}),g.jsx("option",{value:"audio",children:"音频"}),g.jsx("option",{value:"text",children:"文本"})]})]})]})]}),g.jsxs("div",{children:[g.jsxs("button",{type:"button",onClick:()=>_(x==="advanced"?"basic":"advanced"),className:"flex items-center justify-between w-full text-left px-4 py-3 bg-purple-50 dark:bg-purple-900/20 rounded-lg border border-purple-200 dark:border-purple-800 hover:bg-purple-100 dark:hover:bg-purple-900/30 transition-colors",children:[g.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:"高级配置 - JSON文件导入"}),g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-5 w-5 text-gray-500 transition-transform duration-200 ${x==="advanced"?"transform rotate-180":""}`,viewBox:"0 0 20 20",fill:"currentColor",children:g.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),x==="advanced"&&g.jsx("div",{className:"mt-4 space-y-4 pl-4 border-l-2 border-purple-200 dark:border-purple-800",children:g.jsxs("div",{className:"space-y-4",children:[g.jsx("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"导入ComfyUI工作流API JSON *"}),g.jsx(aO,{onWorkflowLoaded:O,disabled:p}),w.length>0&&g.jsx("div",{className:"p-3 bg-green-50 dark:bg-green-900/20 rounded-md border border-green-200 dark:border-green-800",children:g.jsxs("div",{className:"flex items-start gap-2",children:[g.jsx("svg",{className:"h-4 w-4 text-green-600 dark:text-green-400 shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 10h4.764a2 2 0 011.789 2.894l-3.5 7A2 2 0 0115.263 21h-4.017c-.163 0-.326-.02-.485-.06L7 20m7-10V5a2 2 0 00-2-2h-.095c-.5 0-.905.405-.905.905 0 .714-.211 1.412-.608 2.006L7 11v9m7-10h-2M7 20H5a2 2 0 01-2-2v-6a2 2 0 012-2h2.5"})}),g.jsxs("div",{children:[g.jsx("h4",{className:"text-xs font-medium text-green-800 dark:text-green-400",children:"工作流已成功导入"}),g.jsxs("p",{className:"text-xs text-green-700/80 dark:text-green-400/80 mt-1",children:["系统已自动解析工作流并提取了 ",w.length," 个可配置的输入参数。"]})]})]})}),g.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"请确保从ComfyUI导出的是API JSON格式（菜单 --工作流 -- 导出（API）JSON）。 系统将自动解析工作流结构并提取可配置的输入参数。"})]})})]}),g.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200 dark:border-gray-700",children:[g.jsx("button",{type:"button",onClick:n,className:"px-3 py-1.5 text-sm border border-gray-300 dark:border-gray-600 rounded-md shadow-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",disabled:p,children:"取消"}),g.jsx("button",{type:"submit",className:"px-3 py-1.5 text-sm border border-transparent rounded-md shadow-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",disabled:p,children:p?g.jsxs("span",{className:"flex items-center",children:[g.jsxs("svg",{className:"animate-spin -ml-1 mr-1 h-3 w-3 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[g.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),g.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"提交中..."]}):i==="add"?"添加配置":"更新配置"})]})]})},F9=({isOpen:t,onClose:e,onSubmit:n,configData:s,mode:i,existingConfigs:o,originalTaskName:l})=>g.jsx(Ki,{open:t,onOpenChange:u=>{u||e()},children:g.jsxs(Qo,{className:"sm:max-w-[650px]",children:[g.jsxs($c,{children:[g.jsx(Hc,{children:i==="add"?"添加ComfyUI配置":"编辑ComfyUI配置"}),g.jsx(Ax,{children:i==="add"?"添加新的ComfyUI配置，包括任务名称、任务描述、工作流名称和工作流JSON。":"编辑现有的ComfyUI配置。确保任务名称唯一。"})]}),g.jsx(I9,{initialData:s,onSubmit:n,onCancel:e,existingConfigs:o,mode:i,originalConfigName:l}),g.jsx(Hd,{className:"hidden"})]})}),z9=()=>{const[t,e]=S.useState([]),[n,s]=S.useState(!0),[i,o]=S.useState(null),[l,u]=S.useState(!1),[d,h]=S.useState({}),[m,p]=S.useState("add"),[v,x]=S.useState(""),[_,w]=S.useState(null),C=async()=>{try{s(!0),o(null);const H=await pb();e(H)}catch(H){o(H instanceof Error?H.message:"加载ComfyUI配置失败"),console.error("加载ComfyUI配置时出错:",H)}finally{s(!1)}};S.useEffect(()=>{C()},[]);const T=()=>{p("add"),h({}),x("添加ComfyUI配置"),u(!0)},N=H=>{console.log("打开编辑配置对话框:",H),p("edit"),h(H),x("编辑ComfyUI配置"),u(!0)},k=async H=>{try{await P9(H),await C()}catch(V){o(V instanceof Error?V.message:"删除配置失败"),console.error("删除配置时出错:",V)}},A=async H=>{try{m==="add"?await d2(H):await f2(H.task_name,H),u(!1),await C()}catch(V){throw V}},O=()=>{u(!1)},P=H=>{const V=["task_name","task_type","task_description","workflow_name","task_agent","available","usage_type","workflow_json"];return[V.join("	"),...H.map(J=>V.map(ie=>{const R=J[ie]||"";return typeof R=="string"&&ie==="workflow_json"?R.replace(/\n/g,""):R}).join("	"))].join(`
`)},j=async()=>{try{o(null);const H=await pb(),V=P(H),X=new Blob(["\uFEFF"+V],{type:"text/csv;charset=utf-8;"}),J=URL.createObjectURL(X),ie=document.createElement("a");ie.setAttribute("href",J),ie.setAttribute("download","comfy-configs.csv"),ie.style.visibility="hidden",document.body.appendChild(ie),ie.click(),document.body.removeChild(ie)}catch(H){o(H instanceof Error?H.message:"导出配置失败")}},D=H=>{const V=H.split(`
`);if(V.length<2)throw new Error("CSV文件格式不正确，至少需要包含标题行和一行数据");const J=V[0].replace(/^\ufeff/,"").split("	").map(F=>F.trim()),ie=["task_name","task_type","task_description","workflow_name","task_agent","available","usage_type","workflow_json"],R=ie.filter(F=>!J.includes(F));if(R.length>0)throw new Error(`CSV文件缺少必要的字段: ${R.join(", ")}`);const B=[];for(let F=1;F<V.length;F++){const se=V[F].trim();if(!se)continue;const W=se.split("	"),L={};for(let Y=0;Y<J.length;Y++){const ee=J[Y];ie.includes(ee)&&(L[ee]=W[Y]||"")}const $=J.indexOf("available");if($>=0&&(L.available=W[$].toLowerCase()==="true"),L.task_name&&L.task_type&&L.task_description&&L.task_agent){const Y={task_name:L.task_name||"",task_type:L.task_type||"ComfyUI",task_description:L.task_description||"",workflow_name:L.workflow_name||"",task_agent:L.task_agent||"",workflow_json:L.workflow_json||"",available:L.available!==void 0?L.available:!0,usage_type:L.usage_type||""};B.push(Y)}}return B},z=async H=>{var J;const V=(J=H.target.files)==null?void 0:J[0];if(!V)return;const X=new FileReader;X.onload=async ie=>{var F;s(!0),w(null),o(null);const R=(F=ie.target)==null?void 0:F.result,B=D(R);if(!Array.isArray(B)||B.length===0){w("导入的CSV文件中未找到有效的工作流配置"),s(!1);return}for(const se of B)t.find(L=>L.task_name===se.task_name)?await f2(se.task_name,se):await d2(se);await C(),H.target&&(H.target.value=""),s(!1)},X.readAsText(V)},I=async()=>{await C()};return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-2",children:[g.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:"ComfyUI 工作流管理"}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx(Be,{onClick:T,children:"添加工作流配置"}),g.jsx(Be,{onClick:I,variant:"secondary",children:"刷新"}),g.jsx(Be,{onClick:j,variant:"secondary",children:"导出配置"}),g.jsxs("label",{className:"relative",children:[g.jsx("input",{type:"file",accept:".csv",onChange:z,className:"absolute inset-0 opacity-0 cursor-pointer"}),g.jsx(Be,{variant:"secondary",children:"导入配置"})]})]})]}),(i||_)&&g.jsx("div",{className:"bg-red-50 dark:bg-red-900/30 text-red-700 dark:text-red-300 p-4 rounded-lg border border-red-200 dark:border-red-800",children:i||_}),g.jsx(D9,{comfyConfigs:t,loading:n,onEdit:N,onDelete:k,error:i||void 0}),g.jsx(F9,{isOpen:l,onClose:O,onSubmit:A,configData:d,mode:m,existingConfigs:t,originalTaskName:d.task_name})]})},B9=()=>{const[t,e]=S.useState("http://localhost:8188"),[n,s]=S.useState("unknown"),[i,o]=S.useState(!1),[l,u]=S.useState("idle"),[d,h]=S.useState(""),m=_=>{if(!_)return!1;try{const w=new URL(_);return w.protocol==="http:"||w.protocol==="https:"}catch{return!1}};S.useEffect(()=>{(async()=>{try{const w=await fetch("/api/config/comfyui_url");if(w.ok)try{const C=await w.json(),T=(C==null?void 0:C.url)||C;T&&e(T)}catch{const C=await w.text();C&&e(C)}}catch(w){console.error("加载ComfyUI URL失败:",w)}})()},[]),S.useEffect(()=>{if(!m(t)){s("unknown");return}const w=setTimeout(async()=>{var C,T,N,k;try{const A=await fetch("/api/comfyui/object_info",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:t})});if(A.ok){const O=await A.json();s((k=(N=(T=(C=O==null?void 0:O.CheckpointLoaderSimple)==null?void 0:C.input)==null?void 0:T.required)==null?void 0:N.ckpt_name)!=null&&k[0]?"connected":"disconnected")}else s("disconnected")}catch{s("disconnected")}},800);return()=>clearTimeout(w)},[t]);const p=async()=>{if(!m(t)){u("error"),h("请输入有效的URL");return}if(!i){o(!0),u("idle");try{if((await fetch("/api/config",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({COMFYUI_URL:{url:t}})})).ok)u("success"),h("保存成功"),setTimeout(()=>{u("idle"),h("")},3e3);else throw new Error("保存失败")}catch(_){console.error("保存ComfyUI URL失败:",_),u("error"),h("保存失败，请重试")}finally{o(!1)}}},v=async()=>{try{const _=await fetch("/api/config/comfyui_url");if(_.ok){try{const w=await _.json(),C=(w==null?void 0:w.url)||w;C&&e(C)}catch{const w=await _.text();w&&e(w)}u("success"),h("重新加载成功"),setTimeout(()=>{u("idle"),h("")},2e3)}}catch(_){console.error("重新加载URL失败:",_)}},x=()=>n==="unknown"?null:g.jsx("div",{className:"flex items-center gap-1.5",children:n==="connected"?g.jsxs(g.Fragment,{children:[g.jsx(VI,{className:"h-4 w-4 text-green-500"}),g.jsx("span",{className:"text-sm text-green-600",children:"已连通"})]}):g.jsxs(g.Fragment,{children:[g.jsx(Xh,{className:"h-4 w-4 text-amber-500"}),g.jsx("span",{className:"text-sm text-amber-600",children:"未连通"})]})});return g.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow border border-gray-200 dark:border-gray-700 p-4",children:[g.jsx("h3",{className:"text-lg font-bold mb-4 text-gray-800 dark:text-white",children:"ComfyUI 连接设置"}),g.jsxs("div",{className:"space-y-3",children:[g.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[g.jsx(ni,{value:t,onChange:_=>e(_.target.value),placeholder:"http://localhost:8188",className:`flex-1 min-w-[200px] ${!m(t)&&t?"border-red-500 focus:border-red-500 focus:ring-red-200":"border-gray-300 dark:border-gray-600 focus:border-blue-500 focus:ring-blue-200"}`}),g.jsx(Be,{onClick:p,disabled:i,className:"gap-1 whitespace-nowrap",children:i?"保存中...":g.jsxs(g.Fragment,{children:[g.jsx(kx,{className:"h-4 w-4"}),g.jsx("span",{children:"保存"})]})}),g.jsxs(Be,{onClick:v,variant:"secondary",className:"gap-1 whitespace-nowrap",children:[g.jsx(PA,{className:"h-4 w-4"}),g.jsx("span",{children:"刷新"})]}),g.jsx("div",{className:"whitespace-nowrap",children:x()})]}),g.jsxs("div",{className:"space-y-1",children:[!m(t)&&t&&g.jsxs("div",{className:"flex items-center gap-1.5 text-red-500",children:[g.jsx(Xh,{className:"h-4 w-4"}),g.jsx("span",{className:"text-sm",children:"请输入有效的URL地址"})]}),l!=="idle"&&g.jsxs("div",{className:`flex items-center gap-1.5 ${l==="success"?"text-green-600":"text-red-500"}`,children:[l==="success"?g.jsx(Ex,{className:"h-4 w-4"}):g.jsx(Xh,{className:"h-4 w-4"}),g.jsx("span",{className:"text-sm",children:d})]})]})]})]})},U9=()=>{const[t,e]=S.useState({comfyUrl:""}),[n,s]=S.useState([]);return S.useEffect(()=>{(async()=>{try{const o=await pb();s(o)}catch(o){console.error("加载ComfyUI配置失败:",o)}})()},[]),g.jsxs("div",{className:"space-y-6",children:[g.jsx(B9,{}),g.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-4",children:g.jsx(z9,{})})]})},V9=()=>{const{showSettingsDialog:t,setShowSettingsDialog:e}=Dx(),{t:n}=Us(),[s,i]=S.useState("provider"),[o,l]=S.useState(!1),u=bF();S.useEffect(()=>{(async()=>{const m=await RM();l(m)})()},[]);const d=()=>{switch(s){case"proxy":return g.jsx(d9,{});case"taskConfig":return o?g.jsx(E9,{}):g.jsx("div",{className:"p-4 text-center text-gray-500",children:"该功能仅在开发模式下可用"});case"agentManager":return g.jsx(O9,{});case"comfyConfig":return g.jsx(U9,{});case"provider":default:return g.jsx(b7,{})}};return g.jsx(Ki,{open:t,onOpenChange:e,children:g.jsx(mw,{open:t,transformPerspective:6e3,className:"flex flex-col p-0 gap-0 w-screen! h-screen! max-h-[100vh]! max-w-[100vw]! rounded-none! border-none! shadow-none!",children:g.jsxs(NH,{className:"h-[calc(100vh-60px)]! min-h-[calc(100vh-60px)]! flex-1 relative",children:[g.jsx(f9,{current:s,setCurrent:i,onClose:()=>{e(!1),u()}}),g.jsx(gV,{className:"max-h-[calc(100vh-50px)]! w-full",children:d()})]})})})},Le=t=>typeof t=="string",Hu=()=>{let t,e;const n=new Promise((s,i)=>{t=s,e=i});return n.resolve=t,n.reject=e,n},h2=t=>t==null?"":""+t,$9=(t,e,n)=>{t.forEach(s=>{e[s]&&(n[s]=e[s])})},H9=/###/g,p2=t=>t&&t.indexOf("###")>-1?t.replace(H9,"."):t,m2=t=>!t||Le(t),md=(t,e,n)=>{const s=Le(e)?e.split("."):e;let i=0;for(;i<s.length-1;){if(m2(t))return{};const o=p2(s[i]);!t[o]&&n&&(t[o]=new n),Object.prototype.hasOwnProperty.call(t,o)?t=t[o]:t={},++i}return m2(t)?{}:{obj:t,k:p2(s[i])}},g2=(t,e,n)=>{const{obj:s,k:i}=md(t,e,Object);if(s!==void 0||e.length===1){s[i]=n;return}let o=e[e.length-1],l=e.slice(0,e.length-1),u=md(t,l,Object);for(;u.obj===void 0&&l.length;)o=`${l[l.length-1]}.${o}`,l=l.slice(0,l.length-1),u=md(t,l,Object),u!=null&&u.obj&&typeof u.obj[`${u.k}.${o}`]<"u"&&(u.obj=void 0);u.obj[`${u.k}.${o}`]=n},q9=(t,e,n,s)=>{const{obj:i,k:o}=md(t,e,Object);i[o]=i[o]||[],i[o].push(n)},_p=(t,e)=>{const{obj:n,k:s}=md(t,e);if(n&&Object.prototype.hasOwnProperty.call(n,s))return n[s]},K9=(t,e,n)=>{const s=_p(t,n);return s!==void 0?s:_p(e,n)},oO=(t,e,n)=>{for(const s in e)s!=="__proto__"&&s!=="constructor"&&(s in t?Le(t[s])||t[s]instanceof String||Le(e[s])||e[s]instanceof String?n&&(t[s]=e[s]):oO(t[s],e[s],n):t[s]=e[s]);return t},zl=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var G9={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const Y9=t=>Le(t)?t.replace(/[&<>"'\/]/g,e=>G9[e]):t;class W9{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const s=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,s),this.regExpQueue.push(e),s}}const X9=[" ",",","?","!",";"],Q9=new W9(20),J9=(t,e,n)=>{e=e||"",n=n||"";const s=X9.filter(l=>e.indexOf(l)<0&&n.indexOf(l)<0);if(s.length===0)return!0;const i=Q9.getRegExp(`(${s.map(l=>l==="?"?"\\?":l).join("|")})`);let o=!i.test(t);if(!o){const l=t.indexOf(n);l>0&&!i.test(t.substring(0,l))&&(o=!0)}return o},mb=(t,e,n=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;const s=e.split(n);let i=t;for(let o=0;o<s.length;){if(!i||typeof i!="object")return;let l,u="";for(let d=o;d<s.length;++d)if(d!==o&&(u+=n),u+=s[d],l=i[u],l!==void 0){if(["string","number","boolean"].indexOf(typeof l)>-1&&d<s.length-1)continue;o+=d-o+1;break}i=l}return i},Md=t=>t==null?void 0:t.replace("_","-"),Z9={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){var n,s;(s=(n=console==null?void 0:console[t])==null?void 0:n.apply)==null||s.call(n,console,e)}};class Sp{constructor(e,n={}){this.init(e,n)}init(e,n={}){this.prefix=n.prefix||"i18next:",this.logger=e||Z9,this.options=n,this.debug=n.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,s,i){return i&&!this.debug?null:(Le(e[0])&&(e[0]=`${s}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new Sp(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new Sp(this.logger,e)}}var Wr=new Sp;class xm{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(s=>{this.observers[s]||(this.observers[s]=new Map);const i=this.observers[s].get(n)||0;this.observers[s].set(n,i+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e,...n){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([i,o])=>{for(let l=0;l<o;l++)i(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([i,o])=>{for(let l=0;l<o;l++)i.apply(i,[e,...n])})}}class v2 extends xm{constructor(e,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,s,i={}){var h,m;const o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,l=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let u;e.indexOf(".")>-1?u=e.split("."):(u=[e,n],s&&(Array.isArray(s)?u.push(...s):Le(s)&&o?u.push(...s.split(o)):u.push(s)));const d=_p(this.data,u);return!d&&!n&&!s&&e.indexOf(".")>-1&&(e=u[0],n=u[1],s=u.slice(2).join(".")),d||!l||!Le(s)?d:mb((m=(h=this.data)==null?void 0:h[e])==null?void 0:m[n],s,o)}addResource(e,n,s,i,o={silent:!1}){const l=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator;let u=[e,n];s&&(u=u.concat(l?s.split(l):s)),e.indexOf(".")>-1&&(u=e.split("."),i=n,n=u[1]),this.addNamespaces(n),g2(this.data,u,i),o.silent||this.emit("added",e,n,s,i)}addResources(e,n,s,i={silent:!1}){for(const o in s)(Le(s[o])||Array.isArray(s[o]))&&this.addResource(e,n,o,s[o],{silent:!0});i.silent||this.emit("added",e,n,s)}addResourceBundle(e,n,s,i,o,l={silent:!1,skipCopy:!1}){let u=[e,n];e.indexOf(".")>-1&&(u=e.split("."),i=s,s=n,n=u[1]),this.addNamespaces(n);let d=_p(this.data,u)||{};l.skipCopy||(s=JSON.parse(JSON.stringify(s))),i?oO(d,s,o):d={...d,...s},g2(this.data,u,d),l.silent||this.emit("added",e,n,s)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(i=>n[i]&&Object.keys(n[i]).length>0)}toJSON(){return this.data}}var lO={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,s,i){return t.forEach(o=>{var l;e=((l=this.processors[o])==null?void 0:l.process(e,n,s,i))??e}),e}};const y2={},b2=t=>!Le(t)&&typeof t!="boolean"&&typeof t!="number";class Cp extends xm{constructor(e,n={}){super(),$9(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Wr.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,n={interpolation:{}}){const s={...n};if(e==null)return!1;const i=this.resolve(e,s);return(i==null?void 0:i.res)!==void 0}extractFromKey(e,n){let s=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;s===void 0&&(s=":");const i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let o=n.ns||this.options.defaultNS||[];const l=s&&e.indexOf(s)>-1,u=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!J9(e,s,i);if(l&&!u){const d=e.match(this.interpolator.nestingRegexp);if(d&&d.length>0)return{key:e,namespaces:Le(o)?[o]:o};const h=e.split(s);(s!==i||s===i&&this.options.ns.indexOf(h[0])>-1)&&(o=h.shift()),e=h.join(i)}return{key:e,namespaces:Le(o)?[o]:o}}translate(e,n,s){let i=typeof n=="object"?{...n}:n;if(typeof i!="object"&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),typeof options=="object"&&(i={...i}),i||(i={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const o=i.returnDetails!==void 0?i.returnDetails:this.options.returnDetails,l=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,{key:u,namespaces:d}=this.extractFromKey(e[e.length-1],i),h=d[d.length-1];let m=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;m===void 0&&(m=":");const p=i.lng||this.language,v=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((p==null?void 0:p.toLowerCase())==="cimode")return v?o?{res:`${h}${m}${u}`,usedKey:u,exactUsedKey:u,usedLng:p,usedNS:h,usedParams:this.getUsedParamsDetails(i)}:`${h}${m}${u}`:o?{res:u,usedKey:u,exactUsedKey:u,usedLng:p,usedNS:h,usedParams:this.getUsedParamsDetails(i)}:u;const x=this.resolve(e,i);let _=x==null?void 0:x.res;const w=(x==null?void 0:x.usedKey)||u,C=(x==null?void 0:x.exactUsedKey)||u,T=["[object Number]","[object Function]","[object RegExp]"],N=i.joinArrays!==void 0?i.joinArrays:this.options.joinArrays,k=!this.i18nFormat||this.i18nFormat.handleAsObject,A=i.count!==void 0&&!Le(i.count),O=Cp.hasDefaultValue(i),P=A?this.pluralResolver.getSuffix(p,i.count,i):"",j=i.ordinal&&A?this.pluralResolver.getSuffix(p,i.count,{ordinal:!1}):"",D=A&&!i.ordinal&&i.count===0,z=D&&i[`defaultValue${this.options.pluralSeparator}zero`]||i[`defaultValue${P}`]||i[`defaultValue${j}`]||i.defaultValue;let I=_;k&&!_&&O&&(I=z);const H=b2(I),V=Object.prototype.toString.apply(I);if(k&&I&&H&&T.indexOf(V)<0&&!(Le(N)&&Array.isArray(I))){if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const X=this.options.returnedObjectHandler?this.options.returnedObjectHandler(w,I,{...i,ns:d}):`key '${u} (${this.language})' returned an object instead of string.`;return o?(x.res=X,x.usedParams=this.getUsedParamsDetails(i),x):X}if(l){const X=Array.isArray(I),J=X?[]:{},ie=X?C:w;for(const R in I)if(Object.prototype.hasOwnProperty.call(I,R)){const B=`${ie}${l}${R}`;O&&!_?J[R]=this.translate(B,{...i,defaultValue:b2(z)?z[R]:void 0,joinArrays:!1,ns:d}):J[R]=this.translate(B,{...i,joinArrays:!1,ns:d}),J[R]===B&&(J[R]=I[R])}_=J}}else if(k&&Le(N)&&Array.isArray(_))_=_.join(N),_&&(_=this.extendTranslation(_,e,i,s));else{let X=!1,J=!1;!this.isValidLookup(_)&&O&&(X=!0,_=z),this.isValidLookup(_)||(J=!0,_=u);const R=(i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&J?void 0:_,B=O&&z!==_&&this.options.updateMissing;if(J||X||B){if(this.logger.log(B?"updateKey":"missingKey",p,h,u,B?z:_),l){const L=this.resolve(u,{...i,keySeparator:!1});L&&L.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let F=[];const se=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if(this.options.saveMissingTo==="fallback"&&se&&se[0])for(let L=0;L<se.length;L++)F.push(se[L]);else this.options.saveMissingTo==="all"?F=this.languageUtils.toResolveHierarchy(i.lng||this.language):F.push(i.lng||this.language);const W=(L,$,Y)=>{var de;const ee=O&&Y!==_?Y:R;this.options.missingKeyHandler?this.options.missingKeyHandler(L,h,$,ee,B,i):(de=this.backendConnector)!=null&&de.saveMissing&&this.backendConnector.saveMissing(L,h,$,ee,B,i),this.emit("missingKey",L,h,$,_)};this.options.saveMissing&&(this.options.saveMissingPlurals&&A?F.forEach(L=>{const $=this.pluralResolver.getSuffixes(L,i);D&&i[`defaultValue${this.options.pluralSeparator}zero`]&&$.indexOf(`${this.options.pluralSeparator}zero`)<0&&$.push(`${this.options.pluralSeparator}zero`),$.forEach(Y=>{W([L],u+Y,i[`defaultValue${Y}`]||z)})}):W(F,u,z))}_=this.extendTranslation(_,e,i,x,s),J&&_===u&&this.options.appendNamespaceToMissingKey&&(_=`${h}${m}${u}`),(J||X)&&this.options.parseMissingKeyHandler&&(_=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${h}${m}${u}`:u,X?_:void 0,i))}return o?(x.res=_,x.usedParams=this.getUsedParamsDetails(i),x):_}extendTranslation(e,n,s,i,o){var d,h;if((d=this.i18nFormat)!=null&&d.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...s},s.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!s.skipInterpolation){s.interpolation&&this.interpolator.init({...s,interpolation:{...this.options.interpolation,...s.interpolation}});const m=Le(e)&&(((h=s==null?void 0:s.interpolation)==null?void 0:h.skipOnVariables)!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let p;if(m){const x=e.match(this.interpolator.nestingRegexp);p=x&&x.length}let v=s.replace&&!Le(s.replace)?s.replace:s;if(this.options.interpolation.defaultVariables&&(v={...this.options.interpolation.defaultVariables,...v}),e=this.interpolator.interpolate(e,v,s.lng||this.language||i.usedLng,s),m){const x=e.match(this.interpolator.nestingRegexp),_=x&&x.length;p<_&&(s.nest=!1)}!s.lng&&i&&i.res&&(s.lng=this.language||i.usedLng),s.nest!==!1&&(e=this.interpolator.nest(e,(...x)=>(o==null?void 0:o[0])===x[0]&&!s.context?(this.logger.warn(`It seems you are nesting recursively key: ${x[0]} in key: ${n[0]}`),null):this.translate(...x,n),s)),s.interpolation&&this.interpolator.reset()}const l=s.postProcess||this.options.postProcess,u=Le(l)?[l]:l;return e!=null&&(u!=null&&u.length)&&s.applyPostProcessor!==!1&&(e=lO.handle(u,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(s)},...s}:s,this)),e}resolve(e,n={}){let s,i,o,l,u;return Le(e)&&(e=[e]),e.forEach(d=>{if(this.isValidLookup(s))return;const h=this.extractFromKey(d,n),m=h.key;i=m;let p=h.namespaces;this.options.fallbackNS&&(p=p.concat(this.options.fallbackNS));const v=n.count!==void 0&&!Le(n.count),x=v&&!n.ordinal&&n.count===0,_=n.context!==void 0&&(Le(n.context)||typeof n.context=="number")&&n.context!=="",w=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);p.forEach(C=>{var T,N;this.isValidLookup(s)||(u=C,!y2[`${w[0]}-${C}`]&&((T=this.utils)!=null&&T.hasLoadedNamespace)&&!((N=this.utils)!=null&&N.hasLoadedNamespace(u))&&(y2[`${w[0]}-${C}`]=!0,this.logger.warn(`key "${i}" for languages "${w.join(", ")}" won't get resolved as namespace "${u}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),w.forEach(k=>{var P;if(this.isValidLookup(s))return;l=k;const A=[m];if((P=this.i18nFormat)!=null&&P.addLookupKeys)this.i18nFormat.addLookupKeys(A,m,k,C,n);else{let j;v&&(j=this.pluralResolver.getSuffix(k,n.count,n));const D=`${this.options.pluralSeparator}zero`,z=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(v&&(A.push(m+j),n.ordinal&&j.indexOf(z)===0&&A.push(m+j.replace(z,this.options.pluralSeparator)),x&&A.push(m+D)),_){const I=`${m}${this.options.contextSeparator}${n.context}`;A.push(I),v&&(A.push(I+j),n.ordinal&&j.indexOf(z)===0&&A.push(I+j.replace(z,this.options.pluralSeparator)),x&&A.push(I+D))}}let O;for(;O=A.pop();)this.isValidLookup(s)||(o=O,s=this.getResource(k,C,O,n))}))})}),{res:s,usedKey:i,exactUsedKey:o,usedLng:l,usedNS:u}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,s,i={}){var o;return(o=this.i18nFormat)!=null&&o.getResource?this.i18nFormat.getResource(e,n,s,i):this.resourceStore.getResource(e,n,s,i)}getUsedParamsDetails(e={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],s=e.replace&&!Le(e.replace);let i=s?e.replace:e;if(s&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!s){i={...i};for(const o of n)delete i[o]}return i}static hasDefaultValue(e){const n="defaultValue";for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&n===s.substring(0,n.length)&&e[s]!==void 0)return!0;return!1}}class x2{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Wr.create("languageUtils")}getScriptPartFromCode(e){if(e=Md(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=Md(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(Le(e)&&e.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(e)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(s=>{if(n)return;const i=this.formatLanguageCode(s);(!this.options.supportedLngs||this.isSupportedCode(i))&&(n=i)}),!n&&this.options.supportedLngs&&e.forEach(s=>{if(n)return;const i=this.getScriptPartFromCode(s);if(this.isSupportedCode(i))return n=i;const o=this.getLanguagePartFromCode(s);if(this.isSupportedCode(o))return n=o;n=this.options.supportedLngs.find(l=>{if(l===o)return l;if(!(l.indexOf("-")<0&&o.indexOf("-")<0)&&(l.indexOf("-")>0&&o.indexOf("-")<0&&l.substring(0,l.indexOf("-"))===o||l.indexOf(o)===0&&o.length>1))return l})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),Le(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let s=e[n];return s||(s=e[this.getScriptPartFromCode(n)]),s||(s=e[this.formatLanguageCode(n)]),s||(s=e[this.getLanguagePartFromCode(n)]),s||(s=e.default),s||[]}toResolveHierarchy(e,n){const s=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],e),i=[],o=l=>{l&&(this.isSupportedCode(l)?i.push(l):this.logger.warn(`rejecting language code not found in supportedLngs: ${l}`))};return Le(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&o(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&o(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&o(this.getLanguagePartFromCode(e))):Le(e)&&o(this.formatLanguageCode(e)),s.forEach(l=>{i.indexOf(l)<0&&o(this.formatLanguageCode(l))}),i}}const w2={zero:0,one:1,two:2,few:3,many:4,other:5},_2={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class eq{constructor(e,n={}){this.languageUtils=e,this.options=n,this.logger=Wr.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,n){this.rules[e]=n}clearCache(){this.pluralRulesCache={}}getRule(e,n={}){const s=Md(e==="dev"?"en":e),i=n.ordinal?"ordinal":"cardinal",o=JSON.stringify({cleanedCode:s,type:i});if(o in this.pluralRulesCache)return this.pluralRulesCache[o];let l;try{l=new Intl.PluralRules(s,{type:i})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),_2;if(!e.match(/-|_/))return _2;const d=this.languageUtils.getLanguagePartFromCode(e);l=this.getRule(d,n)}return this.pluralRulesCache[o]=l,l}needsPlural(e,n={}){let s=this.getRule(e,n);return s||(s=this.getRule("dev",n)),(s==null?void 0:s.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,n,s={}){return this.getSuffixes(e,s).map(i=>`${n}${i}`)}getSuffixes(e,n={}){let s=this.getRule(e,n);return s||(s=this.getRule("dev",n)),s?s.resolvedOptions().pluralCategories.sort((i,o)=>w2[i]-w2[o]).map(i=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i}`):[]}getSuffix(e,n,s={}){const i=this.getRule(e,s);return i?`${this.options.prepend}${s.ordinal?`ordinal${this.options.prepend}`:""}${i.select(n)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",n,s))}}const S2=(t,e,n,s=".",i=!0)=>{let o=K9(t,e,n);return!o&&i&&Le(n)&&(o=mb(t,n,s),o===void 0&&(o=mb(e,n,s))),o},ky=t=>t.replace(/\$/g,"$$$$");class tq{constructor(e={}){var n;this.logger=Wr.create("interpolator"),this.options=e,this.format=((n=e==null?void 0:e.interpolation)==null?void 0:n.format)||(s=>s),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:n,escapeValue:s,useRawValueToEscape:i,prefix:o,prefixEscaped:l,suffix:u,suffixEscaped:d,formatSeparator:h,unescapeSuffix:m,unescapePrefix:p,nestingPrefix:v,nestingPrefixEscaped:x,nestingSuffix:_,nestingSuffixEscaped:w,nestingOptionsSeparator:C,maxReplaces:T,alwaysFormat:N}=e.interpolation;this.escape=n!==void 0?n:Y9,this.escapeValue=s!==void 0?s:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=o?zl(o):l||"{{",this.suffix=u?zl(u):d||"}}",this.formatSeparator=h||",",this.unescapePrefix=m?"":p||"-",this.unescapeSuffix=this.unescapePrefix?"":m||"",this.nestingPrefix=v?zl(v):x||zl("$t("),this.nestingSuffix=_?zl(_):w||zl(")"),this.nestingOptionsSeparator=C||",",this.maxReplaces=T||1e3,this.alwaysFormat=N!==void 0?N:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(n,s)=>(n==null?void 0:n.source)===s?(n.lastIndex=0,n):new RegExp(s,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,n,s,i){var x;let o,l,u;const d=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},h=_=>{if(_.indexOf(this.formatSeparator)<0){const N=S2(n,d,_,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(N,void 0,s,{...i,...n,interpolationkey:_}):N}const w=_.split(this.formatSeparator),C=w.shift().trim(),T=w.join(this.formatSeparator).trim();return this.format(S2(n,d,C,this.options.keySeparator,this.options.ignoreJSONStructure),T,s,{...i,...n,interpolationkey:C})};this.resetRegExp();const m=(i==null?void 0:i.missingInterpolationHandler)||this.options.missingInterpolationHandler,p=((x=i==null?void 0:i.interpolation)==null?void 0:x.skipOnVariables)!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:_=>ky(_)},{regex:this.regexp,safeValue:_=>this.escapeValue?ky(this.escape(_)):ky(_)}].forEach(_=>{for(u=0;o=_.regex.exec(e);){const w=o[1].trim();if(l=h(w),l===void 0)if(typeof m=="function"){const T=m(e,o,i);l=Le(T)?T:""}else if(i&&Object.prototype.hasOwnProperty.call(i,w))l="";else if(p){l=o[0];continue}else this.logger.warn(`missed to pass in variable ${w} for interpolating ${e}`),l="";else!Le(l)&&!this.useRawValueToEscape&&(l=h2(l));const C=_.safeValue(l);if(e=e.replace(o[0],C),p?(_.regex.lastIndex+=l.length,_.regex.lastIndex-=o[0].length):_.regex.lastIndex=0,u++,u>=this.maxReplaces)break}}),e}nest(e,n,s={}){let i,o,l;const u=(d,h)=>{const m=this.nestingOptionsSeparator;if(d.indexOf(m)<0)return d;const p=d.split(new RegExp(`${m}[ ]*{`));let v=`{${p[1]}`;d=p[0],v=this.interpolate(v,l);const x=v.match(/'/g),_=v.match(/"/g);(((x==null?void 0:x.length)??0)%2===0&&!_||_.length%2!==0)&&(v=v.replace(/'/g,'"'));try{l=JSON.parse(v),h&&(l={...h,...l})}catch(w){return this.logger.warn(`failed parsing options string in nesting for key ${d}`,w),`${d}${m}${v}`}return l.defaultValue&&l.defaultValue.indexOf(this.prefix)>-1&&delete l.defaultValue,d};for(;i=this.nestingRegexp.exec(e);){let d=[];l={...s},l=l.replace&&!Le(l.replace)?l.replace:l,l.applyPostProcessor=!1,delete l.defaultValue;const h=/{.*}/.test(i[1])?i[1].lastIndexOf("}")+1:i[1].indexOf(this.formatSeparator);if(h!==-1&&(d=i[1].slice(h).split(this.formatSeparator).map(m=>m.trim()).filter(Boolean),i[1]=i[1].slice(0,h)),o=n(u.call(this,i[1].trim(),l),l),o&&i[0]===e&&!Le(o))return o;Le(o)||(o=h2(o)),o||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),o=""),d.length&&(o=d.reduce((m,p)=>this.format(m,p,s.lng,{...s,interpolationkey:i[1].trim()}),o.trim())),e=e.replace(i[0],o),this.regexp.lastIndex=0}return e}}const nq=t=>{let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const s=t.split("(");e=s[0].toLowerCase().trim();const i=s[1].substring(0,s[1].length-1);e==="currency"&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach(l=>{if(l){const[u,...d]=l.split(":"),h=d.join(":").trim().replace(/^'+|'+$/g,""),m=u.trim();n[m]||(n[m]=h),h==="false"&&(n[m]=!1),h==="true"&&(n[m]=!0),isNaN(h)||(n[m]=parseInt(h,10))}})}return{formatName:e,formatOptions:n}},C2=t=>{const e={};return(n,s,i)=>{let o=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(o={...o,[i.interpolationkey]:void 0});const l=s+JSON.stringify(o);let u=e[l];return u||(u=t(Md(s),i),e[l]=u),u(n)}},sq=t=>(e,n,s)=>t(Md(n),s)(e);class rq{constructor(e={}){this.logger=Wr.create("formatter"),this.options=e,this.init(e)}init(e,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const s=n.cacheInBuiltFormats?C2:sq;this.formats={number:s((i,o)=>{const l=new Intl.NumberFormat(i,{...o});return u=>l.format(u)}),currency:s((i,o)=>{const l=new Intl.NumberFormat(i,{...o,style:"currency"});return u=>l.format(u)}),datetime:s((i,o)=>{const l=new Intl.DateTimeFormat(i,{...o});return u=>l.format(u)}),relativetime:s((i,o)=>{const l=new Intl.RelativeTimeFormat(i,{...o});return u=>l.format(u,o.range||"day")}),list:s((i,o)=>{const l=new Intl.ListFormat(i,{...o});return u=>l.format(u)})}}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=C2(n)}format(e,n,s,i={}){const o=n.split(this.formatSeparator);if(o.length>1&&o[0].indexOf("(")>1&&o[0].indexOf(")")<0&&o.find(u=>u.indexOf(")")>-1)){const u=o.findIndex(d=>d.indexOf(")")>-1);o[0]=[o[0],...o.splice(1,u)].join(this.formatSeparator)}return o.reduce((u,d)=>{var p;const{formatName:h,formatOptions:m}=nq(d);if(this.formats[h]){let v=u;try{const x=((p=i==null?void 0:i.formatParams)==null?void 0:p[i.interpolationkey])||{},_=x.locale||x.lng||i.locale||i.lng||s;v=this.formats[h](u,_,{...m,...i,...x})}catch(x){this.logger.warn(x)}return v}else this.logger.warn(`there was no format function for ${h}`);return u},e)}}const iq=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class aq extends xm{constructor(e,n,s,i={}){var o,l;super(),this.backend=e,this.store=n,this.services=s,this.languageUtils=s.languageUtils,this.options=i,this.logger=Wr.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],(l=(o=this.backend)==null?void 0:o.init)==null||l.call(o,s,i.backend,i)}queueLoad(e,n,s,i){const o={},l={},u={},d={};return e.forEach(h=>{let m=!0;n.forEach(p=>{const v=`${h}|${p}`;!s.reload&&this.store.hasResourceBundle(h,p)?this.state[v]=2:this.state[v]<0||(this.state[v]===1?l[v]===void 0&&(l[v]=!0):(this.state[v]=1,m=!1,l[v]===void 0&&(l[v]=!0),o[v]===void 0&&(o[v]=!0),d[p]===void 0&&(d[p]=!0)))}),m||(u[h]=!0)}),(Object.keys(o).length||Object.keys(l).length)&&this.queue.push({pending:l,pendingCount:Object.keys(l).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(o),pending:Object.keys(l),toLoadLanguages:Object.keys(u),toLoadNamespaces:Object.keys(d)}}loaded(e,n,s){const i=e.split("|"),o=i[0],l=i[1];n&&this.emit("failedLoading",o,l,n),!n&&s&&this.store.addResourceBundle(o,l,s,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&s&&(this.state[e]=0);const u={};this.queue.forEach(d=>{q9(d.loaded,[o],l),iq(d,e),n&&d.errors.push(n),d.pendingCount===0&&!d.done&&(Object.keys(d.loaded).forEach(h=>{u[h]||(u[h]={});const m=d.loaded[h];m.length&&m.forEach(p=>{u[h][p]===void 0&&(u[h][p]=!0)})}),d.done=!0,d.errors.length?d.callback(d.errors):d.callback())}),this.emit("loaded",u),this.queue=this.queue.filter(d=>!d.done)}read(e,n,s,i=0,o=this.retryTimeout,l){if(!e.length)return l(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:s,tried:i,wait:o,callback:l});return}this.readingCalls++;const u=(h,m)=>{if(this.readingCalls--,this.waitingReads.length>0){const p=this.waitingReads.shift();this.read(p.lng,p.ns,p.fcName,p.tried,p.wait,p.callback)}if(h&&m&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,s,i+1,o*2,l)},o);return}l(h,m)},d=this.backend[s].bind(this.backend);if(d.length===2){try{const h=d(e,n);h&&typeof h.then=="function"?h.then(m=>u(null,m)).catch(u):u(null,h)}catch(h){u(h)}return}return d(e,n,u)}prepareLoading(e,n,s={},i){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();Le(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Le(n)&&(n=[n]);const o=this.queueLoad(e,n,s,i);if(!o.toLoad.length)return o.pending.length||i(),null;o.toLoad.forEach(l=>{this.loadOne(l)})}load(e,n,s){this.prepareLoading(e,n,{},s)}reload(e,n,s){this.prepareLoading(e,n,{reload:!0},s)}loadOne(e,n=""){const s=e.split("|"),i=s[0],o=s[1];this.read(i,o,"read",void 0,void 0,(l,u)=>{l&&this.logger.warn(`${n}loading namespace ${o} for language ${i} failed`,l),!l&&u&&this.logger.log(`${n}loaded namespace ${o} for language ${i}`,u),this.loaded(e,l,u)})}saveMissing(e,n,s,i,o,l={},u=()=>{}){var d,h,m,p,v;if((h=(d=this.services)==null?void 0:d.utils)!=null&&h.hasLoadedNamespace&&!((p=(m=this.services)==null?void 0:m.utils)!=null&&p.hasLoadedNamespace(n))){this.logger.warn(`did not save key "${s}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(s==null||s==="")){if((v=this.backend)!=null&&v.create){const x={...l,isUpdate:o},_=this.backend.create.bind(this.backend);if(_.length<6)try{let w;_.length===5?w=_(e,n,s,i,x):w=_(e,n,s,i),w&&typeof w.then=="function"?w.then(C=>u(null,C)).catch(u):u(null,w)}catch(w){u(w)}else _(e,n,s,i,u,x)}!e||!e[0]||this.store.addResource(e[0],n,s,i)}}}const E2=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),Le(t[1])&&(e.defaultValue=t[1]),Le(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const n=t[3]||t[2];Object.keys(n).forEach(s=>{e[s]=n[s]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),T2=t=>{var e,n;return Le(t.ns)&&(t.ns=[t.ns]),Le(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),Le(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),((n=(e=t.supportedLngs)==null?void 0:e.indexOf)==null?void 0:n.call(e,"cimode"))<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t},kh=()=>{},oq=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})};class Od extends xm{constructor(e={},n){if(super(),this.options=T2(e),this.services={},this.logger=Wr,this.modules={external:[]},oq(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(e={},n){this.isInitializing=!0,typeof e=="function"&&(n=e,e={}),e.defaultNS==null&&e.ns&&(Le(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const s=E2();this.options={...s,...this.options,...T2(e)},this.options.interpolation={...s.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const i=h=>h?typeof h=="function"?new h:h:null;if(!this.options.isClone){this.modules.logger?Wr.init(i(this.modules.logger),this.options):Wr.init(null,this.options);let h;this.modules.formatter?h=this.modules.formatter:h=rq;const m=new x2(this.options);this.store=new v2(this.options.resources,this.options);const p=this.services;p.logger=Wr,p.resourceStore=this.store,p.languageUtils=m,p.pluralResolver=new eq(m,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==s.interpolation.format&&this.logger.warn("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),h&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(p.formatter=i(h),p.formatter.init&&p.formatter.init(p,this.options),this.options.interpolation.format=p.formatter.format.bind(p.formatter)),p.interpolator=new tq(this.options),p.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},p.backendConnector=new aq(i(this.modules.backend),p.resourceStore,p,this.options),p.backendConnector.on("*",(x,..._)=>{this.emit(x,..._)}),this.modules.languageDetector&&(p.languageDetector=i(this.modules.languageDetector),p.languageDetector.init&&p.languageDetector.init(p,this.options.detection,this.options)),this.modules.i18nFormat&&(p.i18nFormat=i(this.modules.i18nFormat),p.i18nFormat.init&&p.i18nFormat.init(this)),this.translator=new Cp(this.services,this.options),this.translator.on("*",(x,..._)=>{this.emit(x,..._)}),this.modules.external.forEach(x=>{x.init&&x.init(this)})}if(this.format=this.options.interpolation.format,n||(n=kh),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const h=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);h.length>0&&h[0]!=="dev"&&(this.options.lng=h[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(h=>{this[h]=(...m)=>this.store[h](...m)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(h=>{this[h]=(...m)=>(this.store[h](...m),this)});const u=Hu(),d=()=>{const h=(m,p)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),u.resolve(p),n(m,p)};if(this.languages&&!this.isInitialized)return h(null,this.t.bind(this));this.changeLanguage(this.options.lng,h)};return this.options.resources||!this.options.initAsync?d():setTimeout(d,0),u}loadResources(e,n=kh){var o,l;let s=n;const i=Le(e)?e:this.language;if(typeof e=="function"&&(s=e),!this.options.resources||this.options.partialBundledLanguages){if((i==null?void 0:i.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return s();const u=[],d=h=>{if(!h||h==="cimode")return;this.services.languageUtils.toResolveHierarchy(h).forEach(p=>{p!=="cimode"&&u.indexOf(p)<0&&u.push(p)})};i?d(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(m=>d(m)),(l=(o=this.options.preload)==null?void 0:o.forEach)==null||l.call(o,h=>d(h)),this.services.backendConnector.load(u,this.options.ns,h=>{!h&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),s(h)})}else s(null)}reloadResources(e,n,s){const i=Hu();return typeof e=="function"&&(s=e,e=void 0),typeof n=="function"&&(s=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),s||(s=kh),this.services.backendConnector.reload(e,n,o=>{i.resolve(),s(o)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&lO.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let n=0;n<this.languages.length;n++){const s=this.languages[n];if(!(["cimode","dev"].indexOf(s)>-1)&&this.store.hasLanguageSomeTranslations(s)){this.resolvedLanguage=s;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,n){this.isLanguageChangingTo=e;const s=Hu();this.emit("languageChanging",e);const i=u=>{this.language=u,this.languages=this.services.languageUtils.toResolveHierarchy(u),this.resolvedLanguage=void 0,this.setResolvedLanguage(u)},o=(u,d)=>{d?this.isLanguageChangingTo===e&&(i(d),this.translator.changeLanguage(d),this.isLanguageChangingTo=void 0,this.emit("languageChanged",d),this.logger.log("languageChanged",d)):this.isLanguageChangingTo=void 0,s.resolve((...h)=>this.t(...h)),n&&n(u,(...h)=>this.t(...h))},l=u=>{var m,p;!e&&!u&&this.services.languageDetector&&(u=[]);const d=Le(u)?u:u&&u[0],h=this.store.hasLanguageSomeTranslations(d)?d:this.services.languageUtils.getBestMatchFromCodes(Le(u)?[u]:u);h&&(this.language||i(h),this.translator.language||this.translator.changeLanguage(h),(p=(m=this.services.languageDetector)==null?void 0:m.cacheUserLanguage)==null||p.call(m,h)),this.loadResources(h,v=>{o(v,h)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?l(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(l):this.services.languageDetector.detect(l):l(e),s}getFixedT(e,n,s){const i=(o,l,...u)=>{let d;typeof l!="object"?d=this.options.overloadTranslationOptionHandler([o,l].concat(u)):d={...l},d.lng=d.lng||i.lng,d.lngs=d.lngs||i.lngs,d.ns=d.ns||i.ns,d.keyPrefix!==""&&(d.keyPrefix=d.keyPrefix||s||i.keyPrefix);const h=this.options.keySeparator||".";let m;return d.keyPrefix&&Array.isArray(o)?m=o.map(p=>`${d.keyPrefix}${h}${p}`):m=d.keyPrefix?`${d.keyPrefix}${h}${o}`:o,this.t(m,d)};return Le(e)?i.lng=e:i.lngs=e,i.ns=n,i.keyPrefix=s,i}t(...e){var n;return(n=this.translator)==null?void 0:n.translate(...e)}exists(...e){var n;return(n=this.translator)==null?void 0:n.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const s=n.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,o=this.languages[this.languages.length-1];if(s.toLowerCase()==="cimode")return!0;const l=(u,d)=>{const h=this.services.backendConnector.state[`${u}|${d}`];return h===-1||h===0||h===2};if(n.precheck){const u=n.precheck(this,l);if(u!==void 0)return u}return!!(this.hasResourceBundle(s,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||l(s,e)&&(!i||l(o,e)))}loadNamespaces(e,n){const s=Hu();return this.options.ns?(Le(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{s.resolve(),n&&n(i)}),s):(n&&n(),Promise.resolve())}loadLanguages(e,n){const s=Hu();Le(e)&&(e=[e]);const i=this.options.preload||[],o=e.filter(l=>i.indexOf(l)<0&&this.services.languageUtils.isSupportedCode(l));return o.length?(this.options.preload=i.concat(o),this.loadResources(l=>{s.resolve(),n&&n(l)}),s):(n&&n(),Promise.resolve())}dir(e){var i,o;if(e||(e=this.resolvedLanguage||(((i=this.languages)==null?void 0:i.length)>0?this.languages[0]:this.language)),!e)return"rtl";try{const l=new Intl.Locale(e);if(l&&l.getTextInfo){const u=l.getTextInfo();if(u&&u.direction)return u.direction}}catch{}const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],s=((o=this.services)==null?void 0:o.languageUtils)||new x2(E2());return e.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(s.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},n){return new Od(e,n)}cloneInstance(e={},n=kh){const s=e.forkResourceStore;s&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},o=new Od(i);if((e.debug!==void 0||e.prefix!==void 0)&&(o.logger=o.logger.clone(e)),["store","services","language"].forEach(u=>{o[u]=this[u]}),o.services={...this.services},o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},s){const u=Object.keys(this.store.data).reduce((d,h)=>(d[h]={...this.store.data[h]},d[h]=Object.keys(d[h]).reduce((m,p)=>(m[p]={...d[h][p]},m),d[h]),d),{});o.store=new v2(u,i),o.services.resourceStore=o.store}return o.translator=new Cp(o.services,i),o.translator.on("*",(u,...d)=>{o.emit(u,...d)}),o.init(i,n),o.translator.options=i,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Tn=Od.createInstance();Tn.createInstance=Od.createInstance;Tn.createInstance;Tn.dir;Tn.init;Tn.loadResources;Tn.reloadResources;Tn.use;Tn.changeLanguage;Tn.getFixedT;Tn.t;Tn.exists;Tn.setDefaultNamespace;Tn.hasLoadedNamespace;Tn.loadNamespaces;Tn.loadLanguages;const{slice:lq,forEach:cq}=[];function uq(t){return cq.call(lq.call(arguments,1),e=>{if(e)for(const n in e)t[n]===void 0&&(t[n]=e[n])}),t}function dq(t){return typeof t!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(n=>n.test(t))}const k2=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,fq=function(t,e){const s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},i=encodeURIComponent(e);let o=`${t}=${i}`;if(s.maxAge>0){const l=s.maxAge-0;if(Number.isNaN(l))throw new Error("maxAge should be a Number");o+=`; Max-Age=${Math.floor(l)}`}if(s.domain){if(!k2.test(s.domain))throw new TypeError("option domain is invalid");o+=`; Domain=${s.domain}`}if(s.path){if(!k2.test(s.path))throw new TypeError("option path is invalid");o+=`; Path=${s.path}`}if(s.expires){if(typeof s.expires.toUTCString!="function")throw new TypeError("option expires is invalid");o+=`; Expires=${s.expires.toUTCString()}`}if(s.httpOnly&&(o+="; HttpOnly"),s.secure&&(o+="; Secure"),s.sameSite)switch(typeof s.sameSite=="string"?s.sameSite.toLowerCase():s.sameSite){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return s.partitioned&&(o+="; Partitioned"),o},N2={create(t,e,n,s){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+n*60*1e3)),s&&(i.domain=s),document.cookie=fq(t,e,i)},read(t){const e=`${t}=`,n=document.cookie.split(";");for(let s=0;s<n.length;s++){let i=n[s];for(;i.charAt(0)===" ";)i=i.substring(1,i.length);if(i.indexOf(e)===0)return i.substring(e.length,i.length)}return null},remove(t,e){this.create(t,"",-1,e)}};var hq={name:"cookie",lookup(t){let{lookupCookie:e}=t;if(e&&typeof document<"u")return N2.read(e)||void 0},cacheUserLanguage(t,e){let{lookupCookie:n,cookieMinutes:s,cookieDomain:i,cookieOptions:o}=e;n&&typeof document<"u"&&N2.create(n,t,s,i,o)}},pq={name:"querystring",lookup(t){var s;let{lookupQuerystring:e}=t,n;if(typeof window<"u"){let{search:i}=window.location;!window.location.search&&((s=window.location.hash)==null?void 0:s.indexOf("?"))>-1&&(i=window.location.hash.substring(window.location.hash.indexOf("?")));const l=i.substring(1).split("&");for(let u=0;u<l.length;u++){const d=l[u].indexOf("=");d>0&&l[u].substring(0,d)===e&&(n=l[u].substring(d+1))}}return n}},mq={name:"hash",lookup(t){var i;let{lookupHash:e,lookupFromHashIndex:n}=t,s;if(typeof window<"u"){const{hash:o}=window.location;if(o&&o.length>2){const l=o.substring(1);if(e){const u=l.split("&");for(let d=0;d<u.length;d++){const h=u[d].indexOf("=");h>0&&u[d].substring(0,h)===e&&(s=u[d].substring(h+1))}}if(s)return s;if(!s&&n>-1){const u=o.match(/\/([a-zA-Z-]*)/g);return Array.isArray(u)?(i=u[typeof n=="number"?n:0])==null?void 0:i.replace("/",""):void 0}}}return s}};let Bl=null;const A2=()=>{if(Bl!==null)return Bl;try{if(Bl=typeof window<"u"&&window.localStorage!==null,!Bl)return!1;const t="i18next.translate.boo";window.localStorage.setItem(t,"foo"),window.localStorage.removeItem(t)}catch{Bl=!1}return Bl};var gq={name:"localStorage",lookup(t){let{lookupLocalStorage:e}=t;if(e&&A2())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupLocalStorage:n}=e;n&&A2()&&window.localStorage.setItem(n,t)}};let Ul=null;const R2=()=>{if(Ul!==null)return Ul;try{if(Ul=typeof window<"u"&&window.sessionStorage!==null,!Ul)return!1;const t="i18next.translate.boo";window.sessionStorage.setItem(t,"foo"),window.sessionStorage.removeItem(t)}catch{Ul=!1}return Ul};var vq={name:"sessionStorage",lookup(t){let{lookupSessionStorage:e}=t;if(e&&R2())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupSessionStorage:n}=e;n&&R2()&&window.sessionStorage.setItem(n,t)}},yq={name:"navigator",lookup(t){const e=[];if(typeof navigator<"u"){const{languages:n,userLanguage:s,language:i}=navigator;if(n)for(let o=0;o<n.length;o++)e.push(n[o]);s&&e.push(s),i&&e.push(i)}return e.length>0?e:void 0}},bq={name:"htmlTag",lookup(t){let{htmlTag:e}=t,n;const s=e||(typeof document<"u"?document.documentElement:null);return s&&typeof s.getAttribute=="function"&&(n=s.getAttribute("lang")),n}},xq={name:"path",lookup(t){var i;let{lookupFromPathIndex:e}=t;if(typeof window>"u")return;const n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(n)?(i=n[typeof e=="number"?e:0])==null?void 0:i.replace("/",""):void 0}},wq={name:"subdomain",lookup(t){var i,o;let{lookupFromSubdomainIndex:e}=t;const n=typeof e=="number"?e+1:1,s=typeof window<"u"&&((o=(i=window.location)==null?void 0:i.hostname)==null?void 0:o.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(s)return s[n]}};let cO=!1;try{document.cookie,cO=!0}catch{}const uO=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];cO||uO.splice(1,1);const _q=()=>({order:uO,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:t=>t});class dO{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,n)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=uq(n,this.options||{},_q()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=i=>i.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=s,this.addDetector(hq),this.addDetector(pq),this.addDetector(gq),this.addDetector(vq),this.addDetector(yq),this.addDetector(bq),this.addDetector(xq),this.addDetector(wq),this.addDetector(mq)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,n=[];return e.forEach(s=>{if(this.detectors[s]){let i=this.detectors[s].lookup(this.options);i&&typeof i=="string"&&(i=[i]),i&&(n=n.concat(i))}}),n=n.filter(s=>s!=null&&!dq(s)).map(s=>this.options.convertDetectedLanguage(s)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}cacheUserLanguage(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||n.forEach(s=>{this.detectors[s]&&this.detectors[s].cacheUserLanguage(e,this.options)}))}}dO.type="languageDetector";const Sq={en:"English","zh-CN":"简体中文"},Cq={save:"Save",cancel:"Cancel",delete:"Delete",edit:"Edit",create:"Create",submit:"Submit",loading:"Loading...",retry:"Retry"},Eq={yes:"Yes",no:"No",ok:"OK",error:"Error",success:"Success",warning:"Warning",info:"Information"},Tq={success:"Operation completed successfully",error:"An error occurred",loading:"Loading, please wait...",noData:"No data available",confirmDelete:"Are you sure you want to delete this item?",saved:"Saved successfully",deleted:"Deleted successfully"},kq={title:"Notifications",clear:"Clear",markAllAsRead:"Mark all as read",allRead:"All read",newImageGenerated:"New image generated"},Nq={home:"Home",canvas:"Canvas",settings:"Settings",back:"Back"},Aq={title:"🎉 New Version Available",description:"New version v{{version}} is available. Would you like to install it now?",installNote:'Click "Install Update" to restart the app and install the new version.',laterButton:"Remind Later",installButton:"Install Update",installing:"Installing..."},Rq={login:"Login",logout:"Logout",loginToFTK_AI:"Login to FTK_AI",myAccount:"My Account",loginDescription:"Login to use cloud AI models",startLogin:"Start Login",preparingLogin:"Preparing login...",cancel:"Cancel",loginSuccessMessage:"Login successful!",authExpiredMessage:"Authorization expired, please login again",authErrorMessage:"Error occurred while checking authorization status",waitingForBrowser:"Waiting for login completion in browser...",pollErrorMessage:"Failed to check login status, please try again",preparingLoginMessage:"Preparing login...",browserLoginMessage:"Please complete login in browser",loginRequestFailed:"Login request failed, please try again",logoutSuccessMessage:"Successfully logged out",notLoggedIn:"Not logged in",balance:"Balance",recharge:"Recharge"},jq={connectionError:"Connection error ({{current}}/{{max}}): {{error}}",maxRetriesReached:"Connection failed, please restart the application"},Mq={languages:Sq,buttons:Cq,common:Eq,messages:Tq,notifications:kq,navigation:Nq,update:Aq,auth:Rq,socket:jq},Oq="Hello, FTK_AI!",Dq="Gather starry inspiration drops, happiness spread into sea",Pq="All Projects",Lq="No canvases yet",Iq="Untitled",Fq={title:Oq,subtitle:Dq,allProjects:Pq,noCanvases:Lq,newCanvas:Iq},zq="Canvas",Bq="Rename Canvas",Uq="Share Canvas",Vq="Export",$q="Untitled",Hq="Back",qq="Save Snapshot",Kq="Load Snapshot",Gq="Saved ✅",Yq={canvasRenamed:"Canvas renamed successfully",canvasDeleted:"Canvas deleted successfully",canvasExported:"Canvas exported successfully",canvasImported:"Canvas imported successfully",failedToRename:"Failed to rename canvas",failedToDelete:"Failed to delete canvas",failedToCreateFile:"Failed to create file",nothingSelected:"No assets selected",exportingAssets:"Exporting assets...",failedToExportImages:"Failed to export images",gptImagePermissionRequired:"You must enable gpt-image-1 model permissions to use this feature!"},Wq={title:"Delete Canvas",description:"Are you sure you want to delete this Canvas? This action cannot be undone.",cancel:"Cancel",delete:"Delete"},Xq={hand:"Hand",selection:"Selection",rectangle:"Rectangle",ellipse:"Ellipse",text:"Text",image:"Image",shape:"Shape",arrow:"Arrow",line:"Line",zoomFit:"Zoom to fit"},Qq={addToChat:"Use original image",magicGenerate:"✨ Magic Generate",compositeImageToChat:"🎨 Use composite image",selectedSizeText:"Selected area size"},Jq="My Assets",Zq="Select a folder",eK="Select a folder to view its images and videos",tK="No media files",nK="No images or videos in this folder",sK="media files",rK="Open in system file browser",iK="Basic info",aK="File name",oK="File size",lK="Modified time",cK="Dimensions",uK="File path",dK="PNG Metadata",fK={title:zq,rename:Bq,delete:"Delete Canvas",share:Uq,export:"Export Canvas",exportImages:Vq,import:"Import Canvas",untitled:$q,back:Hq,saveSnapshot:qq,loadSnapshot:Kq,saved:Gq,messages:Yq,deleteDialog:Wq,tool:Xq,popbar:Qq,myAssets:Jq,selectAFolder:Zq,selectAFolderDescription:eK,noMediaFiles:tK,noMediaFilesDescription:nK,mediaFiles:sK,openInExplorer:rK,basicInfo:iK,fileName:aK,fileSize:oK,modifiedTime:lK,dimensions:cK,filePath:uK,pngMetadata:dK},hK="New Chat",pK="Type your message here...",mK="Insufficient Balance",gK="Your credits are depleted. Please recharge to continue.",vK={placeholder:"Enter your design requirements",selectModel:"Please select a text model! Go to Settings to set your API keys if you haven't done so.",selectTool:"Please go to settings to add image or video generation tools, or you won't be able to generate any images or videos!!",enterPrompt:"Please enter a prompt",quantity:"Image Quantity"},yK={imagePositioning:"Go to image",showMore:"Show More",showLess:"Show Less"},bK={title:"Thinking"},xK={title:"Plan",steps:{singular:"step",plural:"steps"}},wK={title:"Share as Template",templateName:"Template Name",templateNamePlaceholder:"Enter template name...",coverPhoto:"Cover Photo",noImagesFound:"No images found in canvas",nameRequired:"Template name is required",coverImageRequired:"Cover image is required",create:"Create Template",creating:"Creating...",success:"Template created successfully!",error:"Failed to create template"},_K={title:"Tool/Model",auto:"Auto",external:"External",manual:"Manual",tabs:{image:"Image",video:"Video",text:"Text",llm:"LLM"}},SK={newChat:hK,placeholder:pK,insufficientBalance:mK,insufficientBalanceDescription:gK,textarea:vK,messages:yK,thinking:bK,plan:xK,shareTemplate:wK,modelSelector:_K},CK="Settings",EK={settingsSaved:"Settings saved successfully",settingsReset:"Settings reset to default",failedToSave:"Failed to save settings",failedToLoad:"Failed to load configuration",restartRequired:"Please restart the application for proxy settings to take effect"},TK={title:"Models",placeholder:"Enter model name",addModel:"Add Model",types:{text:"text",image:"image",video:"video"}},kK={title:"Providers",addProvider:"Add Provider",providerName:"Provider Name",providerNamePlaceholder:"Enter provider name",apiUrl:"API URL",apiUrlPlaceholder:"Enter API URL",apiKey:"API Key",apiKeyPlaceholder:"Enter API key",apiKeyDescription:"Your API key will be stored securely",maxTokens:"Max Tokens",maxTokensPlaceholder:"Enter your max tokens",maxTokensDescription:"The maximum number of tokens in the response",customProvider:"✨ Custom Provider",imageGeneration:"🎨 Image Generation",delete:"Delete",save:"Save",cancel:"Cancel",noModelsSelected:"Please add at least one model"},NK={title:"Proxy Settings",mode:"Proxy Mode",selectMode:"Select proxy mode",modes:{no_proxy:"No Proxy",system:"System Proxy",custom:"Custom Proxy"},enable:"Enable Proxy",url:"Proxy URL",urlPlaceholder:"http://proxy.example.com:8080",testConnection:"Test Connection",testing:"Testing...",testSuccess:"Proxy connection test successful",testFailed:"Proxy connection test failed: {{message}}",testError:"Proxy connection test error",status:{enabled:"Enabled",disabled:"Disabled",misconfigured:"Misconfigured"}},AK={title:"Task Configurations",addNewTask:"Add New Task",refresh:"Refresh",exportConfig:"Export Config",importConfig:"Import Config"},RK={title:"Agent Manager"},jK={title:"ComfyUI Configuration"},MK={title:"ComfyUI",localImageGeneration:"🎨 Local Image Generation",enable:"Enable",debugStatus:"🔍 Debug Status",status:{disabled:"Disabled",running:"Running",installed:"Installed (Not Running)",notInstalled:"Not Installed",notRunning:"Not Running",checking:"Checking..."},urlDescription:"ComfyUI service URL, enter the address if already installed",invalidUrl:"Please enter a valid URL (e.g., http://127.0.0.1:8188)",notInstalledTitle:"ComfyUI Not Installed",notInstalledDescription:"Install ComfyUI to enable local image generation with Flux models",installButton:"Install ComfyUI",startButton:"Start ComfyUI",uninstallButton:"Uninstall ComfyUI",confirmUninstall:"Are you sure you want to uninstall ComfyUI? This will completely remove ComfyUI from your system, including all downloaded models and configurations.",confirmUninstallButton:"Confirm Uninstall",deleteWorkflowConfirmation:"Are you sure you want to delete this workflow?",uninstallProgress:{title:"Uninstalling ComfyUI",preparing:"Preparing to uninstall...",inProgress:"Uninstallation in progress... Please wait.",logTitle:"Uninstallation Log:",completed:"Uninstallation completed"},notInstalled:"ComfyUI is not installed",addWorkflow:"Add Workflow",addInput:"Add Input",workflows:"Workflows",editWorkflow:"Edit Workflow"},OK="Save Settings",DK="Close",PK="Cancel",LK={title:CK,messages:EK,models:TK,provider:kK,proxy:NK,taskConfig:AK,agentManager:RK,comfyConfig:jK,comfyui:MK,saveSettings:OK,close:DK,cancel:PK},IK={en:"English","zh-CN":"简体中文"},FK={save:"保存",cancel:"取消",delete:"删除",edit:"编辑",create:"创建",submit:"提交",loading:"加载中...",retry:"重试"},zK={yes:"是",no:"否",ok:"确定",error:"错误",success:"成功",warning:"警告",info:"信息"},BK={success:"操作成功完成",error:"发生了错误",loading:"正在加载，请稍候...",noData:"暂无数据",confirmDelete:"确定要删除此项吗？",saved:"保存成功",deleted:"删除成功"},UK={title:"通知",clear:"清空",markAllAsRead:"全部已读",allRead:"全部已读",newImageGenerated:"新图片生成"},VK={home:"首页",canvas:"画布",settings:"设置",back:"返回"},$K={confirmTitle:"确认操作",confirmDescription:"此操作无法撤销",cancel:"取消",confirm:"确认"},HK={title:"🎉 新版本可用",description:"发现新版本 v{{version}}，是否立即安装更新？",installNote:"点击“安装更新”将重启应用并安装。",laterButton:"稍后提醒",installButton:"安装更新",installing:"正在安装..."},qK={login:"登录",logout:"退出登录",loginToFTK_AI:"登录到 FTK_AI",myAccount:"我的账户",loginDescription:"登录后可以使用云端 AI 模型",startLogin:"开始登录",preparingLogin:"准备登录中...",cancel:"取消",loginSuccessMessage:"登录成功！",authExpiredMessage:"授权已过期，请重新登录",authErrorMessage:"检查授权状态时发生错误",waitingForBrowser:"等待浏览器中完成登录...",pollErrorMessage:"检查登录状态失败，请重试",preparingLoginMessage:"正在准备登录...",browserLoginMessage:"请在浏览器中完成登录",loginRequestFailed:"登录请求失败，请重试",logoutSuccessMessage:"已成功登出",notLoggedIn:"未登录",balance:"余额",recharge:"充值"},KK={connectionError:"连接错误 ({{current}}/{{max}}): {{error}}",maxRetriesReached:"连接失败，请重启应用重试"},GK={languages:IK,buttons:FK,common:zK,messages:BK,notifications:UK,navigation:VK,dialog:$K,update:HK,auth:qK,socket:KK},YK="你好，主人！",WK="指尖轻拾灵感的星滴，让幸福漫成一片星海",XK="所有项目",QK="还没有画布",JK="未命名",ZK={title:YK,subtitle:WK,allProjects:XK,noCanvases:QK,newCanvas:JK},eG="画布",tG="重命名画布",nG="分享画布",sG="导出",rG="未命名",iG="返回",aG="保存快照",oG="加载快照",lG="已保存 ✅",cG={canvasRenamed:"画布重命名成功",canvasDeleted:"画布删除成功",canvasExported:"画布导出成功",canvasImported:"画布导入成功",failedToRename:"重命名画布失败",failedToDelete:"删除画布失败",failedToCreateFile:"创建文件失败",nothingSelected:"未选择任何素材",exportingAssets:"导出素材中...",failedToExportImages:"导出图片失败",gptImagePermissionRequired:"您必须启用 gpt-image-1 模型权限才能使用此功能！"},uG={title:"删除画布",description:"您确定要删除此画布吗？此操作无法撤销。",cancel:"取消",delete:"删除"},dG={hand:"手",selection:"选择",rectangle:"矩形",ellipse:"椭圆",text:"文本",image:"图片",shape:"形状",arrow:"箭头",line:"直线",freedraw:"自由绘制",eraser:"橡皮擦",laser:"激光",magicframe:"魔法框架",embeddable:"嵌入",frame:"框架",zoomFit:"缩放适应"},fG={addToChat:"使用原图",magicGenerate:"✨ 魔法生成",compositeImageToChat:"🎨 使用合成图",selectedSizeText:"当前所选区域尺寸"},hG="我的素材",pG="我的作品",mG="素材库",gG="所有媒体",vG="图片",yG="视频",bG="音频",xG="素材目录",wG="输出目录",_G="选择文件夹",SG="选择一个文件夹以查看其中的图片和视频",CG="无媒体文件",EG="没有匹配的媒体文件",TG="媒体文件",kG="在系统文件浏览器中打开",NG="基本信息",AG="文件名",RG="文件大小",jG="修改时间",MG="尺寸",OG="文件路径",DG="PNG 元数据",PG="重试",LG={title:eG,rename:tG,delete:"删除画布",share:nG,export:"导出画布",exportImages:sG,import:"导入画布",untitled:rG,back:iG,saveSnapshot:aG,loadSnapshot:oG,saved:lG,messages:cG,deleteDialog:uG,tool:dG,popbar:fG,myAssets:hG,myWorks:pG,materialManager:mG,allMedia:gG,images:vG,videos:yG,audio:bG,assetsDir:xG,outputDir:wG,selectAFolder:_G,selectAFolderDescription:SG,noMediaFiles:CG,noMediaFilesDescription:EG,mediaFiles:TG,openInExplorer:kG,basicInfo:NG,fileName:AG,fileSize:RG,modifiedTime:jG,dimensions:MG,filePath:OG,pngMetadata:DG,retry:PG},IG="新建聊天",FG="在这里输入你的消息...",zG="余额不足",BG="您的积分已用完，请充值后继续使用",UG={placeholder:"输入您的设计需求",selectModel:"请选择一个文本模型！如果您还没有设置 API 密钥，请前往设置页面进行配置。",selectTool:"请选择一个图片模型！如果您还没有设置 API 密钥，请前往设置页面进行配置。",enterPrompt:"请输入提示内容",quantity:"生成数量"},VG={imagePositioning:"定位到图片",showMore:"显示更多",showLess:"收起"},$G={title:"思考过程"},HG={title:"计划",steps:{singular:"步骤",plural:"步骤"}},qG="单选模式",KG={title:"分享为模板",templateName:"模板名称",templateNamePlaceholder:"输入模板名称...",coverPhoto:"封面图片",noImagesFound:"画布中没有找到图片",nameRequired:"模板名称是必填项",coverImageRequired:"封面图片是必填项",create:"创建模板",creating:"创建中...",success:"模板创建成功！",error:"创建模板失败"},GG={requiresConfirmation:"需确认",cancelled:"已取消",confirm:"确认执行",cancel:"取消"},YG={title:"工具/模型",auto:"自动",external:"外挂",manual:"自选",tabs:{image:"图像",video:"视频",text:"文本",llm:"大语言模型"}},WG={newChat:IG,placeholder:FG,insufficientBalance:zG,insufficientBalanceDescription:BG,textarea:UG,messages:VG,thinking:$G,plan:HG,single_select_mode:qG,shareTemplate:KG,toolCall:GG,modelSelector:YG},XG="设置",QG={settingsSaved:"设置保存成功",settingsReset:"设置已重置为默认值",failedToSave:"保存设置失败",failedToLoad:"加载配置失败",restartRequired:"请重启应用以使代理设置生效"},JG={title:"模型",placeholder:"输入模型名称",addModel:"添加模型",types:{text:"语言模型",image:"生图模型",video:"视频生成模型"}},ZG={title:"提供商",addProvider:"添加提供商",providerName:"提供商名称",providerNamePlaceholder:"输入提供商名称",apiUrl:"API 地址",apiUrlPlaceholder:"输入 API 地址",apiKey:"API 密钥",apiKeyPlaceholder:"输入 API 密钥",apiKeyDescription:"您的 API 密钥将被安全存储",maxTokens:"最大令牌数",maxTokensPlaceholder:"输入最大令牌数",maxTokensDescription:"响应中的最大令牌数",customProvider:"✨ 自定义提供商",imageGeneration:"🎨 图像生成",delete:"删除",save:"保存",cancel:"取消",noModelsSelected:"请添加至少一个模型"},eY={title:"代理设置",mode:"代理模式",selectMode:"选择代理模式",modes:{no_proxy:"不使用代理",system:"系统代理",custom:"自定义代理"},enable:"启用代理",url:"代理地址",urlPlaceholder:"http://proxy.example.com:8080",testConnection:"测试连接",testing:"测试中...",testSuccess:"代理连接测试成功",testFailed:"代理连接测试失败: {{message}}",testError:"代理连接测试出错",status:{enabled:"已启用",disabled:"已禁用",misconfigured:"配置错误"}},tY={title:"任务配置",addNewTask:"添加新任务",refresh:"刷新",exportConfig:"导出配置",importConfig:"导入配置"},nY={title:"Agent 管理器"},sY={title:"ComfyUI 配置"},rY={title:"ComfyUI",localImageGeneration:"🎨 本地图像生成",enable:"启用",debugStatus:"🔍 调试状态",status:{disabled:"已禁用",running:"运行中",installed:"已安装（未运行）",notInstalled:"未安装",notRunning:"未运行",checking:"检查中..."},urlDescription:"ComfyUI 服务地址，如果已安装请输入地址",invalidUrl:"请输入有效的 URL 地址（如：http://127.0.0.1:8188）",notInstalledTitle:"ComfyUI 未安装",notInstalledDescription:"安装 ComfyUI 以启用 Flux 模型的本地图像生成",installButton:"安装 ComfyUI",startButton:"启动 ComfyUI",uninstallButton:"卸载 ComfyUI",confirmUninstall:"确定要卸载 ComfyUI 吗？这将完全从您的系统中移除 ComfyUI，包括所有已下载的模型和配置。",confirmUninstallButton:"确认卸载",uninstallProgress:{title:"正在卸载 ComfyUI",preparing:"准备卸载中...",inProgress:"卸载进行中... 请稍候。",logTitle:"卸载日志：",completed:"卸载完成"},notInstalled:"ComfyUI 未安装",deleteWorkflowConfirmation:"您确定要删除此工作流吗？",addInput:"添加输入参数",editWorkflow:"编辑工作流",addWorkflow:"添加工作流",save:"保存",submit:"提交",uploadWorkflowApiJson:"上传工作流API JSON",workflowInputsConfiguration:"工作流输入参数设置",defaultValue:"默认值",describeInput:"请描述这个参数是做什么的，让LLM可以理解这个参数的作用，来更智能的调用工具，动态传入正确参数",workflowName:"工作流名称，只能包含a-Z, 0-9, 下划线_",workflowDescription:"工作流描述，描述工作流的用途，功能作用，让大模型更好的调用",workflowNameInvalid:"工作流名称只能允许字母、数字、下划线，以方便大模型动态调用"},iY="保存设置",aY="关闭",oY="取消",lY={title:XG,messages:QG,models:JG,provider:ZG,proxy:eY,taskConfig:tY,agentManager:nY,comfyConfig:sY,comfyui:rY,saveSettings:iY,close:aY,cancel:oY},cY={en:{common:Mq,home:Fq,canvas:fK,chat:SK,settings:LK},"zh-CN":{common:GK,home:ZK,canvas:LG,chat:WG,settings:lY}};Tn.use(dO).use(i4).init({resources:cY,fallbackLng:"en",defaultNS:"common",ns:["common","home","canvas","chat","settings"],detection:{order:["localStorage","navigator","htmlTag"],lookupLocalStorage:"language",caches:["localStorage"]},interpolation:{escapeValue:!1},react:{useSuspense:!0}});async function uY(){var s;try{const o=await(await fetch(`${ac}/api/device/status`)).json();if(o.is_active)return{status:"activated",code:"",expires_at:o.expires_at||new Date(Date.now()+365*24*60*60*1e3).toISOString(),message:Tn.t("common:auth.deviceAlreadyActivated")}}catch(i){console.warn("检查设备激活状态失败，继续进行授权流程:",i)}const t=await fetch(`${ac}/api/device/auth`,{method:"POST",headers:{"Content-Type":"application/json"}});if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const e=await t.json(),n=`${ac}/auth/device?code=${e.code}`;if((s=window.electronAPI)!=null&&s.openBrowserUrl)try{await window.electronAPI.openBrowserUrl(n)}catch(i){console.error("Failed to open browser via Electron:",i),window.open(n,"_blank")}else window.open(n,"_blank");return{status:e.status,code:e.code,expires_at:e.expires_at,message:Tn.t("common:auth.browserLoginMessage")}}function dY(t,e){localStorage.setItem("FTK_AI_access_token",t),localStorage.setItem("FTK_AI_user_info",JSON.stringify(e))}function fY(){return localStorage.getItem("FTK_AI_access_token")}async function LZ(t,e={}){const n=fY(),s={"Content-Type":"application/json",...e.headers||{}};return n&&(s.Authorization=`Bearer ${n}`),fetch(t,{...e,headers:s})}async function hY(t){try{const e=await fetch(`${ac}/api/device/validate-code`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({active_code:t})}),n=await e.text();if(!e.ok)try{const s=JSON.parse(n);return{status:"error",message:s.detail||s.message||"激活码验证失败"}}catch(s){return console.error("无法解析错误响应:",s),{status:"error",message:e.status===500?"服务器内部错误，请稍后重试":`激活码验证失败 (HTTP ${e.status})`}}try{const s=JSON.parse(n);return{status:"success",message:s.message||"激活成功",token:s.token}}catch(s){return console.error("无法解析成功响应:",s),{status:"success",message:"激活成功"}}}catch(e){return console.error("激活码验证错误:",e),e instanceof Error?e.message.includes("Failed to fetch")?{status:"error",message:"网络连接失败，请检查服务器是否正常运行"}:{status:"error",message:e.message||"激活失败，请重试"}:{status:"error",message:"网络错误，请重试"}}}async function IZ(){try{const t=await fetch(`${ac}/api/device/status`);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const e=await t.json();return{is_active:e.is_active||!1,message:e.message||""}}catch(t){return console.error("获取设备状态失败:",t),{is_active:!1,message:"获取设备状态失败"}}}function pY(){const[t,e]=S.useState(""),[n,s]=S.useState(""),[i,o]=S.useState(""),[l,u]=S.useState(""),{showLoginDialog:d,setShowLoginDialog:h}=Dx(),m=JA(),{t:p}=Us(),v=S.useRef(null);S.useEffect(()=>{d?x():(e(""),s(""),o(""),u(""))},[d]);const x=async()=>{try{u("正在获取设备码...");const k=await uY();console.log("Device auth result:",k),k&&k.code?(o(k.code),u("")):(o(""),u((k==null?void 0:k.message)||"获取设备码失败"))}catch(k){console.error("获取设备码错误:",k),o(""),u("获取设备码失败")}},_=async()=>{if(i)try{await navigator.clipboard.writeText(i),u("设备码已复制到剪贴板"),setTimeout(()=>u(""),3e3)}catch(k){console.error("复制失败:",k);try{const A=document.createElement("textarea");A.value=i,A.style.position="fixed",A.style.opacity="0",document.body.appendChild(A),A.select(),document.execCommand("copy"),document.body.removeChild(A),u("设备码已复制到剪贴板"),setTimeout(()=>u(""),3e3)}catch(A){console.error("备用复制方法失败:",A),u("复制失败，请手动复制"),setTimeout(()=>u(""),3e3)}}},w=async()=>{try{if(e("正在验证激活码..."),!n.trim()){e("请输入激活码");return}const k=await hY(n);if(k.status==="success"){const A={id:"activated_user",username:"已激活用户",email:"activated@local.device",provider:"activation",created_at:new Date().toISOString(),updated_at:new Date().toISOString()};dY(k.token||"activated-token",A),e(k.message);try{m()}catch(O){console.error("刷新模型失败:",O)}setTimeout(()=>h(!1),1500)}else e(typeof k.message=="string"?k.message:"激活码验证失败")}catch(k){console.error("激活码验证错误:",k),e("激活失败，请重试")}},C=async()=>{await w()},T=k=>{k.key==="Enter"&&C()},N=()=>{e(""),s(""),h(!1)};return g.jsx(Ki,{open:d,onOpenChange:h,children:g.jsxs(Qo,{children:[g.jsx($c,{children:g.jsx(Hc,{children:"软件激活"})}),g.jsxs("div",{className:"space-y-4",children:[g.jsx("p",{className:"text-sm text-muted-foreground",children:"请输入您的激活码以解锁完整功能"}),g.jsxs("div",{className:"space-y-2 p-4 bg-muted rounded-md",children:[g.jsx(ur,{className:"text-sm font-medium",children:"设备码"}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{ref:v,className:"flex-1 p-2 bg-background rounded border font-mono text-center text-sm overflow-x-auto whitespace-nowrap",title:"点击复制设备码",children:i||"获取中..."}),g.jsx(Be,{variant:"ghost",size:"sm",onClick:_,disabled:!i,className:"h-8 px-2",children:"复制"})]}),l&&g.jsx("p",{className:"text-xs text-muted-foreground",children:typeof l=="string"?l:JSON.stringify(l)}),i&&g.jsx("p",{className:"text-xs text-muted-foreground",children:"请使用此设备码在浏览器中完成授权"})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(ur,{htmlFor:"activation-code",children:"激活码"}),g.jsx(ni,{id:"activation-code",value:n,onChange:k=>s(k.target.value),onKeyPress:T,placeholder:"请输入激活码",disabled:!!t,className:"text-lg"})]}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx(Be,{onClick:C,disabled:!!t,className:"flex-1",children:typeof t=="string"?t:"激活"}),g.jsx(Be,{variant:"outline",onClick:N,disabled:!!t,children:"取消"})]})]})]})})}function mY({children:t,defaultTheme:e="system",storageKey:n="vite-ui-theme",...s}){const[i,o]=S.useState(()=>localStorage.getItem(n)||e);S.useEffect(()=>{const u=window.document.documentElement;if(u.classList.remove("light","dark"),i==="system"){const d=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";u.classList.add(d);return}u.classList.add(i)},[i]);const l={theme:i,setTheme:u=>{localStorage.setItem(n,u),o(u)}};return g.jsx(iO.Provider,{...s,value:l,children:t})}var gY=["added","removed","updated"];function j2(t){return gY.includes(t)}async function vY({queryClient:t,persister:e,maxAge:n=1e3*60*60*24,buster:s="",hydrateOptions:i}){try{const o=await e.restoreClient();if(o)if(o.timestamp){const l=Date.now()-o.timestamp>n,u=o.buster!==s;if(l||u)return e.removeClient();nF(t,o.clientState,i)}else return e.removeClient()}catch(o){throw await e.removeClient(),o}}async function M2({queryClient:t,persister:e,buster:n="",dehydrateOptions:s}){const i={buster:n,timestamp:Date.now(),clientState:tF(t,s)};await e.persistClient(i)}function yY(t){const e=t.queryClient.getQueryCache().subscribe(s=>{j2(s.type)&&M2(t)}),n=t.queryClient.getMutationCache().subscribe(s=>{j2(s.type)&&M2(t)});return()=>{e(),n()}}var bY=({children:t,persistOptions:e,onSuccess:n,onError:s,...i})=>{const[o,l]=S.useState(!0),u=S.useRef({persistOptions:e,onSuccess:n,onError:s}),d=S.useRef(!1);return S.useEffect(()=>{u.current={persistOptions:e,onSuccess:n,onError:s}}),S.useEffect(()=>{const h={...u.current.persistOptions,queryClient:i.client};return d.current||(d.current=!0,vY(h).then(()=>{var m,p;return(p=(m=u.current).onSuccess)==null?void 0:p.call(m)}).catch(()=>{var m,p;return(p=(m=u.current).onError)==null?void 0:p.call(m)}).finally(()=>{l(!1)})),o?void 0:yY(h)},[i.client,o]),g.jsx(rF,{...i,children:g.jsx(aF,{value:o,children:t})})};function gb(){}function xY(t,{interval:e=1e3,onError:n=gb}={}){if(typeof t!="function")throw new Error("argument is not function.");let s=0,i=null,o=!1,l=!1;return async(...u)=>{if(i=u,!l){for(l=!0;o;)await new Promise(d=>setTimeout(d,e));for(;Date.now()<s;)await new Promise(d=>setTimeout(d,s-Date.now()));l=!1,o=!0;try{await t(...i)}catch(d){try{n(d)}catch{}}s=Date.now()+e,o=!1}}}var wY=({storage:t,key:e="REACT_QUERY_OFFLINE_CACHE",throttleTime:n=1e3,serialize:s=JSON.stringify,deserialize:i=JSON.parse,retry:o})=>{if(t){const l=async u=>{try{const d=await s(u);await t.setItem(e,d);return}catch(d){return d}};return{persistClient:xY(async u=>{let d=u,h=await l(d),m=0;for(;h&&d;)m++,d=await(o==null?void 0:o({persistedClient:d,error:h,errorCount:m})),d&&(h=await l(d))},{interval:n}),restoreClient:async()=>{const u=await t.getItem(e);if(u)return await i(u)},removeClient:()=>t.removeItem(e)}}return{persistClient:gb,restoreClient:()=>Promise.resolve(void 0),removeClient:gb}};const vb=(t,e)=>e.some(n=>t instanceof n);let O2,D2;function _Y(){return O2||(O2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function SY(){return D2||(D2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const yb=new WeakMap,Ny=new WeakMap,wm=new WeakMap;function CY(t){const e=new Promise((n,s)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",l)},o=()=>{n(Fo(t.result)),i()},l=()=>{s(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",l)});return wm.set(e,t),e}function EY(t){if(yb.has(t))return;const e=new Promise((n,s)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",l),t.removeEventListener("abort",l)},o=()=>{n(),i()},l=()=>{s(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",l),t.addEventListener("abort",l)});yb.set(t,e)}let bb={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return yb.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Fo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function fO(t){bb=t(bb)}function TY(t){return SY().includes(t)?function(...e){return t.apply(xb(this),e),Fo(this.request)}:function(...e){return Fo(t.apply(xb(this),e))}}function kY(t){return typeof t=="function"?TY(t):(t instanceof IDBTransaction&&EY(t),vb(t,_Y())?new Proxy(t,bb):t)}function Fo(t){if(t instanceof IDBRequest)return CY(t);if(Ny.has(t))return Ny.get(t);const e=kY(t);return e!==t&&(Ny.set(t,e),wm.set(e,t)),e}const xb=t=>wm.get(t);function NY(t,e,{blocked:n,upgrade:s,blocking:i,terminated:o}={}){const l=indexedDB.open(t,e),u=Fo(l);return s&&l.addEventListener("upgradeneeded",d=>{s(Fo(l.result),d.oldVersion,d.newVersion,Fo(l.transaction),d)}),n&&l.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),u.then(d=>{o&&d.addEventListener("close",()=>o()),i&&d.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),u}const AY=["get","getKey","getAll","getAllKeys","count"],RY=["put","add","delete","clear"],Ay=new Map;function P2(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ay.get(e))return Ay.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,i=RY.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(i||AY.includes(n)))return;const o=async function(l,...u){const d=this.transaction(l,i?"readwrite":"readonly");let h=d.store;return s&&(h=h.index(u.shift())),(await Promise.all([h[n](...u),i&&d.done]))[0]};return Ay.set(e,o),o}fO(t=>({...t,get:(e,n,s)=>P2(e,n)||t.get(e,n,s),has:(e,n)=>!!P2(e,n)||t.has(e,n)}));const jY=["continue","continuePrimaryKey","advance"],L2={},wb=new WeakMap,hO=new WeakMap,MY={get(t,e){if(!jY.includes(e))return t[e];let n=L2[e];return n||(n=L2[e]=function(...s){wb.set(this,hO.get(this)[e](...s))}),n}};async function*OY(...t){let e=this;if(e instanceof IDBCursor||(e=await e.openCursor(...t)),!e)return;e=e;const n=new Proxy(e,MY);for(hO.set(n,e),wm.set(n,xb(e));e;)yield n,e=await(wb.get(n)||e.continue()),wb.delete(n)}function I2(t,e){return e===Symbol.asyncIterator&&vb(t,[IDBIndex,IDBObjectStore,IDBCursor])||e==="iterate"&&vb(t,[IDBIndex,IDBObjectStore])}fO(t=>({...t,get(e,n,s){return I2(e,n)?OY:t.get(e,n,s)},has(e,n){return I2(e,n)||t.has(e,n)}}));var DY="Invariant failed";function qi(t,e){if(!t)throw new Error(DY)}const oc=new WeakMap,np=new WeakMap,Ep={current:[]};let Ry=!1,gd=0;const td=new Set,Nh=new Map;function pO(t){const e=Array.from(t).sort((n,s)=>n instanceof lc&&n.options.deps.includes(s)?1:s instanceof lc&&s.options.deps.includes(n)?-1:0);for(const n of e){if(Ep.current.includes(n))continue;Ep.current.push(n),n.recompute();const s=np.get(n);if(s)for(const i of s){const o=oc.get(i);o&&pO(o)}}}function PY(t){t.listeners.forEach(e=>e({prevVal:t.prevState,currentVal:t.state}))}function LY(t){t.listeners.forEach(e=>e({prevVal:t.prevState,currentVal:t.state}))}function mO(t){if(gd>0&&!Nh.has(t)&&Nh.set(t,t.prevState),td.add(t),!(gd>0)&&!Ry)try{for(Ry=!0;td.size>0;){const e=Array.from(td);td.clear();for(const n of e){const s=Nh.get(n)??n.prevState;n.prevState=s,PY(n)}for(const n of e){const s=oc.get(n);s&&(Ep.current.push(n),pO(s))}for(const n of e){const s=oc.get(n);if(s)for(const i of s)LY(i)}}}finally{Ry=!1,Ep.current=[],Nh.clear()}}function F2(t){gd++;try{t()}finally{if(gd--,gd===0){const e=Array.from(td)[0];e&&mO(e)}}}function IY(t){return typeof t=="function"}class _b{constructor(e,n){this.listeners=new Set,this.subscribe=s=>{var i,o;this.listeners.add(s);const l=(o=(i=this.options)==null?void 0:i.onSubscribe)==null?void 0:o.call(i,s,this);return()=>{this.listeners.delete(s),l==null||l()}},this.prevState=e,this.state=e,this.options=n}setState(e){var n,s,i;this.prevState=this.state,(n=this.options)!=null&&n.updateFn?this.state=this.options.updateFn(this.prevState)(e):IY(e)?this.state=e(this.prevState):this.state=e,(i=(s=this.options)==null?void 0:s.onUpdate)==null||i.call(s),mO(this)}}class lc{constructor(e){this.listeners=new Set,this._subscriptions=[],this.lastSeenDepValues=[],this.getDepVals=()=>{const n=[],s=[];for(const i of this.options.deps)n.push(i.prevState),s.push(i.state);return this.lastSeenDepValues=s,{prevDepVals:n,currDepVals:s,prevVal:this.prevState??void 0}},this.recompute=()=>{var n,s;this.prevState=this.state;const{prevDepVals:i,currDepVals:o,prevVal:l}=this.getDepVals();this.state=this.options.fn({prevDepVals:i,currDepVals:o,prevVal:l}),(s=(n=this.options).onUpdate)==null||s.call(n)},this.checkIfRecalculationNeededDeeply=()=>{for(const o of this.options.deps)o instanceof lc&&o.checkIfRecalculationNeededDeeply();let n=!1;const s=this.lastSeenDepValues,{currDepVals:i}=this.getDepVals();for(let o=0;o<i.length;o++)if(i[o]!==s[o]){n=!0;break}n&&this.recompute()},this.mount=()=>(this.registerOnGraph(),this.checkIfRecalculationNeededDeeply(),()=>{this.unregisterFromGraph();for(const n of this._subscriptions)n()}),this.subscribe=n=>{var s,i;this.listeners.add(n);const o=(i=(s=this.options).onSubscribe)==null?void 0:i.call(s,n,this);return()=>{this.listeners.delete(n),o==null||o()}},this.options=e,this.state=e.fn({prevDepVals:void 0,prevVal:void 0,currDepVals:this.getDepVals().currDepVals})}registerOnGraph(e=this.options.deps){for(const n of e)if(n instanceof lc)n.registerOnGraph(),this.registerOnGraph(n.options.deps);else if(n instanceof _b){let s=oc.get(n);s||(s=new Set,oc.set(n,s)),s.add(this);let i=np.get(this);i||(i=new Set,np.set(this,i)),i.add(n)}}unregisterFromGraph(e=this.options.deps){for(const n of e)if(n instanceof lc)this.unregisterFromGraph(n.options.deps);else if(n instanceof _b){const s=oc.get(n);s&&s.delete(this);const i=np.get(this);i&&i.delete(n)}}}const Ia="__TSR_index",z2="popstate",B2="beforeunload";function gO(t){let e=t.getLocation();const n=new Set,s=l=>{e=t.getLocation(),n.forEach(u=>u({location:e,action:l}))},i=l=>{t.notifyOnIndexChange??!0?s(l):e=t.getLocation()},o=async({task:l,navigateOpts:u,...d})=>{var h,m;if((u==null?void 0:u.ignoreBlocker)??!1){l();return}const v=((h=t.getBlockers)==null?void 0:h.call(t))??[],x=d.type==="PUSH"||d.type==="REPLACE";if(typeof document<"u"&&v.length&&x)for(const _ of v){const w=Dd(d.path,d.state);if(await _.blockerFn({currentLocation:e,nextLocation:w,action:d.type})){(m=t.onBlocked)==null||m.call(t);return}}l()};return{get location(){return e},get length(){return t.getLength()},subscribers:n,subscribe:l=>(n.add(l),()=>{n.delete(l)}),push:(l,u,d)=>{const h=e.state[Ia];u=Sb(h+1,u),o({task:()=>{t.pushState(l,u),s({type:"PUSH"})},navigateOpts:d,type:"PUSH",path:l,state:u})},replace:(l,u,d)=>{const h=e.state[Ia];u=Sb(h,u),o({task:()=>{t.replaceState(l,u),s({type:"REPLACE"})},navigateOpts:d,type:"REPLACE",path:l,state:u})},go:(l,u)=>{o({task:()=>{t.go(l),i({type:"GO",index:l})},navigateOpts:u,type:"GO"})},back:l=>{o({task:()=>{t.back((l==null?void 0:l.ignoreBlocker)??!1),i({type:"BACK"})},navigateOpts:l,type:"BACK"})},forward:l=>{o({task:()=>{t.forward((l==null?void 0:l.ignoreBlocker)??!1),i({type:"FORWARD"})},navigateOpts:l,type:"FORWARD"})},canGoBack:()=>e.state[Ia]!==0,createHref:l=>t.createHref(l),block:l=>{var u;if(!t.setBlockers)return()=>{};const d=((u=t.getBlockers)==null?void 0:u.call(t))??[];return t.setBlockers([...d,l]),()=>{var h,m;const p=((h=t.getBlockers)==null?void 0:h.call(t))??[];(m=t.setBlockers)==null||m.call(t,p.filter(v=>v!==l))}},flush:()=>{var l;return(l=t.flush)==null?void 0:l.call(t)},destroy:()=>{var l;return(l=t.destroy)==null?void 0:l.call(t)},notify:s}}function Sb(t,e){e||(e={});const n=Mw();return{...e,key:n,__TSR_key:n,[Ia]:t}}function FY(t){var e,n;const s=typeof document<"u"?window:void 0,i=s.history.pushState,o=s.history.replaceState;let l=[];const u=()=>l,d=I=>l=I,h=I=>I,m=()=>Dd(`${s.location.pathname}${s.location.search}${s.location.hash}`,s.history.state);if(!((e=s.history.state)!=null&&e.__TSR_key)&&!((n=s.history.state)!=null&&n.key)){const I=Mw();s.history.replaceState({[Ia]:0,key:I,__TSR_key:I},"")}let p=m(),v,x=!1,_=!1,w=!1,C=!1;const T=()=>p;let N,k;const A=()=>{N&&(z._ignoreSubscribers=!0,(N.isPush?s.history.pushState:s.history.replaceState)(N.state,"",N.href),z._ignoreSubscribers=!1,N=void 0,k=void 0,v=void 0)},O=(I,H,V)=>{const X=h(H);k||(v=p),p=Dd(H,V),N={href:X,state:V,isPush:(N==null?void 0:N.isPush)||I==="push"},k||(k=Promise.resolve().then(()=>A()))},P=I=>{p=m(),z.notify({type:I})},j=async()=>{if(_){_=!1;return}const I=m(),H=I.state[Ia]-p.state[Ia],V=H===1,X=H===-1,J=!V&&!X||x;x=!1;const ie=J?"GO":X?"BACK":"FORWARD",R=J?{type:"GO",index:H}:{type:X?"BACK":"FORWARD"};if(w)w=!1;else{const B=u();if(typeof document<"u"&&B.length){for(const F of B)if(await F.blockerFn({currentLocation:p,nextLocation:I,action:ie})){_=!0,s.history.go(1),z.notify(R);return}}}p=m(),z.notify(R)},D=I=>{if(C){C=!1;return}let H=!1;const V=u();if(typeof document<"u"&&V.length)for(const X of V){const J=X.enableBeforeUnload??!0;if(J===!0){H=!0;break}if(typeof J=="function"&&J()===!0){H=!0;break}}if(H)return I.preventDefault(),I.returnValue=""},z=gO({getLocation:T,getLength:()=>s.history.length,pushState:(I,H)=>O("push",I,H),replaceState:(I,H)=>O("replace",I,H),back:I=>(I&&(w=!0),C=!0,s.history.back()),forward:I=>{I&&(w=!0),C=!0,s.history.forward()},go:I=>{x=!0,s.history.go(I)},createHref:I=>h(I),flush:A,destroy:()=>{s.history.pushState=i,s.history.replaceState=o,s.removeEventListener(B2,D,{capture:!0}),s.removeEventListener(z2,j)},onBlocked:()=>{v&&p!==v&&(p=v)},getBlockers:u,setBlockers:d,notifyOnIndexChange:!1});return s.addEventListener(B2,D,{capture:!0}),s.addEventListener(z2,j),s.history.pushState=function(...I){const H=i.apply(s.history,I);return z._ignoreSubscribers||P("PUSH"),H},s.history.replaceState=function(...I){const H=o.apply(s.history,I);return z._ignoreSubscribers||P("REPLACE"),H},z}function zY(t={initialEntries:["/"]}){const e=t.initialEntries;let n=t.initialIndex?Math.min(Math.max(t.initialIndex,0),e.length-1):e.length-1;const s=e.map((o,l)=>Sb(l,void 0));return gO({getLocation:()=>Dd(e[n],s[n]),getLength:()=>e.length,pushState:(o,l)=>{n<e.length-1&&(e.splice(n+1),s.splice(n+1)),s.push(l),e.push(o),n=Math.max(e.length-1,0)},replaceState:(o,l)=>{s[n]=l,e[n]=o},back:()=>{n=Math.max(n-1,0)},forward:()=>{n=Math.min(n+1,e.length-1)},go:o=>{n=Math.min(Math.max(n+o,0),e.length-1)},createHref:o=>o})}function Dd(t,e){const n=t.indexOf("#"),s=t.indexOf("?"),i=Mw();return{href:t,pathname:t.substring(0,n>0?s>0?Math.min(n,s):n:s>0?s:t.length),hash:n>-1?t.substring(n):"",search:s>-1?t.slice(s,n===-1?void 0:n):"",state:e||{[Ia]:0,key:i,__TSR_key:i}}}function Mw(){return(Math.random()+1).toString(36).substring(7)}function Cb(t){return t[t.length-1]}function BY(t){return typeof t=="function"}function zo(t,e){return BY(t)?t(e):t}function Tp(t,e){return e.reduce((n,s)=>(n[s]=t[s],n),{})}function sr(t,e){if(t===e)return t;const n=e,s=$2(t)&&$2(n);if(s||U2(t)&&U2(n)){const i=s?t:Object.keys(t).concat(Object.getOwnPropertySymbols(t)),o=i.length,l=s?n:Object.keys(n).concat(Object.getOwnPropertySymbols(n)),u=l.length,d=s?[]:{};let h=0;for(let m=0;m<u;m++){const p=s?m:l[m];(!s&&i.includes(p)||s)&&t[p]===void 0&&n[p]===void 0?(d[p]=void 0,h++):(d[p]=sr(t[p],n[p]),d[p]===t[p]&&t[p]!==void 0&&h++)}return o===u&&h===o?t:d}return n}function U2(t){return Eb(t)&&Object.getOwnPropertyNames(t).length===Object.keys(t).length}function Eb(t){if(!V2(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const n=e.prototype;return!(!V2(n)||!n.hasOwnProperty("isPrototypeOf"))}function V2(t){return Object.prototype.toString.call(t)==="[object Object]"}function $2(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function H2(t,e){let n=Object.keys(t);return e&&(n=n.filter(s=>t[s]!==void 0)),n}function cc(t,e,n){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(Eb(t)&&Eb(e)){const s=(n==null?void 0:n.ignoreUndefined)??!0,i=H2(t,s),o=H2(e,s);return!(n!=null&&n.partial)&&i.length!==o.length?!1:o.every(l=>cc(t[l],e[l],n))}return Array.isArray(t)&&Array.isArray(e)?t.length!==e.length?!1:!t.some((s,i)=>!cc(s,e[i],n)):!1}function ql(t){let e,n;const s=new Promise((i,o)=>{e=i,n=o});return s.status="pending",s.resolve=i=>{s.status="resolved",s.value=i,e(i),t==null||t(i)},s.reject=i=>{s.status="rejected",n(i)},s}function UY(t){return typeof(t==null?void 0:t.message)!="string"?!1:t.message.startsWith("Failed to fetch dynamically imported module")||t.message.startsWith("error loading dynamically imported module")||t.message.startsWith("Importing a module script failed")}function Bi(t){return _m(t.filter(e=>e!==void 0).join("/"))}function _m(t){return t.replace(/\/{2,}/g,"/")}function Ow(t){return t==="/"?t:t.replace(/^\/{1,}/,"")}function jc(t){return t==="/"?t:t.replace(/\/{1,}$/,"")}function jy(t){return jc(Ow(t))}function kp(t,e){return t!=null&&t.endsWith("/")&&t!=="/"&&t!==`${e}/`?t.slice(0,-1):t}function VY(t,e,n){return kp(t,n)===kp(e,n)}function $Y({basepath:t,base:e,to:n,trailingSlash:s="never",caseSensitive:i}){var o,l;e=Np(t,e,i),n=Np(t,n,i);let u=Mc(e);const d=Mc(n);u.length>1&&((o=Cb(u))==null?void 0:o.value)==="/"&&u.pop(),d.forEach((p,v)=>{p.value==="/"?v?v===d.length-1&&u.push(p):u=[p]:p.value===".."?u.pop():p.value==="."||u.push(p)}),u.length>1&&(((l=Cb(u))==null?void 0:l.value)==="/"?s==="never"&&u.pop():s==="always"&&u.push({type:"pathname",value:"/"}));const h=u.map(p=>{if(p.type==="param"){const v=p.value.substring(1);if(p.prefixSegment&&p.suffixSegment)return`${p.prefixSegment}{$${v}}${p.suffixSegment}`;if(p.prefixSegment)return`${p.prefixSegment}{$${v}}`;if(p.suffixSegment)return`{$${v}}${p.suffixSegment}`}if(p.type==="optional-param"){const v=p.value.substring(1);return p.prefixSegment&&p.suffixSegment?`${p.prefixSegment}{-$${v}}${p.suffixSegment}`:p.prefixSegment?`${p.prefixSegment}{-$${v}}`:p.suffixSegment?`{-$${v}}${p.suffixSegment}`:`{-$${v}}`}if(p.type==="wildcard"){if(p.prefixSegment&&p.suffixSegment)return`${p.prefixSegment}{$}${p.suffixSegment}`;if(p.prefixSegment)return`${p.prefixSegment}{$}`;if(p.suffixSegment)return`{$}${p.suffixSegment}`}return p.value}),m=Bi([t,...h]);return _m(m)}const HY=/^\$.{1,}$/,qY=/^(.*?)\{(\$[a-zA-Z_$][a-zA-Z0-9_$]*)\}(.*)$/,KY=/^(.*?)\{-(\$[a-zA-Z_$][a-zA-Z0-9_$]*)\}(.*)$/,GY=/^\$$/,YY=/^(.*?)\{\$\}(.*)$/;function Mc(t){if(!t)return[];t=_m(t);const e=[];if(t.slice(0,1)==="/"&&(t=t.substring(1),e.push({type:"pathname",value:"/"})),!t)return e;const n=t.split("/").filter(Boolean);return e.push(...n.map(s=>{const i=s.match(YY);if(i){const u=i[1],d=i[2];return{type:"wildcard",value:"$",prefixSegment:u||void 0,suffixSegment:d||void 0}}const o=s.match(KY);if(o){const u=o[1],d=o[2],h=o[3];return{type:"optional-param",value:d,prefixSegment:u||void 0,suffixSegment:h||void 0}}const l=s.match(qY);if(l){const u=l[1],d=l[2],h=l[3];return{type:"param",value:""+d,prefixSegment:u||void 0,suffixSegment:h||void 0}}return HY.test(s)?{type:"param",value:"$"+s.substring(1),prefixSegment:void 0,suffixSegment:void 0}:GY.test(s)?{type:"wildcard",value:"$",prefixSegment:void 0,suffixSegment:void 0}:{type:"pathname",value:s.includes("%25")?s.split("%25").map(u=>decodeURI(u)).join("%25"):decodeURI(s)}})),t.slice(-1)==="/"&&(t=t.substring(1),e.push({type:"pathname",value:"/"})),e}function Ah({path:t,params:e,leaveWildcards:n,leaveParams:s,decodeCharMap:i}){const o=Mc(t);function l(m){const p=e[m],v=typeof p=="string";return["*","_splat"].includes(m)?v?encodeURI(p):p:v?WY(p,i):p}let u=!1;const d={},h=Bi(o.map(m=>{if(m.type==="wildcard"){d._splat=e._splat;const p=m.prefixSegment||"",v=m.suffixSegment||"";if(!("_splat"in e))return u=!0,n?`${p}${m.value}${v}`:p||v?`${p}${v}`:void 0;const x=l("_splat");return n?`${p}${m.value}${x??""}${v}`:`${p}${x}${v}`}if(m.type==="param"){const p=m.value.substring(1);!u&&!(p in e)&&(u=!0),d[p]=e[p];const v=m.prefixSegment||"",x=m.suffixSegment||"";if(s){const _=l(m.value);return`${v}${m.value}${_??""}${x}`}return`${v}${l(p)??"undefined"}${x}`}if(m.type==="optional-param"){const p=m.value.substring(1),v=m.prefixSegment||"",x=m.suffixSegment||"";if(!(p in e)||e[p]==null)return v||x?`${v}${x}`:void 0;if(d[p]=e[p],s){const _=l(m.value);return`${v}${m.value}${_??""}${x}`}return`${v}${l(p)??""}${x}`}return m.value}));return{usedParams:d,interpolatedPath:h,isMissingParams:u}}function WY(t,e){let n=encodeURIComponent(t);if(e)for(const[s,i]of e)n=n.replaceAll(s,i);return n}function Tb(t,e,n){const s=XY(t,e,n);if(!(n.to&&!s))return s??{}}function Np(t,e,n=!1){const s=n?t:t.toLowerCase(),i=n?e:e.toLowerCase();switch(!0){case s==="/":return e;case i===s:return"";case e.length<t.length:return e;case i[s.length]!=="/":return e;case i.startsWith(s):return e.slice(t.length);default:return e}}function XY(t,e,n){if(t!=="/"&&!e.startsWith(t))return;e=Np(t,e,n.caseSensitive);const s=Np(t,`${n.to??"$"}`,n.caseSensitive),i=Mc(e),o=Mc(s);e.startsWith("/")||i.unshift({type:"pathname",value:"/"}),s.startsWith("/")||o.unshift({type:"pathname",value:"/"});const l={};return(()=>{var d,h;let m=0,p=0;for(;m<i.length||p<o.length;){const v=i[m],x=o[p],_=m>=i.length-1,w=p>=o.length-1;if(x){if(x.type==="wildcard"){const C=i.slice(m);let T;if(x.prefixSegment||x.suffixSegment){if(!v)return!1;const N=x.prefixSegment||"",k=x.suffixSegment||"",A=v.value;if("prefixSegment"in x&&!A.startsWith(N)||"suffixSegment"in x&&!((d=i[i.length-1])!=null&&d.value.endsWith(k)))return!1;let O=decodeURI(Bi(C.map(P=>P.value)));N&&O.startsWith(N)&&(O=O.slice(N.length)),k&&O.endsWith(k)&&(O=O.slice(0,O.length-k.length)),T=O}else T=decodeURI(Bi(C.map(N=>N.value)));return l["*"]=T,l._splat=T,!0}if(x.type==="pathname"){if(x.value==="/"&&!(v!=null&&v.value)){p++;continue}if(v){if(n.caseSensitive){if(x.value!==v.value)return!1}else if(x.value.toLowerCase()!==v.value.toLowerCase())return!1;m++,p++;continue}else return!1}if(x.type==="param"){if(!v||v.value==="/")return!1;let C="",T=!1;if(x.prefixSegment||x.suffixSegment){const N=x.prefixSegment||"",k=x.suffixSegment||"",A=v.value;if(N&&!A.startsWith(N)||k&&!A.endsWith(k))return!1;let O=A;N&&O.startsWith(N)&&(O=O.slice(N.length)),k&&O.endsWith(k)&&(O=O.slice(0,O.length-k.length)),C=decodeURIComponent(O),T=!0}else C=decodeURIComponent(v.value),T=!0;T&&(l[x.value.substring(1)]=C,m++),p++;continue}if(x.type==="optional-param"){if(!v){p++;continue}if(v.value==="/"){p++;continue}let C="",T=!1;if(x.prefixSegment||x.suffixSegment){const N=x.prefixSegment||"",k=x.suffixSegment||"",A=v.value;if((!N||A.startsWith(N))&&(!k||A.endsWith(k))){let O=A;N&&O.startsWith(N)&&(O=O.slice(N.length)),k&&O.endsWith(k)&&(O=O.slice(0,O.length-k.length)),C=decodeURIComponent(O),T=!0}}else{let N=!0;for(let k=p+1;k<o.length;k++){const A=o[k];if((A==null?void 0:A.type)==="pathname"&&A.value===v.value){N=!1;break}if((A==null?void 0:A.type)==="param"||(A==null?void 0:A.type)==="wildcard")break}N&&(C=decodeURIComponent(v.value),T=!0)}T&&(l[x.value.substring(1)]=C,m++),p++;continue}}if(!_&&w)return l["**"]=Bi(i.slice(m+1).map(C=>C.value)),!!n.fuzzy&&(x==null?void 0:x.value)!=="/";if(m<i.length&&p>=o.length)return!1;if(p<o.length&&m>=i.length){for(let C=p;C<o.length;C++)if(((h=o[C])==null?void 0:h.type)!=="optional-param")return!1;break}break}return!0})()?l:void 0}function ir(t){return!!(t!=null&&t.isNotFound)}function QY(){try{if(typeof window<"u"&&typeof window.sessionStorage=="object")return window.sessionStorage}catch{return}}const Ap="tsr-scroll-restoration-v1_3",JY=(t,e)=>{let n;return(...s)=>{n||(n=setTimeout(()=>{t(...s),n=null},e))}};function ZY(){const t=QY();if(!t)return;const e=t.getItem(Ap);let n=e?JSON.parse(e):{};return{state:n,set:s=>(n=zo(s,n)||n,t.setItem(Ap,JSON.stringify(n)))}}const My=ZY(),kb=t=>t.state.__TSR_key||t.href;function eW(t){const e=[];let n;for(;n=t.parentNode;)e.unshift(`${t.tagName}:nth-child(${[].indexOf.call(n.children,t)+1})`),t=n;return`${e.join(" > ")}`.toLowerCase()}let Rp=!1;function vO(t,e,n,s,i){var o;let l;try{l=JSON.parse(sessionStorage.getItem(t)||"{}")}catch(h){console.error(h);return}const u=e||((o=window.history.state)==null?void 0:o.key),d=l[u];Rp=!0,(()=>{if(s&&d){for(const m in d){const p=d[m];if(m==="window")window.scrollTo({top:p.scrollY,left:p.scrollX,behavior:n});else if(m){const v=document.querySelector(m);v&&(v.scrollLeft=p.scrollX,v.scrollTop=p.scrollY)}}return}const h=window.location.hash.split("#")[1];if(h){const m=(window.history.state||{}).__hashScrollIntoViewOptions??!0;if(m){const p=document.getElementById(h);p&&p.scrollIntoView(m)}return}["window",...(i==null?void 0:i.filter(m=>m!=="window"))??[]].forEach(m=>{const p=m==="window"?window:typeof m=="function"?m():document.querySelector(m);p&&p.scrollTo({top:0,left:0,behavior:n})})})(),Rp=!1}function tW(t,e){if(My===void 0||((t.options.scrollRestoration??!1)&&(t.isScrollRestoring=!0),typeof document>"u"||t.isScrollRestorationSetup))return;t.isScrollRestorationSetup=!0,Rp=!1;const s=t.options.getScrollRestorationKey||kb;window.history.scrollRestoration="manual";const i=o=>{if(Rp||!t.isScrollRestoring)return;let l="";if(o.target===document||o.target===window)l="window";else{const d=o.target.getAttribute("data-scroll-restoration-id");d?l=`[data-scroll-restoration-id="${d}"]`:l=eW(o.target)}const u=s(t.state.location);My.set(d=>{const h=d[u]=d[u]||{},m=h[l]=h[l]||{};if(l==="window")m.scrollX=window.scrollX||0,m.scrollY=window.scrollY||0;else if(l){const p=document.querySelector(l);p&&(m.scrollX=p.scrollLeft||0,m.scrollY=p.scrollTop||0)}return d})};typeof document<"u"&&document.addEventListener("scroll",JY(i,100),!0),t.subscribe("onRendered",o=>{const l=s(o.toLocation);if(!t.resetNextScroll){t.resetNextScroll=!0;return}vO(Ap,l,t.options.scrollRestorationBehavior||void 0,t.isScrollRestoring||void 0,t.options.scrollToTopSelectors||void 0),t.isScrollRestoring&&My.set(u=>(u[l]=u[l]||{},u))})}function nW(t){if(typeof document<"u"&&document.querySelector){const e=t.state.location.state.__hashScrollIntoViewOptions??!0;if(e&&t.state.location.hash!==""){const n=document.getElementById(t.state.location.hash);n&&n.scrollIntoView(e)}}}function sW(t,e){const n=Object.entries(t).flatMap(([i,o])=>Array.isArray(o)?o.map(l=>[i,String(l)]):[[i,String(o)]]);return""+new URLSearchParams(n).toString()}function Oy(t){return t?t==="false"?!1:t==="true"?!0:+t*0===0&&+t+""===t?+t:t:""}function rW(t,e){const n=t;return[...new URLSearchParams(n).entries()].reduce((o,[l,u])=>{const d=o[l];return d==null?o[l]=Oy(u):o[l]=Array.isArray(d)?[...d,Oy(u)]:[d,Oy(u)],o},{})}const iW=oW(JSON.parse),aW=lW(JSON.stringify,JSON.parse);function oW(t){return e=>{e.substring(0,1)==="?"&&(e=e.substring(1));const n=rW(e);for(const s in n){const i=n[s];if(typeof i=="string")try{n[s]=t(i)}catch{}}return n}}function lW(t,e){function n(s){if(typeof s=="object"&&s!==null)try{return t(s)}catch{}else if(typeof s=="string"&&typeof e=="function")try{return e(s),t(s)}catch{}return s}return s=>{s={...s},Object.keys(s).forEach(o=>{const l=s[o];typeof l>"u"||l===void 0?delete s[o]:s[o]=n(l)});const i=sW(s).toString();return i?`?${i}`:""}}const or="__root__";function cW(t){if(t.statusCode=t.statusCode||t.code||307,!t.reloadDocument)try{new URL(`${t.href}`),t.reloadDocument=!0}catch{}const e=new Headers(t.headers||{});t.href&&e.get("Location")===null&&e.set("Location",t.href);const n=new Response(null,{status:t.statusCode,headers:e});if(n.options=t,t.throw)throw n;return n}function Vr(t){return t instanceof Response&&!!t.options}function Bo(t){const e=t.resolvedLocation,n=t.location,s=(e==null?void 0:e.pathname)!==n.pathname,i=(e==null?void 0:e.href)!==n.href,o=(e==null?void 0:e.hash)!==n.hash;return{fromLocation:e,toLocation:n,pathChanged:s,hrefChanged:i,hashChanged:o}}class uW{constructor(e){this.tempLocationKey=`${Math.round(Math.random()*1e7)}`,this.resetNextScroll=!0,this.shouldViewTransition=void 0,this.isViewTransitionTypesSupported=void 0,this.subscribers=new Set,this.isScrollRestoring=!1,this.isScrollRestorationSetup=!1,this.startTransition=n=>n(),this.update=n=>{var s;n.notFoundRoute&&console.warn("The notFoundRoute API is deprecated and will be removed in the next major version. See https://tanstack.com/router/v1/docs/framework/react/guide/not-found-errors#migrating-from-notfoundroute for more info.");const i=this.options;this.options={...this.options,...n},this.isServer=this.options.isServer??typeof document>"u",this.pathParamsDecodeCharMap=this.options.pathParamsAllowedCharacters?new Map(this.options.pathParamsAllowedCharacters.map(o=>[encodeURIComponent(o),o])):void 0,(!this.basepath||n.basepath&&n.basepath!==i.basepath)&&(n.basepath===void 0||n.basepath===""||n.basepath==="/"?this.basepath="/":this.basepath=`/${jy(n.basepath)}`),(!this.history||this.options.history&&this.options.history!==this.history)&&(this.history=this.options.history??(this.isServer?zY({initialEntries:[this.basepath||"/"]}):FY()),this.latestLocation=this.parseLocation()),this.options.routeTree!==this.routeTree&&(this.routeTree=this.options.routeTree,this.buildRouteTree()),this.__store||(this.__store=new _b(fW(this.latestLocation),{onUpdate:()=>{this.__store.state={...this.state,cachedMatches:this.state.cachedMatches.filter(o=>!["redirected"].includes(o.status))}}}),tW(this)),typeof window<"u"&&"CSS"in window&&typeof((s=window.CSS)==null?void 0:s.supports)=="function"&&(this.isViewTransitionTypesSupported=window.CSS.supports("selector(:active-view-transition-type(a)"))},this.buildRouteTree=()=>{const{routesById:n,routesByPath:s,flatRoutes:i}=hW({routeTree:this.routeTree,initRoute:(l,u)=>{l.init({originalIndex:u})}});this.routesById=n,this.routesByPath=s,this.flatRoutes=i;const o=this.options.notFoundRoute;o&&(o.init({originalIndex:99999999999}),this.routesById[o.id]=o)},this.subscribe=(n,s)=>{const i={eventType:n,fn:s};return this.subscribers.add(i),()=>{this.subscribers.delete(i)}},this.emit=n=>{this.subscribers.forEach(s=>{s.eventType===n.type&&s.fn(n)})},this.parseLocation=(n,s)=>{const i=({pathname:d,search:h,hash:m,state:p})=>{const v=this.options.parseSearch(h),x=this.options.stringifySearch(v);return{pathname:d,searchStr:x,search:sr(n==null?void 0:n.search,v),hash:m.split("#").reverse()[0]??"",href:`${d}${x}${m}`,state:sr(n==null?void 0:n.state,p)}},o=i(s??this.history.location),{__tempLocation:l,__tempKey:u}=o.state;if(l&&(!u||u===this.tempLocationKey)){const d=i(l);return d.state.key=o.state.key,d.state.__TSR_key=o.state.__TSR_key,delete d.state.__tempLocation,{...d,maskedLocation:o}}return o},this.resolvePathWithBase=(n,s)=>$Y({basepath:this.basepath,base:n,to:_m(s),trailingSlash:this.options.trailingSlash,caseSensitive:this.options.caseSensitive}),this.matchRoutes=(n,s,i)=>typeof n=="string"?this.matchRoutesInternal({pathname:n,search:s},i):this.matchRoutesInternal(n,s),this.getMatchedRoutes=(n,s)=>pW({pathname:n,routePathname:s,basepath:this.basepath,caseSensitive:this.options.caseSensitive,routesByPath:this.routesByPath,routesById:this.routesById,flatRoutes:this.flatRoutes}),this.cancelMatch=n=>{const s=this.getMatch(n);s&&(s.abortController.abort(),this.updateMatch(n,i=>(clearTimeout(i.pendingTimeout),{...i,pendingTimeout:void 0})))},this.cancelMatches=()=>{var n;(n=this.state.pendingMatches)==null||n.forEach(s=>{this.cancelMatch(s.id)})},this.buildLocation=n=>{const s=(o={})=>{var l;const u=o._fromLocation||this.latestLocation,d=this.matchRoutes(u,{_buildLocation:!0}),h=Cb(d);let m=h.fullPath;const p=o.to?this.resolvePathWithBase(m,`${o.to}`):this.resolvePathWithBase(m,"."),v=!!o.to&&!this.comparePaths(o.to.toString(),m)&&!this.comparePaths(p,m);o.unsafeRelative==="path"?m=u.pathname:v&&o.from&&(m=o.from);const x=h.search,_={...h.params},w=o.to?this.resolvePathWithBase(m,`${o.to}`):this.resolvePathWithBase(m,".");let C=o.params===!1||o.params===null?{}:(o.params??!0)===!0?_:{..._,...zo(o.params,_)};const T=Ah({path:w,params:C??{}}).interpolatedPath,N=this.matchRoutes(T,{},{_buildLocation:!0}).map(z=>this.looseRoutesById[z.routeId]);Object.keys(C).length>0&&N.map(z=>{var I;return((I=z.options.params)==null?void 0:I.stringify)??z.options.stringifyParams}).filter(Boolean).forEach(z=>{C={...C,...z(C)}});const k=Ah({path:w,params:C??{},leaveWildcards:!1,leaveParams:n.leaveParams,decodeCharMap:this.pathParamsDecodeCharMap}).interpolatedPath;let A=x;if(n._includeValidateSearch&&((l=this.options.search)!=null&&l.strict)){let z={};N.forEach(I=>{try{I.options.validateSearch&&(z={...z,...Nb(I.options.validateSearch,{...z,...A})??{}})}catch{}}),A=z}A=mW({search:A,dest:o,destRoutes:N,_includeValidateSearch:n._includeValidateSearch}),A=sr(x,A);const O=this.options.stringifySearch(A),P=o.hash===!0?u.hash:o.hash?zo(o.hash,u.hash):void 0,j=P?`#${P}`:"";let D=o.state===!0?u.state:o.state?zo(o.state,u.state):{};return D=sr(u.state,D),{pathname:k,search:A,searchStr:O,state:D,hash:P??"",href:`${k}${O}${j}`,unmaskOnReload:o.unmaskOnReload}},i=(o={},l)=>{var u;const d=s(o);let h=l?s(l):void 0;if(!h){let m={};const p=(u=this.options.routeMasks)==null?void 0:u.find(v=>{const x=Tb(this.basepath,d.pathname,{to:v.from,caseSensitive:!1,fuzzy:!1});return x?(m=x,!0):!1});if(p){const{from:v,...x}=p;l={...Tp(n,["from"]),...x,params:m},h=s(l)}}if(h){const m=s(l);d.maskedLocation=m}return d};return n.mask?i(n,{...Tp(n,["from"]),...n.mask}):i(n)},this.commitLocation=({viewTransition:n,ignoreBlocker:s,...i})=>{const o=()=>{const d=["key","__TSR_key","__TSR_index","__hashScrollIntoViewOptions"];d.forEach(m=>{i.state[m]=this.latestLocation.state[m]});const h=cc(i.state,this.latestLocation.state);return d.forEach(m=>{delete i.state[m]}),h},l=this.latestLocation.href===i.href,u=this.commitLocationPromise;if(this.commitLocationPromise=ql(()=>{u==null||u.resolve()}),l&&o())this.load();else{let{maskedLocation:d,hashScrollIntoView:h,...m}=i;d&&(m={...d,state:{...d.state,__tempKey:void 0,__tempLocation:{...m,search:m.searchStr,state:{...m.state,__tempKey:void 0,__tempLocation:void 0,__TSR_key:void 0,key:void 0}}}},(m.unmaskOnReload??this.options.unmaskOnReload??!1)&&(m.state.__tempKey=this.tempLocationKey)),m.state.__hashScrollIntoViewOptions=h??this.options.defaultHashScrollIntoView??!0,this.shouldViewTransition=n,this.history[i.replace?"replace":"push"](m.href,m.state,{ignoreBlocker:s})}return this.resetNextScroll=i.resetScroll??!0,this.history.subscribers.size||this.load(),this.commitLocationPromise},this.buildAndCommitLocation=({replace:n,resetScroll:s,hashScrollIntoView:i,viewTransition:o,ignoreBlocker:l,href:u,...d}={})=>{if(u){const m=this.history.location.state.__TSR_index,p=Dd(u,{__TSR_index:n?m:m+1});d.to=p.pathname,d.search=this.options.parseSearch(p.search),d.hash=p.hash.slice(1)}const h=this.buildLocation({...d,_includeValidateSearch:!0});return this.commitLocation({...h,viewTransition:o,replace:n,resetScroll:s,hashScrollIntoView:i,ignoreBlocker:l})},this.navigate=({to:n,reloadDocument:s,href:i,...o})=>{if(!s&&i)try{new URL(`${i}`),s=!0}catch{}if(s){if(!i){const l=this.buildLocation({to:n,...o});i=this.history.createHref(l.href)}o.replace?window.location.replace(i):window.location.href=i;return}return this.buildAndCommitLocation({...o,href:i,to:n,_isNavigate:!0})},this.beforeLoad=()=>{if(this.cancelMatches(),this.latestLocation=this.parseLocation(this.latestLocation),this.isServer){const s=this.buildLocation({to:this.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0}),i=o=>{try{return encodeURI(decodeURI(o))}catch{return o}};if(jy(i(this.latestLocation.href))!==jy(i(s.href)))throw cW({href:s.href})}const n=this.matchRoutes(this.latestLocation);this.__store.setState(s=>({...s,status:"pending",statusCode:200,isLoading:!0,location:this.latestLocation,pendingMatches:n,cachedMatches:s.cachedMatches.filter(i=>!n.find(o=>o.id===i.id))}))},this.load=async n=>{let s,i,o;for(o=new Promise(l=>{this.startTransition(async()=>{var u;try{this.beforeLoad();const d=this.latestLocation,h=this.state.resolvedLocation;this.state.redirect||this.emit({type:"onBeforeNavigate",...Bo({resolvedLocation:h,location:d})}),this.emit({type:"onBeforeLoad",...Bo({resolvedLocation:h,location:d})}),await this.loadMatches({sync:n==null?void 0:n.sync,matches:this.state.pendingMatches,location:d,onReady:async()=>{this.startViewTransition(async()=>{let m,p,v;F2(()=>{this.__store.setState(x=>{const _=x.matches,w=x.pendingMatches||x.matches;return m=_.filter(C=>!w.find(T=>T.id===C.id)),p=w.filter(C=>!_.find(T=>T.id===C.id)),v=_.filter(C=>w.find(T=>T.id===C.id)),{...x,isLoading:!1,loadedAt:Date.now(),matches:w,pendingMatches:void 0,cachedMatches:[...x.cachedMatches,...m.filter(C=>C.status!=="error")]}}),this.clearExpiredCache()}),[[m,"onLeave"],[p,"onEnter"],[v,"onStay"]].forEach(([x,_])=>{x.forEach(w=>{var C,T;(T=(C=this.looseRoutesById[w.routeId].options)[_])==null||T.call(C,w)})})})}})}catch(d){Vr(d)?(s=d,this.isServer||this.navigate({...s.options,replace:!0,ignoreBlocker:!0})):ir(d)&&(i=d),this.__store.setState(h=>({...h,statusCode:s?s.status:i?404:h.matches.some(m=>m.status==="error")?500:200,redirect:s}))}this.latestLoadPromise===o&&((u=this.commitLocationPromise)==null||u.resolve(),this.latestLoadPromise=void 0,this.commitLocationPromise=void 0),l()})}),this.latestLoadPromise=o,await o;this.latestLoadPromise&&o!==this.latestLoadPromise;)await this.latestLoadPromise;this.hasNotFoundMatch()&&this.__store.setState(l=>({...l,statusCode:404}))},this.startViewTransition=n=>{const s=this.shouldViewTransition??this.options.defaultViewTransition;if(delete this.shouldViewTransition,s&&typeof document<"u"&&"startViewTransition"in document&&typeof document.startViewTransition=="function"){let i;if(typeof s=="object"&&this.isViewTransitionTypesSupported){const o=this.latestLocation,l=this.state.resolvedLocation,u=typeof s.types=="function"?s.types(Bo({resolvedLocation:l,location:o})):s.types;i={update:n,types:u}}else i=n;document.startViewTransition(i)}else n()},this.updateMatch=(n,s)=>{var i;let o;const l=(i=this.state.pendingMatches)==null?void 0:i.find(m=>m.id===n),u=this.state.matches.find(m=>m.id===n),d=this.state.cachedMatches.find(m=>m.id===n),h=l?"pendingMatches":u?"matches":d?"cachedMatches":"";return h&&this.__store.setState(m=>{var p;return{...m,[h]:(p=m[h])==null?void 0:p.map(v=>v.id===n?o=s(v):v)}}),o},this.getMatch=n=>[...this.state.cachedMatches,...this.state.pendingMatches??[],...this.state.matches].find(s=>s.id===n),this.loadMatches=async({location:n,matches:s,preload:i,onReady:o,updateMatch:l=this.updateMatch,sync:u})=>{let d,h=!1;const m=async()=>{h||(h=!0,await(o==null?void 0:o()))},p=_=>!!(i&&!this.state.matches.find(w=>w.id===_));!this.isServer&&this.state.matches.find(_=>_._forcePending)&&m();const v=(_,w)=>{var C,T,N;if(Vr(w)||ir(w)){if(Vr(w)&&w.redirectHandled&&!w.options.reloadDocument)throw w;if((C=_.beforeLoadPromise)==null||C.resolve(),(T=_.loaderPromise)==null||T.resolve(),l(_.id,k=>({...k,status:Vr(w)?"redirected":ir(w)?"notFound":"error",isFetching:!1,error:w,beforeLoadPromise:void 0,loaderPromise:void 0})),w.routeId||(w.routeId=_.routeId),(N=_.loadPromise)==null||N.resolve(),Vr(w))throw h=!0,w.options._fromLocation=n,w.redirectHandled=!0,w=this.resolveRedirect(w),w;if(ir(w))throw this._handleNotFound(s,w,{updateMatch:l}),w}},x=_=>{const w=this.getMatch(_);return!!(!this.isServer&&w._dehydrated||this.isServer&&w.ssr===!1)};try{await new Promise((_,w)=>{(async()=>{var C,T,N,k;try{const A=(j,D,z)=>{var I,H;const{id:V,routeId:X}=s[j],J=this.looseRoutesById[X];if(D instanceof Promise)throw D;D.routerCode=z,d=d??j,v(this.getMatch(V),D);try{(H=(I=J.options).onError)==null||H.call(I,D)}catch(ie){D=ie,v(this.getMatch(V),D)}l(V,ie=>{var R,B;return(R=ie.beforeLoadPromise)==null||R.resolve(),(B=ie.loadPromise)==null||B.resolve(),{...ie,error:D,status:"error",isFetching:!1,updatedAt:Date.now(),abortController:new AbortController,beforeLoadPromise:void 0}})};for(const[j,{id:D,routeId:z}]of s.entries()){const I=this.getMatch(D),H=(C=s[j-1])==null?void 0:C.id,V=H?this.getMatch(H):void 0,X=this.looseRoutesById[z],J=X.options.pendingMs??this.options.defaultPendingMs;if(this.isServer){let F;if(this.isShell())F=D===or;else{const se=this.options.defaultSsr??!0;if((V==null?void 0:V.ssr)===!1)F=!1;else{let W;if(X.options.ssr===void 0)W=se;else if(typeof X.options.ssr=="function"){let L=function(de,ce){return ce?{status:"error",error:ce}:{status:"success",value:de}};const{search:$,params:Y}=this.getMatch(D),ee={search:L($,I.searchError),params:L(Y,I.paramsError),location:n,matches:s.map(de=>({index:de.index,pathname:de.pathname,fullPath:de.fullPath,staticData:de.staticData,id:de.id,routeId:de.routeId,search:L(de.search,de.searchError),params:L(de.params,de.paramsError),ssr:de.ssr}))};W=await X.options.ssr(ee)??se}else W=X.options.ssr;W===!0&&(V==null?void 0:V.ssr)==="data-only"?F="data-only":F=W}}l(D,se=>({...se,ssr:F}))}if(x(D))continue;const ie=!!(o&&!this.isServer&&!p(D)&&(X.options.loader||X.options.beforeLoad||q2(X))&&typeof J=="number"&&J!==1/0&&(X.options.pendingComponent??((T=this.options)==null?void 0:T.defaultPendingComponent)));let R=!0;const B=()=>{if(ie&&this.getMatch(D).pendingTimeout===void 0){const F=setTimeout(()=>{try{m()}catch{}},J);l(D,se=>({...se,pendingTimeout:F}))}};if(I.beforeLoadPromise||I.loaderPromise){B(),await I.beforeLoadPromise;const F=this.getMatch(D);F.status==="error"?R=!0:F.preload&&(F.status==="redirected"||F.status==="notFound")&&v(F,F.error)}if(R){try{l(D,ge=>{const pe=ge.loadPromise;return{...ge,loadPromise:ql(()=>{pe==null||pe.resolve()}),beforeLoadPromise:ql()}});const{paramsError:F,searchError:se}=this.getMatch(D);F&&A(j,F,"PARSE_PARAMS"),se&&A(j,se,"VALIDATE_SEARCH"),B();const W=new AbortController,L=(V==null?void 0:V.context)??this.options.context??{};l(D,ge=>({...ge,isFetching:"beforeLoad",fetchCount:ge.fetchCount+1,abortController:W,context:{...L,...ge.__routeContext}}));const{search:$,params:Y,context:ee,cause:de}=this.getMatch(D),ce=p(D),ae={search:$,abortController:W,params:Y,preload:ce,context:ee,location:n,navigate:ge=>this.navigate({...ge,_fromLocation:n}),buildLocation:this.buildLocation,cause:ce?"preload":de,matches:s},me=await((k=(N=X.options).beforeLoad)==null?void 0:k.call(N,ae));(Vr(me)||ir(me))&&A(j,me,"BEFORE_LOAD"),l(D,ge=>({...ge,__beforeLoadContext:me,context:{...L,...ge.__routeContext,...me},abortController:W}))}catch(F){A(j,F,"BEFORE_LOAD")}l(D,F=>{var se;return(se=F.beforeLoadPromise)==null||se.resolve(),{...F,beforeLoadPromise:void 0,isFetching:!1}})}}const O=s.slice(0,d),P=[];O.forEach(({id:j,routeId:D},z)=>{P.push((async()=>{let I=!1,H=!1;const V=this.looseRoutesById[D],X=async()=>{var R,B,F,se,W,L;const $=this.getMatch(j);if(!$)return;const Y={matches:s,match:$,params:$.params,loaderData:$.loaderData},ee=await((B=(R=V.options).head)==null?void 0:B.call(R,Y)),de=ee==null?void 0:ee.meta,ce=ee==null?void 0:ee.links,ae=ee==null?void 0:ee.scripts,me=ee==null?void 0:ee.styles,ge=await((se=(F=V.options).scripts)==null?void 0:se.call(F,Y)),pe=await((L=(W=V.options).headers)==null?void 0:L.call(W,Y));return{meta:de,links:ce,headScripts:ae,headers:pe,scripts:ge,styles:me}},J=async()=>{const R=this.getMatch(j);R.minPendingPromise&&await R.minPendingPromise},ie=this.getMatch(j);if(x(j)){if(this.isServer){const R=await X();return l(j,B=>({...B,...R})),this.getMatch(j)}}else if(ie.loaderPromise){if(ie.status==="success"&&!u&&!ie.preload)return this.getMatch(j);await ie.loaderPromise;const R=this.getMatch(j);R.error&&v(R,R.error)}else{const R=P[z-1],B=()=>{const{params:ce,loaderDeps:ae,abortController:me,context:ge,cause:pe}=this.getMatch(j),Ce=p(j);return{params:ce,deps:ae,preload:!!Ce,parentMatchPromise:R,abortController:me,context:ge,location:n,navigate:Ee=>this.navigate({...Ee,_fromLocation:n}),cause:Ce?"preload":pe,route:V}},F=Date.now()-this.getMatch(j).updatedAt,se=p(j),W=se?V.options.preloadStaleTime??this.options.defaultPreloadStaleTime??3e4:V.options.staleTime??this.options.defaultStaleTime??0,L=V.options.shouldReload,$=typeof L=="function"?L(B()):L;l(j,ce=>({...ce,loaderPromise:ql(),preload:!!se&&!this.state.matches.find(ae=>ae.id===j)}));const Y=async()=>{var ce,ae,me,ge;try{try{(!this.isServer||this.isServer&&this.getMatch(j).ssr===!0)&&this.loadRouteChunk(V),l(j,Ee=>({...Ee,isFetching:"loader"}));const pe=await((ae=(ce=V.options).loader)==null?void 0:ae.call(ce,B()));v(this.getMatch(j),pe),l(j,Ee=>({...Ee,loaderData:pe})),await V._lazyPromise;const Ce=await X();await J(),await V._componentsPromise,l(j,Ee=>({...Ee,error:void 0,status:"success",isFetching:!1,updatedAt:Date.now(),...Ce}))}catch(pe){let Ce=pe;await J(),v(this.getMatch(j),pe);try{(ge=(me=V.options).onError)==null||ge.call(me,pe)}catch(Ke){Ce=Ke,v(this.getMatch(j),Ke)}const Ee=await X();l(j,Ke=>({...Ke,error:Ce,status:"error",isFetching:!1,...Ee}))}}catch(pe){const Ce=await X();l(j,Ee=>({...Ee,loaderPromise:void 0,...Ce})),v(this.getMatch(j),pe)}},{status:ee,invalid:de}=this.getMatch(j);if(I=ee==="success"&&(de||($??F>W)),!(se&&V.options.preload===!1))if(I&&!u)H=!0,(async()=>{try{await Y();const{loaderPromise:ce,loadPromise:ae}=this.getMatch(j);ce==null||ce.resolve(),ae==null||ae.resolve(),l(j,me=>({...me,loaderPromise:void 0}))}catch(ce){Vr(ce)&&await this.navigate(ce.options)}})();else if(ee!=="success"||I&&u)await Y();else{const ce=await X();l(j,ae=>({...ae,...ce}))}}if(!H){const{loaderPromise:R,loadPromise:B}=this.getMatch(j);R==null||R.resolve(),B==null||B.resolve()}return l(j,R=>(clearTimeout(R.pendingTimeout),{...R,isFetching:H?R.isFetching:!1,loaderPromise:H?R.loaderPromise:void 0,invalid:!1,pendingTimeout:void 0,_dehydrated:void 0})),this.getMatch(j)})())}),await Promise.all(P),_()}catch(A){w(A)}})()}),await m()}catch(_){if(Vr(_)||ir(_))throw ir(_)&&!i&&await m(),_}return s},this.invalidate=n=>{const s=i=>{var o;return((o=n==null?void 0:n.filter)==null?void 0:o.call(n,i))??!0?{...i,invalid:!0,...n!=null&&n.forcePending||i.status==="error"?{status:"pending",error:void 0}:{}}:i};return this.__store.setState(i=>{var o;return{...i,matches:i.matches.map(s),cachedMatches:i.cachedMatches.map(s),pendingMatches:(o=i.pendingMatches)==null?void 0:o.map(s)}}),this.shouldViewTransition=!1,this.load({sync:n==null?void 0:n.sync})},this.resolveRedirect=n=>(n.options.href||(n.options.href=this.buildLocation(n.options).href,n.headers.set("Location",n.options.href)),n.headers.get("Location")||n.headers.set("Location",n.options.href),n),this.clearCache=n=>{const s=n==null?void 0:n.filter;s!==void 0?this.__store.setState(i=>({...i,cachedMatches:i.cachedMatches.filter(o=>!s(o))})):this.__store.setState(i=>({...i,cachedMatches:[]}))},this.clearExpiredCache=()=>{const n=s=>{const i=this.looseRoutesById[s.routeId];if(!i.options.loader)return!0;const o=(s.preload?i.options.preloadGcTime??this.options.defaultPreloadGcTime:i.options.gcTime??this.options.defaultGcTime)??5*60*1e3;return!(s.status!=="error"&&Date.now()-s.updatedAt<o)};this.clearCache({filter:n})},this.loadRouteChunk=n=>(n._lazyPromise===void 0&&(n.lazyFn?n._lazyPromise=n.lazyFn().then(s=>{const{id:i,...o}=s.options;Object.assign(n.options,o)}):n._lazyPromise=Promise.resolve()),n._componentsPromise===void 0&&(n._componentsPromise=n._lazyPromise.then(()=>Promise.all(yO.map(async s=>{const i=n.options[s];i!=null&&i.preload&&await i.preload()})))),n._componentsPromise),this.preloadRoute=async n=>{const s=this.buildLocation(n);let i=this.matchRoutes(s,{throwOnError:!0,preload:!0,dest:n});const o=new Set([...this.state.matches,...this.state.pendingMatches??[]].map(u=>u.id)),l=new Set([...o,...this.state.cachedMatches.map(u=>u.id)]);F2(()=>{i.forEach(u=>{l.has(u.id)||this.__store.setState(d=>({...d,cachedMatches:[...d.cachedMatches,u]}))})});try{return i=await this.loadMatches({matches:i,location:s,preload:!0,updateMatch:(u,d)=>{o.has(u)?i=i.map(h=>h.id===u?d(h):h):this.updateMatch(u,d)}}),i}catch(u){if(Vr(u))return u.options.reloadDocument?void 0:await this.preloadRoute({...u.options,_fromLocation:s});ir(u)||console.error(u);return}},this.matchRoute=(n,s)=>{const i={...n,to:n.to?this.resolvePathWithBase(n.from||"",n.to):void 0,params:n.params||{},leaveParams:!0},o=this.buildLocation(i);if(s!=null&&s.pending&&this.state.status!=="pending")return!1;const u=((s==null?void 0:s.pending)===void 0?!this.state.isLoading:s.pending)?this.latestLocation:this.state.resolvedLocation||this.state.location,d=Tb(this.basepath,u.pathname,{...s,to:o.pathname});return!d||n.params&&!cc(d,n.params,{partial:!0})?!1:d&&((s==null?void 0:s.includeSearch)??!0)?cc(u.search,o.search,{partial:!0})?d:!1:d},this._handleNotFound=(n,s,{updateMatch:i=this.updateMatch}={})=>{var o;const l=this.routesById[s.routeId??""]??this.routeTree,u={};for(const h of n)u[h.routeId]=h;!l.options.notFoundComponent&&((o=this.options)!=null&&o.defaultNotFoundComponent)&&(l.options.notFoundComponent=this.options.defaultNotFoundComponent),qi(l.options.notFoundComponent);const d=u[l.id];qi(d,"Could not find match for route: "+l.id),i(d.id,h=>({...h,status:"notFound",error:s,isFetching:!1})),s.routerCode==="BEFORE_LOAD"&&l.parentRoute&&(s.routeId=l.parentRoute.id,this._handleNotFound(n,s,{updateMatch:i}))},this.hasNotFoundMatch=()=>this.__store.state.matches.some(n=>n.status==="notFound"||n.globalNotFound),this.update({defaultPreloadDelay:50,defaultPendingMs:1e3,defaultPendingMinMs:500,context:void 0,...e,caseSensitive:e.caseSensitive??!1,notFoundMode:e.notFoundMode??"fuzzy",stringifySearch:e.stringifySearch??aW,parseSearch:e.parseSearch??iW}),typeof document<"u"&&(self.__TSR_ROUTER__=this)}isShell(){return this.options.isShell}get state(){return this.__store.state}get looseRoutesById(){return this.routesById}matchRoutesInternal(e,n){var s;const{foundRoute:i,matchedRoutes:o,routeParams:l}=this.getMatchedRoutes(e.pathname,(s=n==null?void 0:n.dest)==null?void 0:s.to);let u=!1;(i?i.path!=="/"&&l["**"]:jc(e.pathname))&&(this.options.notFoundRoute?o.push(this.options.notFoundRoute):u=!0);const d=(()=>{if(u){if(this.options.notFoundMode!=="root")for(let v=o.length-1;v>=0;v--){const x=o[v];if(x.children)return x.id}return or}})(),h=o.map(v=>{var x;let _;const w=((x=v.options.params)==null?void 0:x.parse)??v.options.parseParams;if(w)try{const C=w(l);Object.assign(l,C)}catch(C){if(_=new dW(C.message,{cause:C}),n!=null&&n.throwOnError)throw _;return _}}),m=[],p=v=>(v==null?void 0:v.id)?v.context??this.options.context??{}:this.options.context??{};return o.forEach((v,x)=>{var _,w;const C=m[x-1],[T,N,k]=(()=>{const J=(C==null?void 0:C.search)??e.search,ie=(C==null?void 0:C._strictSearch)??{};try{const R=Nb(v.options.validateSearch,{...J})??{};return[{...J,...R},{...ie,...R},void 0]}catch(R){let B=R;if(R instanceof jp||(B=new jp(R.message,{cause:R})),n!=null&&n.throwOnError)throw B;return[J,{},B]}})(),A=((w=(_=v.options).loaderDeps)==null?void 0:w.call(_,{search:T}))??"",O=A?JSON.stringify(A):"",{usedParams:P,interpolatedPath:j}=Ah({path:v.fullPath,params:l,decodeCharMap:this.pathParamsDecodeCharMap}),D=Ah({path:v.id,params:l,leaveWildcards:!0,decodeCharMap:this.pathParamsDecodeCharMap}).interpolatedPath+O,z=this.getMatch(D),I=this.state.matches.find(J=>J.routeId===v.id),H=I?"stay":"enter";let V;if(z)V={...z,cause:H,params:I?sr(I.params,l):l,_strictParams:P,search:sr(I?I.search:z.search,T),_strictSearch:N};else{const J=v.options.loader||v.options.beforeLoad||v.lazyFn||q2(v)?"pending":"success";V={id:D,index:x,routeId:v.id,params:I?sr(I.params,l):l,_strictParams:P,pathname:Bi([this.basepath,j]),updatedAt:Date.now(),search:I?sr(I.search,T):T,_strictSearch:N,searchError:void 0,status:J,isFetching:!1,error:void 0,paramsError:h[x],__routeContext:{},__beforeLoadContext:void 0,context:{},abortController:new AbortController,fetchCount:0,cause:H,loaderDeps:I?sr(I.loaderDeps,A):A,invalid:!1,preload:!1,links:void 0,scripts:void 0,headScripts:void 0,meta:void 0,staticData:v.options.staticData||{},loadPromise:ql(),fullPath:v.fullPath}}n!=null&&n.preload||(V.globalNotFound=d===v.id),V.searchError=k;const X=p(C);V.context={...X,...V.__routeContext,...V.__beforeLoadContext},m.push(V)}),m.forEach((v,x)=>{var _,w;const C=this.looseRoutesById[v.routeId];if(!this.getMatch(v.id)&&(n==null?void 0:n._buildLocation)!==!0){const N=m[x-1],k=p(N),A={deps:v.loaderDeps,params:v.params,context:k,location:e,navigate:O=>this.navigate({...O,_fromLocation:e}),buildLocation:this.buildLocation,cause:v.cause,abortController:v.abortController,preload:!!v.preload,matches:m};v.__routeContext=((w=(_=C.options).context)==null?void 0:w.call(_,A))??{},v.context={...k,...v.__routeContext,...v.__beforeLoadContext}}}),m}comparePaths(e,n){return e.replace(/(.+)\/$/,"$1")===n.replace(/(.+)\/$/,"$1")}}class jp extends Error{}class dW extends Error{}function fW(t){return{loadedAt:0,isLoading:!1,isTransitioning:!1,status:"idle",resolvedLocation:void 0,location:t,matches:[],pendingMatches:[],cachedMatches:[],statusCode:200}}function Nb(t,e){if(t==null)return{};if("~standard"in t){const n=t["~standard"].validate(e);if(n instanceof Promise)throw new jp("Async validation not supported");if(n.issues)throw new jp(JSON.stringify(n.issues,void 0,2),{cause:n});return n.value}return"parse"in t?t.parse(e):typeof t=="function"?t(e):{}}const yO=["component","errorComponent","pendingComponent","notFoundComponent"];function q2(t){var e;for(const n of yO)if((e=t.options[n])!=null&&e.preload)return!0;return!1}function hW({routeTree:t,initRoute:e}){const n={},s={},i=d=>{d.forEach((h,m)=>{e==null||e(h,m);const p=n[h.id];if(qi(!p,`Duplicate routes found with id: ${String(h.id)}`),n[h.id]=h,!h.isRoot&&h.path){const x=jc(h.fullPath);(!s[x]||h.fullPath.endsWith("/"))&&(s[x]=h)}const v=h.children;v!=null&&v.length&&i(v)})};i([t]);const o=[];Object.values(n).forEach((d,h)=>{var m;if(d.isRoot||!d.path)return;const p=Ow(d.fullPath),v=Mc(p);for(;v.length>1&&((m=v[0])==null?void 0:m.value)==="/";)v.shift();const x=v.map(_=>_.value==="/"?.75:_.type==="param"?_.prefixSegment&&_.suffixSegment?.55:_.prefixSegment?.52:_.suffixSegment?.51:.5:_.type==="optional-param"?_.prefixSegment&&_.suffixSegment?.45:_.prefixSegment?.42:_.suffixSegment?.41:.4:_.type==="wildcard"?_.prefixSegment&&_.suffixSegment?.3:_.prefixSegment?.27:_.suffixSegment?.26:.25:1);o.push({child:d,trimmed:p,parsed:v,index:h,scores:x})});const u=o.sort((d,h)=>{const m=Math.min(d.scores.length,h.scores.length);for(let p=0;p<m;p++)if(d.scores[p]!==h.scores[p])return h.scores[p]-d.scores[p];if(d.scores.length!==h.scores.length){const p=d.parsed.filter(x=>x.type==="optional-param").length,v=h.parsed.filter(x=>x.type==="optional-param").length;return p!==v?p-v:h.scores.length-d.scores.length}for(let p=0;p<m;p++)if(d.parsed[p].value!==h.parsed[p].value)return d.parsed[p].value>h.parsed[p].value?1:-1;return d.index-h.index}).map((d,h)=>(d.child.rank=h,d.child));return{routesById:n,routesByPath:s,flatRoutes:u}}function pW({pathname:t,routePathname:e,basepath:n,caseSensitive:s,routesByPath:i,routesById:o,flatRoutes:l}){let u={};const d=jc(t),h=x=>{var _;return Tb(n,d,{to:x.fullPath,caseSensitive:((_=x.options)==null?void 0:_.caseSensitive)??s,fuzzy:!1})};let m=e!==void 0?i[e]:void 0;m?u=h(m):m=l.find(x=>{const _=h(x);return _?(u=_,!0):!1});let p=m||o[or];const v=[p];for(;p.parentRoute;)p=p.parentRoute,v.unshift(p);return{matchedRoutes:v,routeParams:u,foundRoute:m}}function mW({search:t,dest:e,destRoutes:n,_includeValidateSearch:s}){const i=n.reduce((u,d)=>{var h;const m=[];if("search"in d.options)(h=d.options.search)!=null&&h.middlewares&&m.push(...d.options.search.middlewares);else if(d.options.preSearchFilters||d.options.postSearchFilters){const p=({search:v,next:x})=>{let _=v;"preSearchFilters"in d.options&&d.options.preSearchFilters&&(_=d.options.preSearchFilters.reduce((C,T)=>T(C),v));const w=x(_);return"postSearchFilters"in d.options&&d.options.postSearchFilters?d.options.postSearchFilters.reduce((C,T)=>T(C),w):w};m.push(p)}if(s&&d.options.validateSearch){const p=({search:v,next:x})=>{const _=x(v);try{return{..._,...Nb(d.options.validateSearch,_)??{}}}catch{return _}};m.push(p)}return u.concat(m)},[])??[],o=({search:u})=>e.search?e.search===!0?u:zo(e.search,u):{};i.push(o);const l=(u,d)=>{if(u>=i.length)return d;const h=i[u];return h({search:d,next:p=>l(u+1,p)})};return l(0,t)}const gW="Error preloading route! ☝️";class bO{constructor(e){if(this.init=n=>{var s,i;this.originalIndex=n.originalIndex;const o=this.options,l=!(o!=null&&o.path)&&!(o!=null&&o.id);this.parentRoute=(i=(s=this.options).getParentRoute)==null?void 0:i.call(s),l?this._path=or:this.parentRoute||qi(!1);let u=l?or:o==null?void 0:o.path;u&&u!=="/"&&(u=Ow(u));const d=(o==null?void 0:o.id)||u;let h=l?or:Bi([this.parentRoute.id===or?"":this.parentRoute.id,d]);u===or&&(u="/"),h!==or&&(h=Bi(["/",h]));const m=h===or?"/":Bi([this.parentRoute.fullPath,u]);this._path=u,this._id=h,this._fullPath=m,this._to=m},this.clone=n=>{this._path=n._path,this._id=n._id,this._fullPath=n._fullPath,this._to=n._to,this.options.getParentRoute=n.options.getParentRoute,this.children=n.children},this.addChildren=n=>this._addFileChildren(n),this._addFileChildren=n=>(Array.isArray(n)&&(this.children=n),typeof n=="object"&&n!==null&&(this.children=Object.values(n)),this),this._addFileTypes=()=>this,this.updateLoader=n=>(Object.assign(this.options,n),this),this.update=n=>(Object.assign(this.options,n),this),this.lazy=n=>(this.lazyFn=n,this),this.options=e||{},this.isRoot=!(e!=null&&e.getParentRoute),e!=null&&e.id&&(e!=null&&e.path))throw new Error("Route cannot have both an 'id' and a 'path' option.")}get to(){return this._to}get id(){return this._id}get path(){return this._path}get fullPath(){return this._fullPath}}class vW extends bO{constructor(e){super(e)}}function Dw(t){const e=t.errorComponent??Sm;return g.jsx(yW,{getResetKey:t.getResetKey,onCatch:t.onCatch,children:({error:n,reset:s})=>n?S.createElement(e,{error:n,reset:s}):t.children})}class yW extends S.Component{constructor(){super(...arguments),this.state={error:null}}static getDerivedStateFromProps(e){return{resetKey:e.getResetKey()}}static getDerivedStateFromError(e){return{error:e}}reset(){this.setState({error:null})}componentDidUpdate(e,n){n.error&&n.resetKey!==this.state.resetKey&&this.reset()}componentDidCatch(e,n){this.props.onCatch&&this.props.onCatch(e,n)}render(){return this.props.children({error:this.state.resetKey!==this.props.getResetKey()?null:this.state.error,reset:()=>{this.reset()}})}}function Sm({error:t}){const[e,n]=S.useState(!1);return g.jsxs("div",{style:{padding:".5rem",maxWidth:"100%"},children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:".5rem"},children:[g.jsx("strong",{style:{fontSize:"1rem"},children:"Something went wrong!"}),g.jsx("button",{style:{appearance:"none",fontSize:".6em",border:"1px solid currentColor",padding:".1rem .2rem",fontWeight:"bold",borderRadius:".25rem"},onClick:()=>n(s=>!s),children:e?"Hide Error":"Show Error"})]}),g.jsx("div",{style:{height:".25rem"}}),e?g.jsx("div",{children:g.jsx("pre",{style:{fontSize:".7em",border:"1px solid red",borderRadius:".25rem",padding:".3rem",color:"red",overflow:"auto"},children:t.message?g.jsx("code",{children:t.message}):null})}):null]})}function bW({children:t,fallback:e=null}){return xW()?g.jsx(le.Fragment,{children:t}):g.jsx(le.Fragment,{children:e})}function xW(){return le.useSyncExternalStore(wW,()=>!0,()=>!1)}function wW(){return()=>{}}var Dy={exports:{}},Py={},Ly={exports:{}},Iy={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K2;function _W(){if(K2)return Iy;K2=1;var t=$d();function e(p,v){return p===v&&(p!==0||1/p===1/v)||p!==p&&v!==v}var n=typeof Object.is=="function"?Object.is:e,s=t.useState,i=t.useEffect,o=t.useLayoutEffect,l=t.useDebugValue;function u(p,v){var x=v(),_=s({inst:{value:x,getSnapshot:v}}),w=_[0].inst,C=_[1];return o(function(){w.value=x,w.getSnapshot=v,d(w)&&C({inst:w})},[p,x,v]),i(function(){return d(w)&&C({inst:w}),p(function(){d(w)&&C({inst:w})})},[p]),l(x),x}function d(p){var v=p.getSnapshot;p=p.value;try{var x=v();return!n(p,x)}catch{return!0}}function h(p,v){return v()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:u;return Iy.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:m,Iy}var G2;function SW(){return G2||(G2=1,Ly.exports=_W()),Ly.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y2;function CW(){if(Y2)return Py;Y2=1;var t=$d(),e=SW();function n(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var s=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,o=t.useRef,l=t.useEffect,u=t.useMemo,d=t.useDebugValue;return Py.useSyncExternalStoreWithSelector=function(h,m,p,v,x){var _=o(null);if(_.current===null){var w={hasValue:!1,value:null};_.current=w}else w=_.current;_=u(function(){function T(P){if(!N){if(N=!0,k=P,P=v(P),x!==void 0&&w.hasValue){var j=w.value;if(x(j,P))return A=j}return A=P}if(j=A,s(k,P))return j;var D=v(P);return x!==void 0&&x(j,D)?(k=P,j):(k=P,A=D)}var N=!1,k,A,O=p===void 0?null:p;return[function(){return T(m())},O===null?void 0:function(){return T(O())}]},[m,p,v,x]);var C=i(h,_[0],_[1]);return l(function(){w.hasValue=!0,w.value=C},[C]),d(C),C},Py}var W2;function EW(){return W2||(W2=1,Dy.exports=CW()),Dy.exports}var xO=EW();const FZ=Yp(xO);function TW(t,e=n=>n){return xO.useSyncExternalStoreWithSelector(t.subscribe,()=>t.state,()=>t.state,e,kW)}function kW(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[s,i]of t)if(!e.has(s)||!Object.is(i,e.get(s)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const s of t)if(!e.has(s))return!1;return!0}if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(let s=0;s<n.length;s++)if(!Object.prototype.hasOwnProperty.call(e,n[s])||!Object.is(t[n[s]],e[n[s]]))return!1;return!0}const Fy=S.createContext(null);function wO(){return typeof document>"u"?Fy:window.__TSR_ROUTER_CONTEXT__?window.__TSR_ROUTER_CONTEXT__:(window.__TSR_ROUTER_CONTEXT__=Fy,Fy)}function Mr(t){const e=S.useContext(wO());return t==null||t.warn,e}function Ts(t){const e=Mr({warn:(t==null?void 0:t.router)===void 0}),n=(t==null?void 0:t.router)||e,s=S.useRef(void 0);return TW(n.__store,i=>{if(t!=null&&t.select){if(t.structuralSharing??n.options.defaultStructuralSharing){const o=sr(s.current,t.select(i));return s.current=o,o}return t.select(i)}return i})}const Cm=S.createContext(void 0),NW=S.createContext(void 0);function pr(t){const e=S.useContext(t.from?NW:Cm);return Ts({select:s=>{const i=s.matches.find(o=>t.from?t.from===o.routeId:o.id===e);if(qi(!((t.shouldThrow??!0)&&!i),`Could not find ${t.from?`an active match from "${t.from}"`:"a nearest match!"}`),i!==void 0)return t.select?t.select(i):i},structuralSharing:t.structuralSharing})}function Pw(t){return pr({from:t.from,strict:t.strict,structuralSharing:t.structuralSharing,select:e=>t.select?t.select(e.loaderData):e.loaderData})}function Lw(t){const{select:e,...n}=t;return pr({...n,select:s=>e?e(s.loaderDeps):s.loaderDeps})}function Iw(t){return pr({from:t.from,strict:t.strict,shouldThrow:t.shouldThrow,structuralSharing:t.structuralSharing,select:e=>t.select?t.select(e.params):e.params})}function Fw(t){return pr({from:t.from,strict:t.strict,shouldThrow:t.shouldThrow,structuralSharing:t.structuralSharing,select:e=>t.select?t.select(e.search):e.search})}function Em(t){const{navigate:e,state:n}=Mr(),s=pr({strict:!1,select:i=>i.index});return S.useCallback(i=>{const o=i.from??(t==null?void 0:t.from)??n.matches[s].fullPath;return e({...i,from:o})},[t==null?void 0:t.from,e])}const Rh=typeof window<"u"?S.useLayoutEffect:S.useEffect;function zy(t){const e=S.useRef({value:t,prev:null}),n=e.current.value;return t!==n&&(e.current={value:t,prev:n}),e.current.prev}function AW(t,e,n={},s={}){S.useEffect(()=>{if(!t.current||s.disabled||typeof IntersectionObserver!="function")return;const i=new IntersectionObserver(([o])=>{e(o)},n);return i.observe(t.current),()=>{i.disconnect()}},[e,n,s.disabled,t])}function RW(t){const e=S.useRef(null);return S.useImperativeHandle(t,()=>e.current,[]),e}function jW(t,e){const n=Mr(),[s,i]=S.useState(!1),o=S.useRef(!1),l=RW(e),{activeProps:u,inactiveProps:d,activeOptions:h,to:m,preload:p,preloadDelay:v,hashScrollIntoView:x,replace:_,startTransition:w,resetScroll:C,viewTransition:T,children:N,target:k,disabled:A,style:O,className:P,onClick:j,onFocus:D,onMouseEnter:z,onMouseLeave:I,onTouchStart:H,ignoreBlocker:V,params:X,search:J,hash:ie,state:R,mask:B,reloadDocument:F,unsafeRelative:se,from:W,_fromLocation:L,...$}=t,Y=S.useMemo(()=>{try{return new URL(m),"external"}catch{}return"internal"},[m]),ee=Ts({select:Fe=>Fe.location.search,structuralSharing:!0}),de=pr({strict:!1,select:Fe=>t.from??Fe.fullPath}),ce=S.useMemo(()=>n.buildLocation({...t,from:de}),[n,ee,t._fromLocation,de,t.hash,t.to,t.search,t.params,t.state,t.mask,t.unsafeRelative]),ae=Y==="external",me=t.reloadDocument||ae?!1:p??n.options.defaultPreload,ge=v??n.options.defaultPreloadDelay??0,pe=Ts({select:Fe=>{if(ae)return!1;if(h!=null&&h.exact){if(!VY(Fe.location.pathname,ce.pathname,n.basepath))return!1}else{const it=kp(Fe.location.pathname,n.basepath),pt=kp(ce.pathname,n.basepath);if(!(it.startsWith(pt)&&(it.length===pt.length||it[pt.length]==="/")))return!1}return((h==null?void 0:h.includeSearch)??!0)&&!cc(Fe.location.search,ce.search,{partial:!(h!=null&&h.exact),ignoreUndefined:!(h!=null&&h.explicitUndefined)})?!1:h!=null&&h.includeHash?Fe.location.hash===ce.hash:!0}}),Ce=S.useCallback(()=>{n.preloadRoute({...t,from:de}).catch(Fe=>{console.warn(Fe),console.warn(gW)})},[n,t.to,t._fromLocation,de,t.search,t.hash,t.params,t.state,t.mask,t.unsafeRelative,t.hashScrollIntoView,t.href,t.ignoreBlocker,t.reloadDocument,t.replace,t.resetScroll,t.viewTransition]),Ee=S.useCallback(Fe=>{Fe!=null&&Fe.isIntersecting&&Ce()},[Ce]);if(AW(l,Ee,LW,{disabled:!!A||me!=="viewport"}),S.useEffect(()=>{o.current||!A&&me==="render"&&(Ce(),o.current=!0)},[A,Ce,me]),ae)return{...$,ref:l,type:Y,href:m,...N&&{children:N},...k&&{target:k},...A&&{disabled:A},...O&&{style:O},...P&&{className:P},...j&&{onClick:j},...D&&{onFocus:D},...z&&{onMouseEnter:z},...I&&{onMouseLeave:I},...H&&{onTouchStart:H}};const Ke=Fe=>{if(!A&&!IW(Fe)&&!Fe.defaultPrevented&&(!k||k==="_self")&&Fe.button===0){Fe.preventDefault(),Xo.flushSync(()=>{i(!0)});const it=n.subscribe("onResolved",()=>{it(),i(!1)});return n.navigate({...t,from:de,replace:_,resetScroll:C,hashScrollIntoView:x,startTransition:w,viewTransition:T,ignoreBlocker:V})}},st=Fe=>{A||me&&Ce()},Ve=st,Ut=Fe=>{if(!(A||!me))if(!ge)Ce();else{const it=Fe.target;if(qu.has(it))return;const pt=setTimeout(()=>{qu.delete(it),Ce()},ge);qu.set(it,pt)}},ft=Fe=>{if(A||!me||!ge)return;const it=Fe.target,pt=qu.get(it);pt&&(clearTimeout(pt),qu.delete(it))},rn=pe?zo(u,{})??MW:By,yt=pe?By:zo(d,{})??By,an=[P,rn.className,yt.className].filter(Boolean).join(" "),zn=(O||rn.style||yt.style)&&{...O,...rn.style,...yt.style};return{...$,...rn,...yt,href:A?void 0:ce.maskedLocation?n.history.createHref(ce.maskedLocation.href):n.history.createHref(ce.href),ref:l,onClick:Ku([j,Ke]),onFocus:Ku([D,st]),onMouseEnter:Ku([z,Ut]),onMouseLeave:Ku([I,ft]),onTouchStart:Ku([H,Ve]),disabled:!!A,target:k,...zn&&{style:zn},...an&&{className:an},...A&&OW,...pe&&DW,...s&&PW}}const By={},MW={className:"active"},OW={role:"link","aria-disabled":!0},DW={"data-status":"active","aria-current":"page"},PW={"data-transitioning":"transitioning"},qu=new WeakMap,LW={rootMargin:"100px"},Ku=t=>e=>{t.filter(Boolean).forEach(n=>{e.defaultPrevented||n(e)})},_O=S.forwardRef((t,e)=>{const{_asChild:n,...s}=t,{type:i,ref:o,...l}=jW(s,e),u=typeof s.children=="function"?s.children({isActive:l["data-status"]==="active"}):s.children;return n===void 0&&delete l.disabled,S.createElement(n||"a",{...l,ref:o},u)});function IW(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}let FW=class extends bO{constructor(e){super(e),this.useMatch=n=>pr({select:n==null?void 0:n.select,from:this.id,structuralSharing:n==null?void 0:n.structuralSharing}),this.useRouteContext=n=>pr({...n,from:this.id,select:s=>n!=null&&n.select?n.select(s.context):s.context}),this.useSearch=n=>Fw({select:n==null?void 0:n.select,structuralSharing:n==null?void 0:n.structuralSharing,from:this.id}),this.useParams=n=>Iw({select:n==null?void 0:n.select,structuralSharing:n==null?void 0:n.structuralSharing,from:this.id}),this.useLoaderDeps=n=>Lw({...n,from:this.id}),this.useLoaderData=n=>Pw({...n,from:this.id}),this.useNavigate=()=>Em({from:this.fullPath}),this.Link=le.forwardRef((n,s)=>g.jsx(_O,{ref:s,from:this.fullPath,...n})),this.$$typeof=Symbol.for("react.memo")}};function zW(t){return new FW(t)}class BW extends vW{constructor(e){super(e),this.useMatch=n=>pr({select:n==null?void 0:n.select,from:this.id,structuralSharing:n==null?void 0:n.structuralSharing}),this.useRouteContext=n=>pr({...n,from:this.id,select:s=>n!=null&&n.select?n.select(s.context):s.context}),this.useSearch=n=>Fw({select:n==null?void 0:n.select,structuralSharing:n==null?void 0:n.structuralSharing,from:this.id}),this.useParams=n=>Iw({select:n==null?void 0:n.select,structuralSharing:n==null?void 0:n.structuralSharing,from:this.id}),this.useLoaderDeps=n=>Lw({...n,from:this.id}),this.useLoaderData=n=>Pw({...n,from:this.id}),this.useNavigate=()=>Em({from:this.fullPath}),this.Link=le.forwardRef((n,s)=>g.jsx(_O,{ref:s,from:this.fullPath,...n})),this.$$typeof=Symbol.for("react.memo")}}function UW(t){return new BW(t)}function Oc(t){return typeof t=="object"?new X2(t,{silent:!0}).createRoute(t):new X2(t,{silent:!0}).createRoute}class X2{constructor(e,n){this.path=e,this.createRoute=s=>{this.silent;const i=zW(s);return i.isRoot=!1,i},this.silent=n==null?void 0:n.silent}}class Q2{constructor(e){this.useMatch=n=>pr({select:n==null?void 0:n.select,from:this.options.id,structuralSharing:n==null?void 0:n.structuralSharing}),this.useRouteContext=n=>pr({from:this.options.id,select:s=>n!=null&&n.select?n.select(s.context):s.context}),this.useSearch=n=>Fw({select:n==null?void 0:n.select,structuralSharing:n==null?void 0:n.structuralSharing,from:this.options.id}),this.useParams=n=>Iw({select:n==null?void 0:n.select,structuralSharing:n==null?void 0:n.structuralSharing,from:this.options.id}),this.useLoaderDeps=n=>Lw({...n,from:this.options.id}),this.useLoaderData=n=>Pw({...n,from:this.options.id}),this.useNavigate=()=>{const n=Mr();return Em({from:n.routesById[this.options.id].fullPath})},this.options=e,this.$$typeof=Symbol.for("react.memo")}}function J2(t){return typeof t=="object"?new Q2(t):e=>new Q2({id:t,...e})}function Tm(t,e){let n,s,i,o;const l=()=>(n||(n=t().then(d=>{n=void 0,s=d[e]}).catch(d=>{if(i=d,UY(i)&&i instanceof Error&&typeof window<"u"&&typeof sessionStorage<"u"){const h=`tanstack_router_reload:${i.message}`;sessionStorage.getItem(h)||(sessionStorage.setItem(h,"1"),o=!0)}})),n),u=function(h){if(o)throw window.location.reload(),new Promise(()=>{});if(i)throw i;if(!s)throw l();return S.createElement(s,h)};return u.preload=l,u}function VW(){const t=Mr(),e=S.useRef({router:t,mounted:!1}),[n,s]=S.useState(!1),{hasPendingMatches:i,isLoading:o}=Ts({select:p=>({isLoading:p.isLoading,hasPendingMatches:p.matches.some(v=>v.status==="pending")}),structuralSharing:!0}),l=zy(o),u=o||n||i,d=zy(u),h=o||i,m=zy(h);return t.startTransition=p=>{s(!0),S.startTransition(()=>{p(),s(!1)})},S.useEffect(()=>{const p=t.history.subscribe(t.load),v=t.buildLocation({to:t.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0});return jc(t.latestLocation.href)!==jc(v.href)&&t.commitLocation({...v,replace:!0}),()=>{p()}},[t,t.history]),Rh(()=>{if(typeof window<"u"&&t.ssr||e.current.router===t&&e.current.mounted)return;e.current={router:t,mounted:!0},(async()=>{try{await t.load()}catch(v){console.error(v)}})()},[t]),Rh(()=>{l&&!o&&t.emit({type:"onLoad",...Bo(t.state)})},[l,t,o]),Rh(()=>{m&&!h&&t.emit({type:"onBeforeRouteMount",...Bo(t.state)})},[h,m,t]),Rh(()=>{d&&!u&&(t.emit({type:"onResolved",...Bo(t.state)}),t.__store.setState(p=>({...p,status:"idle",resolvedLocation:p.location})),nW(t))},[u,d,t]),null}function $W(t){const e=Ts({select:n=>`not-found-${n.location.pathname}-${n.status}`});return g.jsx(Dw,{getResetKey:()=>e,onCatch:(n,s)=>{var i;if(ir(n))(i=t.onCatch)==null||i.call(t,n,s);else throw n},errorComponent:({error:n})=>{var s;if(ir(n))return(s=t.fallback)==null?void 0:s.call(t,n);throw n},children:t.children})}function HW(){return g.jsx("p",{children:"Not Found"})}function Kl(t){return g.jsx(g.Fragment,{children:t.children})}function SO(t,e,n){return e.options.notFoundComponent?g.jsx(e.options.notFoundComponent,{data:n}):t.options.defaultNotFoundComponent?g.jsx(t.options.defaultNotFoundComponent,{data:n}):g.jsx(HW,{})}function qW({children:t}){return typeof document<"u"?null:g.jsx("script",{className:"$tsr",dangerouslySetInnerHTML:{__html:[t].filter(Boolean).join(`
`)}})}function KW(){const t=Mr(),n=(t.options.getScrollRestorationKey||kb)(t.latestLocation),s=n!==kb(t.latestLocation)?n:null;return!t.isScrollRestoring||!t.isServer?null:g.jsx(qW,{children:`(${vO.toString()})(${JSON.stringify(Ap)},${JSON.stringify(s)}, undefined, true)`})}const CO=S.memo(function({matchId:e}){var n,s;const i=Mr(),o=Ts({select:k=>{const A=k.matches.find(O=>O.id===e);return qi(A),Tp(A,["routeId","ssr","_displayPending"])},structuralSharing:!0}),l=i.routesById[o.routeId],u=l.options.pendingComponent??i.options.defaultPendingComponent,d=u?g.jsx(u,{}):null,h=l.options.errorComponent??i.options.defaultErrorComponent,m=l.options.onCatch??i.options.defaultOnCatch,p=l.isRoot?l.options.notFoundComponent??((n=i.options.notFoundRoute)==null?void 0:n.options.component):l.options.notFoundComponent,v=o.ssr===!1||o.ssr==="data-only",x=(!l.isRoot||l.options.wrapInSuspense||v)&&(l.options.wrapInSuspense??u??(((s=l.options.errorComponent)==null?void 0:s.preload)||v))?S.Suspense:Kl,_=h?Dw:Kl,w=p?$W:Kl,C=Ts({select:k=>k.loadedAt}),T=Ts({select:k=>{var A;const O=k.matches.findIndex(P=>P.id===e);return(A=k.matches[O-1])==null?void 0:A.routeId}}),N=l.isRoot?l.options.shellComponent??Kl:Kl;return g.jsxs(N,{children:[g.jsx(Cm.Provider,{value:e,children:g.jsx(x,{fallback:d,children:g.jsx(_,{getResetKey:()=>C,errorComponent:h||Sm,onCatch:(k,A)=>{if(ir(k))throw k;m==null||m(k,A)},children:g.jsx(w,{fallback:k=>{if(!p||k.routeId&&k.routeId!==o.routeId||!k.routeId&&!l.isRoot)throw k;return S.createElement(p,k)},children:v||o._displayPending?g.jsx(bW,{fallback:d,children:g.jsx(Z2,{matchId:e})}):g.jsx(Z2,{matchId:e})})})})}),T===or&&i.options.scrollRestoration?g.jsxs(g.Fragment,{children:[g.jsx(GW,{}),g.jsx(KW,{})]}):null]})});function GW(){const t=Mr(),e=S.useRef(void 0);return g.jsx("script",{suppressHydrationWarning:!0,ref:n=>{n&&(e.current===void 0||e.current.href!==t.latestLocation.href)&&(t.emit({type:"onRendered",...Bo(t.state)}),e.current=t.latestLocation)}},t.latestLocation.state.__TSR_key)}const Z2=S.memo(function({matchId:e}){var n,s,i,o,l;const u=Mr(),{match:d,key:h,routeId:m}=Ts({select:x=>{const _=x.matches.findIndex(A=>A.id===e),w=x.matches[_],C=w.routeId,T=u.routesById[C].options.remountDeps??u.options.defaultRemountDeps,N=T==null?void 0:T({routeId:C,loaderDeps:w.loaderDeps,params:w._strictParams,search:w._strictSearch});return{key:N?JSON.stringify(N):void 0,routeId:C,match:Tp(w,["id","status","error","_forcePending","_displayPending"])}},structuralSharing:!0}),p=u.routesById[m],v=S.useMemo(()=>{const x=p.options.component??u.options.defaultComponent;return x?g.jsx(x,{},h):g.jsx(EO,{})},[h,p.options.component,u.options.defaultComponent]);if(d._displayPending)throw(n=u.getMatch(d.id))==null?void 0:n.displayPendingPromise;if(d._forcePending)throw(s=u.getMatch(d.id))==null?void 0:s.minPendingPromise;if(d.status==="pending"){const x=p.options.pendingMinMs??u.options.defaultPendingMinMs;if(x&&!((i=u.getMatch(d.id))!=null&&i.minPendingPromise)&&!u.isServer){const _=ql();Promise.resolve().then(()=>{u.updateMatch(d.id,w=>({...w,minPendingPromise:_}))}),setTimeout(()=>{_.resolve(),u.updateMatch(d.id,w=>({...w,minPendingPromise:void 0}))},x)}throw(o=u.getMatch(d.id))==null?void 0:o.loadPromise}if(d.status==="notFound")return qi(ir(d.error)),SO(u,p,d.error);if(d.status==="redirected")throw qi(Vr(d.error)),(l=u.getMatch(d.id))==null?void 0:l.loadPromise;if(d.status==="error"){if(u.isServer){const x=(p.options.errorComponent??u.options.defaultErrorComponent)||Sm;return g.jsx(x,{error:d.error,reset:void 0,info:{componentStack:""}})}throw d.error}return v}),EO=S.memo(function(){const e=Mr(),n=S.useContext(Cm),s=Ts({select:h=>{var m;return(m=h.matches.find(p=>p.id===n))==null?void 0:m.routeId}}),i=e.routesById[s],o=Ts({select:h=>{const p=h.matches.find(v=>v.id===n);return qi(p),p.globalNotFound}}),l=Ts({select:h=>{var m;const p=h.matches,v=p.findIndex(x=>x.id===n);return(m=p[v+1])==null?void 0:m.id}}),u=e.options.defaultPendingComponent?g.jsx(e.options.defaultPendingComponent,{}):null;if(o)return SO(e,i,void 0);if(!l)return null;const d=g.jsx(CO,{matchId:l});return n===or?g.jsx(S.Suspense,{fallback:u,children:d}):d});function YW(){const t=Mr(),e=t.options.defaultPendingComponent?g.jsx(t.options.defaultPendingComponent,{}):null,n=t.isServer||typeof document<"u"&&t.ssr?Kl:S.Suspense,s=g.jsxs(n,{fallback:e,children:[!t.isServer&&g.jsx(VW,{}),g.jsx(WW,{})]});return t.options.InnerWrap?g.jsx(t.options.InnerWrap,{children:s}):s}function WW(){const t=Ts({select:n=>{var s;return(s=n.matches[0])==null?void 0:s.id}}),e=Ts({select:n=>n.loadedAt});return g.jsx(Cm.Provider,{value:t,children:g.jsx(Dw,{getResetKey:()=>e,errorComponent:Sm,onCatch:n=>{n.message||n.toString()},children:t?g.jsx(CO,{matchId:t}):null})})}const XW=t=>new QW(t);class QW extends uW{constructor(e){super(e)}}typeof globalThis<"u"?(globalThis.createFileRoute=Oc,globalThis.createLazyFileRoute=J2):typeof window<"u"&&(window.createFileRoute=Oc,window.createFileRoute=J2);function JW({router:t,children:e,...n}){Object.keys(n).length>0&&t.update({...t.options,...n,context:{...t.options.context,...n.context}});const s=wO(),i=g.jsx(s.Provider,{value:t,children:e});return t.options.Wrap?g.jsx(t.options.Wrap,{children:i}):i}function ZW({router:t,...e}){return g.jsx(JW,{router:t,...e,children:g.jsx(YW,{})})}const eX=({error:t,reset:e})=>{const n=Em(),s=()=>{n({to:"/"})};return g.jsxs("div",{className:"flex flex-col items-center justify-center h-screen",children:[g.jsx("h1",{className:"text-2xl font-bold",children:"Error"}),g.jsxs("div",{className:"flex items-center gap-2 border bg-accent rounded-md px-2 py-1",children:[g.jsxs("p",{children:["Error Name: ",t==null?void 0:t.name]}),g.jsx(_V,{orientation:"vertical"}),g.jsxs("p",{children:["Error Message: ",t==null?void 0:t.message]})]}),g.jsxs("div",{className:"flex flex-col gap-2 mt-4 bg-orange-50 rounded-md p-3 border border-orange-100",children:[g.jsx("pre",{className:"text-sm",children:t==null?void 0:t.stack}),g.jsxs("div",{className:"flex gap-2 w-full justify-center items-center mt-4",children:[g.jsx(Be,{variant:"ghost",onClick:s,children:"Back to Home"}),g.jsx(Be,{onClick:()=>e(),children:"Reset"})]})]})]})},tX="modulepreload",nX=function(t){return"/"+t},ek={},km=function(e,n,s){let i=Promise.resolve();if(n&&n.length>0){let l=function(h){return Promise.all(h.map(m=>Promise.resolve(m).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),d=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));i=l(n.map(h=>{if(h=nX(h),h in ek)return;ek[h]=!0;const m=h.endsWith(".css"),p=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${p}`))return;const v=document.createElement("link");if(v.rel=m?"stylesheet":tX,m||(v.as="script"),v.crossOrigin="",v.href=h,d&&v.setAttribute("nonce",d),document.head.appendChild(v),m)return new Promise((x,_)=>{v.addEventListener("load",x),v.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${h}`)))})}))}function o(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return i.then(l=>{for(const u of l||[])u.status==="rejected"&&o(u.reason);return e().catch(o)})},sX=function(){return null},Jd=UW({component:()=>g.jsxs(g.Fragment,{children:[g.jsx(EO,{}),g.jsx(sX,{})]}),errorComponent:eX}),rX=()=>km(()=>import("./knowledge-BEjXPl0L.js"),__vite__mapDeps([0,1,2])),iX=Oc("/knowledge")({component:Tm(rX,"component")}),aX=()=>km(()=>import("./agent_studio-Di1AWLGG.js"),__vite__mapDeps([3,4,5,6,1,7])),oX=Oc("/agent_studio")({component:Tm(aX,"component")}),lX=()=>km(()=>import("./index-BSGiiTQO.js"),__vite__mapDeps([8,9,1])),cX=Oc("/")({component:Tm(lX,"component")}),uX=()=>km(()=>import("./percentages-BXMCSKIN-H3kKJIUp.js").then(t=>t.b),__vite__mapDeps([10,9,1,6,2,11])),dX=Oc("/canvas/$id")({component:Tm(uX,"component")}),fX=iX.update({id:"/knowledge",path:"/knowledge",getParentRoute:()=>Jd}),hX=oX.update({id:"/agent_studio",path:"/agent_studio",getParentRoute:()=>Jd}),pX=cX.update({id:"/",path:"/",getParentRoute:()=>Jd}),mX=dX.update({id:"/canvas/$id",path:"/canvas/$id",getParentRoute:()=>Jd}),gX={IndexRoute:pX,Agent_studioRoute:hX,KnowledgeRoute:fX,CanvasIdRoute:mX},vX=Jd._addFileChildren(gX)._addFileTypes();function bn(){return bn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)({}).hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},bn.apply(null,arguments)}function Nm(t,e){if(t==null)return{};var n={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(e.includes(s))continue;n[s]=t[s]}return n}function Uo(t){var e=S.useRef({fn:t,curr:void 0}).current;if(e.fn=t,!e.curr){var n=Object.create(null);Object.keys(t).forEach(function(s){n[s]=function(){var i;return(i=e.fn[s]).call.apply(i,[e.fn].concat([].slice.call(arguments)))}}),e.curr=n}return e.curr}function Mp(t){return S.useReducer(function(e,n){return bn({},e,typeof n=="function"?n(e):n)},t)}var TO=S.createContext(void 0),tk="cubic-bezier(0.25, 0.8, 0.25, 1)",Vl=20,Di=typeof window<"u"&&"ontouchstart"in window,Ab=function(t,e,n){return Math.max(Math.min(t,n),e)},jh=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=0),Ab(t,1*(1-n),Math.max(6,e)*(1+n))},Rb=typeof window>"u"||/ServerSideRendering/.test(navigator&&navigator.userAgent)?S.useEffect:S.useLayoutEffect;function Gl(t,e,n){var s=S.useRef(e);s.current=e,S.useEffect(function(){function i(o){s.current(o)}return t&&window.addEventListener(t,i,n),function(){t&&window.removeEventListener(t,i)}},[t])}var yX=["container"];function bX(t){var e=t.container,n=e===void 0?document.body:e,s=Nm(t,yX);return Xo.createPortal(le.createElement("div",bn({},s)),n)}function xX(t){return le.createElement("svg",bn({width:"44",height:"44",viewBox:"0 0 768 768"},t),le.createElement("path",{d:"M607.5 205.5l-178.5 178.5 178.5 178.5-45 45-178.5-178.5-178.5 178.5-45-45 178.5-178.5-178.5-178.5 45-45 178.5 178.5 178.5-178.5z"}))}function wX(t){return le.createElement("svg",bn({width:"44",height:"44",viewBox:"0 0 768 768"},t),le.createElement("path",{d:"M640.5 352.5v63h-390l178.5 180-45 45-256.5-256.5 256.5-256.5 45 45-178.5 180h390z"}))}function _X(t){return le.createElement("svg",bn({width:"44",height:"44",viewBox:"0 0 768 768"},t),le.createElement("path",{d:"M384 127.5l256.5 256.5-256.5 256.5-45-45 178.5-180h-390v-63h390l-178.5-180z"}))}function SX(){return S.useEffect(function(){var t=document.body.style,e=t.overflow;return t.overflow="hidden",function(){t.overflow=e}},[]),null}function nk(t){var e=t.touches[0],n=e.clientX,s=e.clientY;if(t.touches.length>=2){var i=t.touches[1],o=i.clientX,l=i.clientY;return[(n+o)/2,(s+l)/2,Math.sqrt(Math.pow(o-n,2)+Math.pow(l-s,2))]}return[n,s,0]}var Ea=function(t,e,n,s){var i,o=n*e,l=(o-s)/2,u=t;return o<=s?(i=1,u=0):t>0&&l-t<=0?(i=2,u=l):t<0&&l+t<=0&&(i=3,u=-l),[i,u]};function Uy(t,e,n,s,i,o,l,u,d,h){l===void 0&&(l=innerWidth/2),u===void 0&&(u=innerHeight/2),d===void 0&&(d=0),h===void 0&&(h=0);var m=Ea(t,o,n,innerWidth)[0],p=Ea(e,o,s,innerHeight),v=innerWidth/2,x=innerHeight/2;return{x:l-o/i*(l-(v+t))-v+(s/n>=3&&n*o===innerWidth?0:m?d/2:d),y:u-o/i*(u-(x+e))-x+(p[0]?h/2:h),lastCX:l,lastCY:u}}function jb(t,e,n){var s=t%180!=0;return s?[n,e,s]:[e,n,s]}function Vy(t,e,n){var s=jb(n,innerWidth,innerHeight),i=s[0],o=s[1],l=0,u=i,d=o,h=t/e*o,m=e/t*i;return t<i&&e<o?(u=t,d=e):t<i&&e>=o?u=h:t>=i&&e<o||t/e>i/o?d=m:e/t>=3&&!s[2]?l=((d=m)-o)/2:u=h,{width:u,height:d,x:0,y:l,pause:!0}}function Mh(t,e){var n=e.leading,s=n!==void 0&&n,i=e.maxWait,o=e.wait,l=o===void 0?i||0:o,u=S.useRef(t);u.current=t;var d=S.useRef(0),h=S.useRef(),m=function(){return h.current&&clearTimeout(h.current)},p=S.useCallback(function(){var v=[].slice.call(arguments),x=Date.now();function _(){d.current=x,m(),u.current.apply(null,v)}var w=d.current,C=x-w;if(w===0&&(s&&_(),d.current=x),i!==void 0){if(C>i)return void _()}else C<l&&(d.current=x);m(),h.current=setTimeout(function(){_(),d.current=0},l)},[l,i,s]);return p.cancel=m,p}var sk=function(t,e,n){return wo(t,e,n,100,function(s){return s},function(){return wo(e,t,n)})},CX=function(t){return 1-Math.pow(1-t,4)};function wo(t,e,n,s,i,o){s===void 0&&(s=400),i===void 0&&(i=CX);var l=e-t;if(l!==0){var u=Date.now(),d=0,h=function(){var p=Math.min(1,(Date.now()-u)/s);n(t+i(p)*l)&&p<1?m():(cancelAnimationFrame(d),p>=1&&o&&o())};m()}function m(){d=requestAnimationFrame(h)}}var EX={T:0,L:0,W:0,H:0,FIT:void 0},kO=function(){var t=S.useRef(!1);return S.useEffect(function(){return t.current=!0,function(){t.current=!1}},[]),t},TX=["className"];function kX(t){var e=t.className,n=e===void 0?"":e,s=Nm(t,TX);return le.createElement("div",bn({className:"PhotoView__Spinner "+n},s),le.createElement("svg",{viewBox:"0 0 32 32",width:"36",height:"36",fill:"white"},le.createElement("path",{opacity:".25",d:"M16 0 A16 16 0 0 0 16 32 A16 16 0 0 0 16 0 M16 4 A12 12 0 0 1 16 28 A12 12 0 0 1 16 4"}),le.createElement("path",{d:"M16 0 A16 16 0 0 1 32 16 L28 16 A12 12 0 0 0 16 4z"})))}var NX=["src","loaded","broken","className","onPhotoLoad","loadingElement","brokenElement"];function AX(t){var e=t.src,n=t.loaded,s=t.broken,i=t.className,o=t.onPhotoLoad,l=t.loadingElement,u=t.brokenElement,d=Nm(t,NX),h=kO();return e&&!s?le.createElement(le.Fragment,null,le.createElement("img",bn({className:"PhotoView__Photo"+(i?" "+i:""),src:e,onLoad:function(m){var p=m.target;h.current&&o({loaded:!0,naturalWidth:p.naturalWidth,naturalHeight:p.naturalHeight})},onError:function(){h.current&&o({broken:!0})},draggable:!1,alt:""},d)),!n&&(l?le.createElement("span",{className:"PhotoView__icon"},l):le.createElement(kX,{className:"PhotoView__icon"}))):u?le.createElement("span",{className:"PhotoView__icon"},typeof u=="function"?u({src:e}):u):null}var RX={naturalWidth:void 0,naturalHeight:void 0,width:void 0,height:void 0,loaded:void 0,broken:!1,x:0,y:0,touched:!1,maskTouched:!1,rotate:0,scale:1,CX:0,CY:0,lastX:0,lastY:0,lastCX:0,lastCY:0,lastScale:1,touchTime:0,touchLength:0,pause:!0,stopRaf:!0,reach:void 0};function jX(t){var e=t.item,n=e.src,s=e.render,i=e.width,o=i===void 0?0:i,l=e.height,u=l===void 0?0:l,d=e.originRef,h=t.visible,m=t.speed,p=t.easing,v=t.wrapClassName,x=t.className,_=t.style,w=t.loadingElement,C=t.brokenElement,T=t.onPhotoTap,N=t.onMaskTap,k=t.onReachMove,A=t.onReachUp,O=t.onPhotoResize,P=t.isActive,j=t.expose,D=Mp(RX),z=D[0],I=D[1],H=S.useRef(0),V=kO(),X=z.naturalWidth,J=X===void 0?o:X,ie=z.naturalHeight,R=ie===void 0?u:ie,B=z.width,F=B===void 0?o:B,se=z.height,W=se===void 0?u:se,L=z.loaded,$=L===void 0?!n:L,Y=z.broken,ee=z.x,de=z.y,ce=z.touched,ae=z.stopRaf,me=z.maskTouched,ge=z.rotate,pe=z.scale,Ce=z.CX,Ee=z.CY,Ke=z.lastX,st=z.lastY,Ve=z.lastCX,Ut=z.lastCY,ft=z.lastScale,rn=z.touchTime,yt=z.touchLength,an=z.pause,zn=z.reach,Fe=Uo({onScale:function(te){return it(jh(te))},onRotate:function(te){ge!==te&&(j({rotate:te}),I(bn({rotate:te},Vy(J,R,te))))}});function it(te,ye,je){pe!==te&&(j({scale:te}),I(bn({scale:te},Uy(ee,de,F,W,pe,te,ye,je),te<=1&&{x:0,y:0})))}var pt=Mh(function(te,ye,je){if(je===void 0&&(je=0),(ce||me)&&P){var At=jb(ge,F,W),_n=At[0],Xe=At[1];if(je===0&&H.current===0){var bt=Math.abs(te-Ce)<=20,Zt=Math.abs(ye-Ee)<=20;if(bt&&Zt)return void I({lastCX:te,lastCY:ye});H.current=bt?ye>Ee?3:2:1}var Rt,Vt=te-Ve,Qn=ye-Ut;if(je===0){var pn=Ea(Vt+Ke,pe,_n,innerWidth)[0],Pr=Ea(Qn+st,pe,Xe,innerHeight);Rt=function(Nn,Tt,Dt,An){return Tt&&Nn===1||An==="x"?"x":Dt&&Nn>1||An==="y"?"y":void 0}(H.current,pn,Pr[0],zn),Rt!==void 0&&k(Rt,te,ye,pe)}if(Rt==="x"||me)return void I({reach:"x"});var Vs=jh(pe+(je-yt)/100/2*pe,J/F,.2);j({scale:Vs}),I(bn({touchLength:je,reach:Rt,scale:Vs},Uy(ee,de,F,W,pe,Vs,te,ye,Vt,Qn)))}},{maxWait:8});function Or(te){return!ae&&!ce&&(V.current&&I(bn({},te,{pause:h})),V.current)}var Bn,Xn,Un,gr,ls,fi,ks,Qt,on=(ls=function(te){return Or({x:te})},fi=function(te){return Or({y:te})},ks=function(te){return V.current&&(j({scale:te}),I({scale:te})),!ce&&V.current},Qt=Uo({X:function(te){return ls(te)},Y:function(te){return fi(te)},S:function(te){return ks(te)}}),function(te,ye,je,At,_n,Xe,bt,Zt,Rt,Vt,Qn){var pn=jb(Vt,_n,Xe),Pr=pn[0],Vs=pn[1],Nn=Ea(te,Zt,Pr,innerWidth),Tt=Nn[0],Dt=Nn[1],An=Ea(ye,Zt,Vs,innerHeight),Lr=An[0],Jo=An[1],Gi=Date.now()-Qn;if(Gi>=200||Zt!==bt||Math.abs(Rt-bt)>1){var vr=Uy(te,ye,_n,Xe,bt,Zt),Jn=vr.x,yr=vr.y,mn=Tt?Dt:Jn!==te?Jn:null,Ns=Lr?Jo:yr!==ye?yr:null;return mn!==null&&wo(te,mn,Qt.X),Ns!==null&&wo(ye,Ns,Qt.Y),void(Zt!==bt&&wo(bt,Zt,Qt.S))}var As=(te-je)/Gi,Zn=(ye-At)/Gi,kt=Math.sqrt(Math.pow(As,2)+Math.pow(Zn,2)),$s=!1,Hs=!1;(function(gn,$t){var Rn,cs=gn,qs=0,us=0,br=function(Sn){Rn||(Rn=Sn);var Yi=Sn-Rn,Zd=Math.sign(gn),Zo=-.001*Zd,Qc=Math.sign(-cs)*Math.pow(cs,2)*2e-4,el=cs*Yi+(Zo+Qc)*Math.pow(Yi,2)/2;qs+=el,Rn=Sn,Zd*(cs+=(Zo+Qc)*Yi)<=0?Ht():$t(qs)?es():Ht()};function es(){us=requestAnimationFrame(br)}function Ht(){cancelAnimationFrame(us)}es()})(kt,function(gn){var $t=te+gn*(As/kt),Rn=ye+gn*(Zn/kt),cs=Ea($t,bt,Pr,innerWidth),qs=cs[0],us=cs[1],br=Ea(Rn,bt,Vs,innerHeight),es=br[0],Ht=br[1];if(qs&&!$s&&($s=!0,Tt?wo($t,us,Qt.X):sk(us,$t+($t-us),Qt.X)),es&&!Hs&&(Hs=!0,Lr?wo(Rn,Ht,Qt.Y):sk(Ht,Rn+(Rn-Ht),Qt.Y)),$s&&Hs)return!1;var Sn=$s||Qt.X(us),Yi=Hs||Qt.Y(Ht);return Sn&&Yi})}),wn=(Bn=T,Xn=function(te,ye){zn||it(pe!==1?1:Math.max(2,J/F),te,ye)},Un=S.useRef(0),gr=Mh(function(){Un.current=0,Bn.apply(void 0,[].slice.call(arguments))},{wait:300}),function(){var te=[].slice.call(arguments);Un.current+=1,gr.apply(void 0,te),Un.current>=2&&(gr.cancel(),Un.current=0,Xn.apply(void 0,te))});function Ft(te,ye){if(H.current=0,(ce||me)&&P){I({touched:!1,maskTouched:!1,pause:!1,stopRaf:!1,reach:void 0});var je=jh(pe,J/F);if(on(ee,de,Ke,st,F,W,pe,je,ft,ge,rn),A(te,ye),Ce===te&&Ee===ye){if(ce)return void wn(te,ye);me&&N(te,ye)}}}function hi(te,ye,je){je===void 0&&(je=0),I({touched:!0,CX:te,CY:ye,lastCX:te,lastCY:ye,lastX:ee,lastY:de,lastScale:pe,touchLength:je,touchTime:Date.now()})}function Dr(te){I({maskTouched:!0,CX:te.clientX,CY:te.clientY,lastX:ee,lastY:de})}Gl(Di?void 0:"mousemove",function(te){te.preventDefault(),pt(te.clientX,te.clientY)}),Gl(Di?void 0:"mouseup",function(te){Ft(te.clientX,te.clientY)}),Gl(Di?"touchmove":void 0,function(te){te.preventDefault();var ye=nk(te);pt.apply(void 0,ye)},{passive:!1}),Gl(Di?"touchend":void 0,function(te){var ye=te.changedTouches[0];Ft(ye.clientX,ye.clientY)},{passive:!1}),Gl("resize",Mh(function(){$&&!ce&&(I(Vy(J,R,ge)),O())},{maxWait:8})),Rb(function(){P&&j(bn({scale:pe,rotate:ge},Fe))},[P]);var Jt=function(te,ye,je,At,_n,Xe,bt,Zt,Rt,Vt){var Qn=function(Jn,yr,mn,Ns,As){var Zn=S.useRef(!1),kt=Mp({lead:!0,scale:mn}),$s=kt[0],Hs=$s.lead,gn=$s.scale,$t=kt[1],Rn=Mh(function(cs){try{return As(!0),$t({lead:!1,scale:cs}),Promise.resolve()}catch(qs){return Promise.reject(qs)}},{wait:Ns});return Rb(function(){Zn.current?(As(!1),$t({lead:!0}),Rn(mn)):Zn.current=!0},[mn]),Hs?[Jn*gn,yr*gn,mn/gn]:[Jn*mn,yr*mn,1]}(Xe,bt,Zt,Rt,Vt),pn=Qn[0],Pr=Qn[1],Vs=Qn[2],Nn=function(Jn,yr,mn,Ns,As){var Zn=S.useState(EX),kt=Zn[0],$s=Zn[1],Hs=S.useState(0),gn=Hs[0],$t=Hs[1],Rn=S.useRef(),cs=Uo({OK:function(){return Jn&&$t(4)}});function qs(us){As(!1),$t(us)}return S.useEffect(function(){if(Rn.current||(Rn.current=Date.now()),mn){if(function(us,br){var es=us&&us.current;if(es&&es.nodeType===1){var Ht=es.getBoundingClientRect();br({T:Ht.top,L:Ht.left,W:Ht.width,H:Ht.height,FIT:es.tagName==="IMG"?getComputedStyle(es).objectFit:void 0})}}(yr,$s),Jn)return Date.now()-Rn.current<250?($t(1),requestAnimationFrame(function(){$t(2),requestAnimationFrame(function(){return qs(3)})}),void setTimeout(cs.OK,Ns)):void $t(4);qs(5)}},[Jn,mn]),[gn,kt]}(te,ye,je,Rt,Vt),Tt=Nn[0],Dt=Nn[1],An=Dt.W,Lr=Dt.FIT,Jo=innerWidth/2,Gi=innerHeight/2,vr=Tt<3||Tt>4;return[vr?An?Dt.L:Jo:At+(Jo-Xe*Zt/2),vr?An?Dt.T:Gi:_n+(Gi-bt*Zt/2),pn,vr&&Lr?pn*(Dt.H/An):Pr,Tt===0?Vs:vr?An/(Xe*Zt)||.01:Vs,vr?Lr?1:0:1,Tt,Lr]}(h,d,$,ee,de,F,W,pe,m,function(te){return I({pause:te})}),Pe=Jt[4],at=Jt[6],Et="transform "+m+"ms "+p,ct={className:x,onMouseDown:Di?void 0:function(te){te.stopPropagation(),te.button===0&&hi(te.clientX,te.clientY,0)},onTouchStart:Di?function(te){te.stopPropagation(),hi.apply(void 0,nk(te))}:void 0,onWheel:function(te){if(!zn){var ye=jh(pe-te.deltaY/100/2,J/F);I({stopRaf:!0}),it(ye,te.clientX,te.clientY)}},style:{width:Jt[2]+"px",height:Jt[3]+"px",opacity:Jt[5],objectFit:at===4?void 0:Jt[7],transform:ge?"rotate("+ge+"deg)":void 0,transition:at>2?Et+", opacity "+m+"ms ease, height "+(at<4?m/2:at>4?m:0)+"ms "+p:void 0}};return le.createElement("div",{className:"PhotoView__PhotoWrap"+(v?" "+v:""),style:_,onMouseDown:!Di&&P?Dr:void 0,onTouchStart:Di&&P?function(te){return Dr(te.touches[0])}:void 0},le.createElement("div",{className:"PhotoView__PhotoBox",style:{transform:"matrix("+Pe+", 0, 0, "+Pe+", "+Jt[0]+", "+Jt[1]+")",transition:ce||an?void 0:Et,willChange:P?"transform":void 0}},n?le.createElement(AX,bn({src:n,loaded:$,broken:Y},ct,{onPhotoLoad:function(te){I(bn({},te,te.loaded&&Vy(te.naturalWidth||0,te.naturalHeight||0,ge)))},loadingElement:w,brokenElement:C})):s&&s({attrs:ct,scale:Pe,rotate:ge})))}var rk={x:0,touched:!1,pause:!1,lastCX:void 0,lastCY:void 0,bg:void 0,lastBg:void 0,overlay:!0,minimal:!0,scale:1,rotate:0};function MX(t){var e=t.loop,n=e===void 0?3:e,s=t.speed,i=t.easing,o=t.photoClosable,l=t.maskClosable,u=l===void 0||l,d=t.maskOpacity,h=d===void 0?1:d,m=t.pullClosable,p=m===void 0||m,v=t.bannerVisible,x=v===void 0||v,_=t.overlayRender,w=t.toolbarRender,C=t.className,T=t.maskClassName,N=t.photoClassName,k=t.photoWrapClassName,A=t.loadingElement,O=t.brokenElement,P=t.images,j=t.index,D=j===void 0?0:j,z=t.onIndexChange,I=t.visible,H=t.onClose,V=t.afterClose,X=t.portalContainer,J=Mp(rk),ie=J[0],R=J[1],B=S.useState(0),F=B[0],se=B[1],W=ie.x,L=ie.touched,$=ie.pause,Y=ie.lastCX,ee=ie.lastCY,de=ie.bg,ce=de===void 0?h:de,ae=ie.lastBg,me=ie.overlay,ge=ie.minimal,pe=ie.scale,Ce=ie.rotate,Ee=ie.onScale,Ke=ie.onRotate,st=t.hasOwnProperty("index"),Ve=st?D:F,Ut=st?z:se,ft=S.useRef(Ve),rn=P.length,yt=P[Ve],an=typeof n=="boolean"?n:rn>n,zn=function(Pe,at){var Et=S.useReducer(function(je){return!je},!1)[1],ct=S.useRef(0),te=function(je){var At=S.useRef(je);function _n(Xe){At.current=Xe}return S.useMemo(function(){(function(Xe){Pe?(Xe(Pe),ct.current=1):ct.current=2})(_n)},[je]),[At.current,_n]}(Pe),ye=te[1];return[te[0],ct.current,function(){Et(),ct.current===2&&(ye(!1),at&&at()),ct.current=0}]}(I,V),Fe=zn[0],it=zn[1],pt=zn[2];Rb(function(){if(Fe)return R({pause:!0,x:Ve*-(innerWidth+Vl)}),void(ft.current=Ve);R(rk)},[Fe]);var Or=Uo({close:function(Pe){Ke&&Ke(0),R({overlay:!0,lastBg:ce}),H(Pe)},changeIndex:function(Pe,at){at===void 0&&(at=!1);var Et=an?ft.current+(Pe-Ve):Pe,ct=rn-1,te=Ab(Et,0,ct),ye=an?Et:te,je=innerWidth+Vl;R({touched:!1,lastCX:void 0,lastCY:void 0,x:-je*ye,pause:at}),ft.current=ye,Ut&&Ut(an?Pe<0?ct:Pe>ct?0:Pe:te)}}),Bn=Or.close,Xn=Or.changeIndex;function Un(Pe){return Pe?Bn():R({overlay:!me})}function gr(){R({x:-(innerWidth+Vl)*Ve,lastCX:void 0,lastCY:void 0,pause:!0}),ft.current=Ve}function ls(Pe,at,Et,ct){Pe==="x"?function(te){if(Y!==void 0){var ye=te-Y,je=ye;!an&&(Ve===0&&ye>0||Ve===rn-1&&ye<0)&&(je=ye/2),R({touched:!0,lastCX:Y,x:-(innerWidth+Vl)*ft.current+je,pause:!1})}else R({touched:!0,lastCX:te,x:W,pause:!1})}(at):Pe==="y"&&function(te,ye){if(ee!==void 0){var je=h===null?null:Ab(h,.01,h-Math.abs(te-ee)/100/4);R({touched:!0,lastCY:ee,bg:ye===1?je:h,minimal:ye===1})}else R({touched:!0,lastCY:te,bg:ce,minimal:!0})}(Et,ct)}function fi(Pe,at){var Et=Pe-(Y??Pe),ct=at-(ee??at),te=!1;if(Et<-40)Xn(Ve+1);else if(Et>40)Xn(Ve-1);else{var ye=-(innerWidth+Vl)*ft.current;Math.abs(ct)>100&&ge&&p&&(te=!0,Bn()),R({touched:!1,x:ye,lastCX:void 0,lastCY:void 0,bg:h,overlay:!!te||me})}}Gl("keydown",function(Pe){if(I)switch(Pe.key){case"ArrowLeft":Xn(Ve-1,!0);break;case"ArrowRight":Xn(Ve+1,!0);break;case"Escape":Bn()}});var ks=function(Pe,at,Et){return S.useMemo(function(){var ct=Pe.length;return Et?Pe.concat(Pe).concat(Pe).slice(ct+at-1,ct+at+2):Pe.slice(Math.max(at-1,0),Math.min(at+2,ct+1))},[Pe,at,Et])}(P,Ve,an);if(!Fe)return null;var Qt=me&&!it,on=I?ce:ae,wn=Ee&&Ke&&{images:P,index:Ve,visible:I,onClose:Bn,onIndexChange:Xn,overlayVisible:Qt,overlay:yt&&yt.overlay,scale:pe,rotate:Ce,onScale:Ee,onRotate:Ke},Ft=s?s(it):400,hi=i?i(it):tk,Dr=s?s(3):600,Jt=i?i(3):tk;return le.createElement(bX,{className:"PhotoView-Portal"+(Qt?"":" PhotoView-Slider__clean")+(I?"":" PhotoView-Slider__willClose")+(C?" "+C:""),role:"dialog",onClick:function(Pe){return Pe.stopPropagation()},container:X},I&&le.createElement(SX,null),le.createElement("div",{className:"PhotoView-Slider__Backdrop"+(T?" "+T:"")+(it===1?" PhotoView-Slider__fadeIn":it===2?" PhotoView-Slider__fadeOut":""),style:{background:on?"rgba(0, 0, 0, "+on+")":void 0,transitionTimingFunction:hi,transitionDuration:(L?0:Ft)+"ms",animationDuration:Ft+"ms"},onAnimationEnd:pt}),x&&le.createElement("div",{className:"PhotoView-Slider__BannerWrap"},le.createElement("div",{className:"PhotoView-Slider__Counter"},Ve+1," / ",rn),le.createElement("div",{className:"PhotoView-Slider__BannerRight"},w&&wn&&w(wn),le.createElement(xX,{className:"PhotoView-Slider__toolbarIcon",onClick:Bn}))),ks.map(function(Pe,at){var Et=an||Ve!==0?ft.current-1+at:Ve+at;return le.createElement(jX,{key:an?Pe.key+"/"+Pe.src+"/"+Et:Pe.key,item:Pe,speed:Ft,easing:hi,visible:I,onReachMove:ls,onReachUp:fi,onPhotoTap:function(){return Un(o)},onMaskTap:function(){return Un(u)},wrapClassName:k,className:N,style:{left:(innerWidth+Vl)*Et+"px",transform:"translate3d("+W+"px, 0px, 0)",transition:L||$?void 0:"transform "+Dr+"ms "+Jt},loadingElement:A,brokenElement:O,onPhotoResize:gr,isActive:ft.current===Et,expose:R})}),!Di&&x&&le.createElement(le.Fragment,null,(an||Ve!==0)&&le.createElement("div",{className:"PhotoView-Slider__ArrowLeft",onClick:function(){return Xn(Ve-1,!0)}},le.createElement(wX,null)),(an||Ve+1<rn)&&le.createElement("div",{className:"PhotoView-Slider__ArrowRight",onClick:function(){return Xn(Ve+1,!0)}},le.createElement(_X,null))),_&&wn&&le.createElement("div",{className:"PhotoView-Slider__Overlay"},_(wn)))}var OX=["children","onIndexChange","onVisibleChange"],DX={images:[],visible:!1,index:0};function PX(t){var e=t.children,n=t.onIndexChange,s=t.onVisibleChange,i=Nm(t,OX),o=Mp(DX),l=o[0],u=o[1],d=S.useRef(0),h=l.images,m=l.visible,p=l.index,v=Uo({nextId:function(){return d.current+=1},update:function(w){var C=h.findIndex(function(N){return N.key===w.key});if(C>-1){var T=h.slice();return T.splice(C,1,w),void u({images:T})}u(function(N){return{images:N.images.concat(w)}})},remove:function(w){u(function(C){var T=C.images.filter(function(N){return N.key!==w});return{images:T,index:Math.min(T.length-1,p)}})},show:function(w){var C=h.findIndex(function(T){return T.key===w});u({visible:!0,index:C}),s&&s(!0,C,l)}}),x=Uo({close:function(){u({visible:!1}),s&&s(!1,p,l)},changeIndex:function(w){u({index:w}),n&&n(w,l)}}),_=S.useMemo(function(){return bn({},l,v)},[l,v]);return le.createElement(TO.Provider,{value:_},e,le.createElement(MX,bn({images:h,visible:m,index:p,onIndexChange:x.changeIndex,onClose:x.close},i)))}var ik=function(t){var e,n,s=t.src,i=t.render,o=t.overlay,l=t.width,u=t.height,d=t.triggers,h=d===void 0?["onClick"]:d,m=t.children,p=S.useContext(TO),v=(e=function(){return p.nextId()},(n=S.useRef({sign:!1,fn:void 0}).current).sign||(n.sign=!0,n.fn=e()),n.fn),x=S.useRef(null);S.useImperativeHandle(m==null?void 0:m.ref,function(){return x.current}),S.useEffect(function(){return function(){p.remove(v)}},[]);var _=Uo({render:function(C){return i&&i(C)},show:function(C,T){p.show(v),function(N,k){if(m){var A=m.props[N];A&&A(k)}}(C,T)}}),w=S.useMemo(function(){var C={};return h.forEach(function(T){C[T]=_.show.bind(null,T)}),C},[]);return S.useEffect(function(){p.update({key:v,src:s,originRef:x,render:_.render,overlay:o,width:l,height:u})},[s]),m?S.Children.only(S.cloneElement(m,bn({},w,{ref:x}))):null};const Op=({value:t,onValueChange:e,max:n=100,min:s=0,step:i=1,disabled:o=!1,className:l})=>{const u=S.useRef(null),[d,h]=S.useState(!1),m=S.useCallback(w=>{if(!u.current)return t[0];const C=u.current.getBoundingClientRect(),T=Math.max(0,Math.min(1,(w-C.left)/C.width)),N=s+T*(n-s),k=Math.round(N/i)*i;return Math.max(s,Math.min(n,k))},[s,n,i,t]),p=S.useCallback(w=>{if(o)return;h(!0);const C=m(w.clientX);e([C])},[o,m,e]),v=S.useCallback(w=>{if(!d||o)return;const C=m(w.clientX);e([C])},[d,o,m,e]),x=S.useCallback(()=>{h(!1)},[]);le.useEffect(()=>{if(d)return document.addEventListener("mousemove",v),document.addEventListener("mouseup",x),()=>{document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",x)}},[d,v,x]);const _=(((t==null?void 0:t[0])||s)-s)/(n-s)*100;return g.jsx("div",{ref:u,className:Me("relative flex items-center w-full h-5 cursor-pointer",o&&"cursor-not-allowed opacity-50",l),onMouseDown:p,children:g.jsxs("div",{className:"relative w-full h-1 bg-gray-300 rounded-full",children:[g.jsx("div",{className:"absolute h-full bg-blue-500 rounded-full",style:{width:`${_}%`}}),g.jsx("div",{className:"absolute w-4 h-4 bg-white border-2 border-blue-500 rounded-full shadow-md transform -translate-y-1/2 -translate-x-1/2 transition-transform hover:scale-110",style:{left:`${_}%`,top:"50%"}})]})})},LX=({src:t,poster:e,autoPlay:n=!1,loop:s=!0,muted:i=!1,controls:o=!0,className:l,width:u,height:d,onEnded:h,onTimeUpdate:m})=>{const p=S.useRef(null),[v,x]=S.useState(!1),[_,w]=S.useState(0),[C,T]=S.useState(0),[N,k]=S.useState(1),[A,O]=S.useState(i),[P,j]=S.useState(!1),[D,z]=S.useState(!1),[I,H]=S.useState("");S.useEffect(()=>{const W=p.current;if(!W)return;const L=()=>{const me=W.currentTime,ge=W.duration;w(me),m==null||m(me,ge)},$=()=>{T(W.duration)},Y=()=>{s||x(!1),h==null||h()},ee=me=>{var pe;const ge=me.target;z(!0),H(`视频加载或播放错误: ${((pe=ge.error)==null?void 0:pe.message)||"未知错误"}`)},de=()=>x(!0),ce=()=>x(!1);W.addEventListener("timeupdate",L),W.addEventListener("loadedmetadata",$),W.addEventListener("ended",Y),W.addEventListener("play",de),W.addEventListener("pause",ce),W.addEventListener("error",ee);const ae=()=>{j(!!document.fullscreenElement||!!document.webkitFullscreenElement||!!document.mozFullScreenElement||!!document.msFullscreenElement)};return document.addEventListener("fullscreenchange",ae),document.addEventListener("webkitfullscreenchange",ae),document.addEventListener("mozfullscreenchange",ae),document.addEventListener("MSFullscreenChange",ae),()=>{W.removeEventListener("timeupdate",L),W.removeEventListener("loadedmetadata",$),W.removeEventListener("ended",Y),W.removeEventListener("play",de),W.removeEventListener("pause",ce),W.removeEventListener("error",ee),document.removeEventListener("fullscreenchange",ae),document.removeEventListener("webkitfullscreenchange",ae),document.removeEventListener("mozfullscreenchange",ae),document.removeEventListener("MSFullscreenChange",ae)}},[m,h,s]);const V=W=>{const L=p.current;L&&(L.currentTime=W,w(W))},X=W=>{const L=p.current;L&&(L.volume=W,k(W),O(W===0))},J=()=>{const W=p.current;W&&(v?W.pause():W.play())},ie=()=>{const W=p.current;W&&(A?(W.volume=N,O(!1)):(W.volume=0,O(!0)))},R=()=>{const W=p.current;W&&(W.currentTime=0,w(0))},B=()=>{var L;const W=(L=p.current)==null?void 0:L.parentElement;W&&(P?document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen():W.requestFullscreen?W.requestFullscreen():W.webkitRequestFullscreen?W.webkitRequestFullscreen():W.mozRequestFullScreen?W.mozRequestFullScreen():W.msRequestFullscreen&&W.msRequestFullscreen())},F=S.useCallback(W=>{if(!o)return;const L=document.activeElement===p.current,$=W.target instanceof HTMLElement&&W.target.closest(".relative.group.bg-black")!==null;if(!(!L&&!$))switch(W.key.toLowerCase()){case" ":W.preventDefault(),J();break;case"arrowright":W.preventDefault(),V(_+5);break;case"arrowleft":W.preventDefault(),V(_-5);break;case"arrowup":W.preventDefault(),X(Math.min(N+.1,1));break;case"arrowdown":W.preventDefault(),X(Math.max(N-.1,0));break;case"f":W.preventDefault(),B();break;case"m":W.preventDefault(),ie();break;case"r":W.preventDefault(),R();break}},[o,_,N,J,B,ie,R]);S.useEffect(()=>(document.addEventListener("keydown",F),()=>{document.removeEventListener("keydown",F)}),[F]);const se=W=>{const L=Math.floor(W/60),$=Math.floor(W%60);return`${L}:${$.toString().padStart(2,"0")}`};return g.jsxs("div",{className:Me("relative group bg-black overflow-hidden",l),tabIndex:o?0:void 0,children:[D?g.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center p-4 text-white",children:[g.jsx(Xh,{className:"w-12 h-12 mb-4 text-red-500"}),g.jsx("p",{className:"text-center",children:I}),g.jsx(Be,{variant:"default",className:"mt-4",onClick:()=>{z(!1),H(""),p.current&&p.current.load()},children:"重试"})]}):g.jsx("video",{ref:p,src:t,poster:e,autoPlay:n,loop:s,muted:i,className:"w-full h-full object-cover",style:{width:u,height:d},playsInline:!0}),o&&!D&&g.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:[g.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:g.jsx(Be,{variant:"ghost",size:"lg",onClick:J,className:"bg-black/20 hover:bg-black/40 text-white rounded-full p-4",children:v?g.jsx(w0,{className:"w-8 h-8"}):g.jsx(Ec,{className:"w-8 h-8 ml-1"})})}),g.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 space-y-2",children:[g.jsxs("div",{className:"relative h-1 bg-white/30 rounded-full group-hover:bg-white/50 transition-colors cursor-pointer",children:[g.jsx("div",{className:"absolute top-0 left-0 h-full bg-white rounded-full",style:{width:`${C>0?_/C*100:0}%`}}),g.jsx(Op,{value:[_],max:C,step:.1,onValueChange:W=>V(W[0]),className:"h-full"})]}),g.jsxs("div",{className:"flex items-center justify-between text-white",children:[g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx(Be,{variant:"ghost",size:"sm",onClick:J,className:"text-white hover:bg-white/20",children:v?g.jsx(w0,{className:"w-4 h-4"}):g.jsx(Ec,{className:"w-4 h-4"})}),g.jsx(Be,{variant:"ghost",size:"sm",onClick:R,className:"text-white hover:bg-white/20",children:g.jsx(h6,{className:"w-4 h-4"})}),g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx(Be,{variant:"ghost",size:"sm",onClick:ie,className:"text-white hover:bg-white/20",children:A?g.jsx(IA,{className:"w-4 h-4"}):g.jsx(LA,{className:"w-4 h-4"})}),g.jsx("div",{className:"w-20 hidden md:block",children:g.jsx(Op,{value:[N],max:1,step:.05,onValueChange:W=>X(W[0]),className:"h-full"})})]}),g.jsxs("span",{className:"text-sm",children:[se(_)," / ",se(C)]})]}),g.jsx(Be,{variant:"ghost",size:"sm",onClick:B,className:"text-white hover:bg-white/20",children:g.jsx(n6,{className:"w-4 h-4"})})]})]})]})]})},ak=({src:t,poster:e,className:n,width:s,height:i,onClick:o})=>{const l=()=>{if(e)return e.startsWith("data:image/")?e:`data:image/jpeg;base64,${e}`};return g.jsxs("div",{className:Me("relative bg-black overflow-hidden cursor-pointer group hover:ring-2 hover:ring-blue-500",n),onClick:u=>{o==null||o()},children:[g.jsx("img",{src:l(),alt:"Video thumbnail",className:"w-full h-full object-cover",style:{width:s,height:i},loading:"lazy"}),g.jsx("div",{className:"absolute inset-0 bg-black/20 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:g.jsx(Ec,{className:"w-8 h-8 text-white"})}),g.jsx("div",{className:"absolute bottom-2 right-2 bg-black/60 text-white text-xs px-2 py-1 rounded",children:"Video"})]})},ok=({src:t,poster:e,children:n})=>{const[s,i]=S.useState(!1),o=()=>{i(!0)};return g.jsxs(g.Fragment,{children:[g.jsx("div",{onClick:o,style:{display:"inline-block",cursor:"pointer"},children:n}),g.jsx(Ki,{open:s,onOpenChange:i,children:g.jsxs(Qo,{className:"max-w-6xl w-full max-h-[90vh] p-0 overflow-hidden bg-black",onClick:l=>l.stopPropagation(),children:[g.jsx(FA,{className:"absolute top-4 right-4 z-10 bg-black/30 hover:bg-black/50 text-white",children:g.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[g.jsx("path",{d:"M18 6L6 18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),g.jsx("path",{d:"M6 6L18 18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]})}),g.jsx(LX,{src:t,poster:e,autoPlay:!0,className:"w-full h-full"})]})})]})},IX=({src:t,controls:e=!0,className:n,onEnded:s})=>{const i=S.useRef(null),[o,l]=S.useState(!1),[u,d]=S.useState(0),[h,m]=S.useState(0),[p,v]=S.useState(1),[x,_]=S.useState(!1);S.useEffect(()=>{const A=i.current;if(!A)return;const O=()=>{const I=A.currentTime;d(I)},P=()=>{m(A.duration)},j=()=>{l(!1),s==null||s()},D=()=>l(!0),z=()=>l(!1);return A.addEventListener("timeupdate",O),A.addEventListener("loadedmetadata",P),A.addEventListener("ended",j),A.addEventListener("play",D),A.addEventListener("pause",z),()=>{A.removeEventListener("timeupdate",O),A.removeEventListener("loadedmetadata",P),A.removeEventListener("ended",j),A.removeEventListener("play",D),A.removeEventListener("pause",z)}},[s]);const w=()=>{const A=i.current;A&&(o?A.pause():A.play())},C=A=>{const O=i.current;if(!O)return;const P=A[0];O.currentTime=P,d(P)},T=A=>{const O=i.current;if(!O)return;const P=A[0];O.volume=P,v(P),_(P===0)},N=()=>{const A=i.current;A&&(x?(A.volume=p,_(!1)):(A.volume=0,_(!0)))},k=A=>{if(isNaN(A))return"0:00";const O=Math.floor(A/60),P=Math.floor(A%60);return`${O}:${P.toString().padStart(2,"0")}`};return g.jsxs("div",{className:Me("bg-gray-100 dark:bg-gray-800 rounded-md p-3",n),children:[g.jsx("audio",{ref:i,src:t}),e&&g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx(Be,{variant:"ghost",size:"sm",onClick:w,className:"h-8 w-8 p-0 rounded-full",children:o?g.jsx(w0,{className:"h-4 w-4"}):g.jsx(Ec,{className:"h-4 w-4 ml-0.5"})}),g.jsx("div",{className:"flex-1",children:g.jsx(Op,{value:[u],max:h,step:.1,onValueChange:C,className:"my-2"})}),g.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 whitespace-nowrap",children:[k(u)," / ",k(h)]})]}),g.jsxs("div",{className:"flex items-center space-x-2 ml-10",children:[g.jsx(Be,{variant:"ghost",size:"sm",onClick:N,className:"h-6 w-6 p-0 rounded-full",children:x?g.jsx(IA,{className:"h-3.5 w-3.5"}):g.jsx(LA,{className:"h-3.5 w-3.5"})}),g.jsx("div",{className:"w-24",children:g.jsx(Op,{value:[x?0:p],max:1,step:.01,onValueChange:T,className:"my-2"})})]})]})]})},lk=({src:t,title:e,children:n})=>{const[s,i]=S.useState(!1),o=()=>{i(!0)};return g.jsxs(g.Fragment,{children:[g.jsx("div",{onClick:o,style:{display:"inline-block",cursor:"pointer"},children:n}),g.jsx(Ki,{open:s,onOpenChange:i,children:g.jsxs(Qo,{className:"max-w-md w-full bg-white dark:bg-gray-900 overflow-hidden",onClick:l=>l.stopPropagation(),children:[g.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-800 flex justify-between items-center",children:[g.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:e||"Audio Player"}),g.jsx(FA,{className:"h-8 w-8 p-0 rounded-full",children:g.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[g.jsx("path",{d:"M18 6L6 18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),g.jsx("path",{d:"M6 6L18 18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]})})]}),g.jsx("div",{className:"p-4",children:g.jsx(IX,{src:t,className:"w-full"})})]})})]})},FX=({src:t,title:e,className:n,onClick:s})=>g.jsxs("div",{className:`flex items-center space-x-3 bg-gray-100 dark:bg-gray-800 p-3 rounded-md hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors cursor-pointer ${n||""}`,onClick:s,children:[g.jsx("div",{className:"bg-indigo-500 dark:bg-indigo-700 h-10 w-10 rounded-full flex items-center justify-center flex-shrink-0",children:g.jsx(HI,{className:"h-5 w-5 text-white fill-white"})}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 truncate",children:e||"Audio File"}),g.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:t.split("/").pop()})]})]});function zX(t){if(!t)return Date.now();const e=new Date(t);return isNaN(e.getTime())?Date.now():e.getTime()}function NO(t){console.log("原始数据:",t);let e=[];if(Array.isArray(t))e=t;else if(t&&typeof t=="object"&&Array.isArray(t.media))e=t.media;else if(t&&typeof t=="object"&&Array.isArray(t.items))e=t.items;else return console.error("Unexpected data format:",t),[];return e.map(n=>{if(!n||typeof n!="object")return console.warn("Invalid media item:",n),{id:"",name:"Unknown",type:"image",mtime:Date.now(),previewUrl:""};let s="image";const i=n.mime_type||"";i.startsWith("video/")?s="video":i.startsWith("audio/")&&(s="audio");let o=n.filename;return o||(n.file_id?o=n.file_id:o="Unknown File"),{id:n.file_id||"",name:o,type:s,size:n.file_size,mtime:n.created_at_timestamp||zX(n.created_at||""),width:n.width,height:n.height,mime_type:i,thumbnailUrl:n.thumbnail_base64?`data:image/jpeg;base64,${n.thumbnail_base64}`:void 0,previewUrl:n.url||""}})}async function BX(t){const e=await fetch(`/api/assets/media?type=${t}`);if(!e.ok)throw new Error(`Failed to fetch assets media: ${e.statusText}`);const n=await e.json();return NO(n)}async function UX(t){const e=await fetch(`/api/works/media?type=${t}`);if(!e.ok)throw new Error(`Failed to fetch works media: ${e.statusText}`);const n=await e.json();return NO(n)}async function VX(t,e){return t==="assets"?BX(e):UX(e)}function $X({width:t,currentCategory:e="assets",currentMediaType:n="image",viewMode:s="grid"}){var ie;const[i,o]=S.useState([]),[l,u]=S.useState(null),[d,h]=S.useState(!1),[m,p]=S.useState(null),[v,x]=S.useState(""),[_,w]=S.useState("date"),[C,T]=S.useState({isOpen:!1,itemToDelete:null}),{t:N}=Us(),k=S.useCallback(async()=>{h(!0),p(null),u(null);try{const F=[...(await VX(e,n)).filter(se=>se.name.toLowerCase().includes(v.toLowerCase()))].sort((se,W)=>{switch(_){case"name":return se.name.localeCompare(W.name);case"size":return(W.size||0)-(se.size||0);case"date":return W.mtime-se.mtime;default:return 0}});o(F)}catch(R){R instanceof Error&&R.message,console.error(`Error fetching ${e} ${n}:`,R),p(`Failed to load ${e==="assets"?"assets":"works"}`),o([])}finally{h(!1)}},[e,n,v,_]);S.useEffect(()=>{k()},[k]);const A=S.useCallback(async R=>{const B={...R};u(B)},[]),O=S.useCallback(async R=>{try{const B=e==="assets"?`/api/delete_image/${R}`:`/api/delete_output/${R}`,F=await fetch(B,{method:"DELETE"});if(!F.ok){const W=await F.json().catch(()=>({}));throw new Error(W.detail||"Failed to delete image")}return(await F.json()).success}catch(B){return console.error("Error deleting image:",B),as.error(`Failed to delete image: ${B instanceof Error?B.message:"Unknown error"}`),!1}},[e]),P=S.useCallback(async()=>{if(C.itemToDelete){h(!0);try{const R=C.itemToDelete.id;await O(R)&&(o(F=>F.filter(se=>se.id!==R)),l&&l.id===R&&u(null),as.success("Image deleted successfully"))}catch(R){console.error("Error handling image deletion:",R),as.error("Failed to delete image")}finally{h(!1),T({isOpen:!1,itemToDelete:null})}}},[C.itemToDelete,O,l]),j=S.useCallback(R=>{T({isOpen:!0,itemToDelete:R})},[]),D=S.useCallback(()=>{T({isOpen:!1,itemToDelete:null})},[]),z=S.useCallback((R,B="w-4 h-4")=>{switch(R){case"image":return g.jsx(x0,{className:`${B} text-blue-500`});case"video":return g.jsx(Ec,{className:`${B} text-red-500`});case"audio":return g.jsx(OA,{className:`${B} text-green-500`})}},[]),I=S.useCallback(R=>{if(!R||R===0)return"0 Bytes";const B=1024,F=["Bytes","KB","MB","GB","TB"],se=Math.floor(Math.log(R)/Math.log(B));return parseFloat((R/Math.pow(B,se)).toFixed(2))+" "+F[se]},[]),H=S.useCallback(R=>new Date(R).toLocaleString(),[]),V=S.useCallback(R=>{const B=(l==null?void 0:l.id)===R.id;return g.jsxs("div",{className:`group relative rounded-xl shadow-sm hover:shadow-lg transition-all duration-300 overflow-hidden border cursor-pointer ${B?"bg-blue-50 dark:bg-blue-900/20 border-blue-500 ring-2 ring-blue-200 dark:ring-blue-800":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700"}`,onClick:()=>A(R),draggable:!0,onDragStart:F=>{if(F.dataTransfer.setData("text/plain",R.previewUrl||""),R.type==="image"&&R.previewUrl){const se=new window.Image(0,0);se.src=R.previewUrl,se.onload=()=>F.dataTransfer.setDragImage(se,50,50)}},children:[g.jsx("div",{className:"aspect-square bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-900 flex items-center justify-center overflow-hidden relative",children:R.type==="image"?g.jsx(ik,{src:R.previewUrl,children:g.jsx("div",{className:"w-full h-full flex items-center justify-center",children:g.jsx("img",{src:R.previewUrl,alt:R.name,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105 cursor-pointer",loading:"lazy"})})}):R.type==="video"?g.jsx(ok,{src:R.previewUrl,poster:R.thumbnailUrl,children:g.jsx("div",{className:"w-full h-full",children:g.jsx(ak,{src:R.previewUrl,poster:R.thumbnailUrl,className:"w-full h-full"})})}):R.type==="audio"?g.jsx(lk,{src:R.previewUrl,title:R.name,children:g.jsx(FX,{src:R.previewUrl,title:R.name,className:"w-full h-full flex items-center justify-center p-4"})}):g.jsxs("div",{className:"flex flex-col items-center justify-center text-gray-400",children:[z(R.type,"w-8 h-8"),g.jsx("span",{className:"text-xs mt-1",children:R.type.toUpperCase()})]})}),g.jsxs("div",{className:"p-3",children:[g.jsx("div",{className:"text-sm font-medium truncate",title:R.name,children:R.width&&R.height?`${R.width} x ${R.height}`:R.name}),g.jsxs("div",{className:"flex justify-between items-center mt-2 text-xs text-gray-500",children:[g.jsx("span",{children:I(R.size)}),g.jsx("span",{children:H(R.mtime)})]})]}),g.jsx("button",{onClick:F=>{F.stopPropagation(),j(R)},className:"absolute top-2 right-2 p-2 bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-full shadow-md opacity-0 group-hover:opacity-100 transition-opacity",title:"删除",children:g.jsx(lp,{className:"w-4 h-4 text-red-600"})})]},R.id)},[l,A,j,z,I,H]),X=S.useCallback(()=>g.jsx("div",{className:"grid grid-cols-2 gap-4",children:i.map(V)}),[i,V]),J=S.useCallback(()=>g.jsx("div",{className:"space-y-2 w-full overflow-hidden",children:i.map(R=>{const B=(l==null?void 0:l.id)===R.id;return g.jsxs("div",{className:`flex items-center gap-4 p-3 rounded-lg border hover:shadow-md transition-shadow min-w-0 cursor-pointer ${B?"bg-blue-50 dark:bg-blue-900/20 border-blue-500 ring-2 ring-blue-200 dark:ring-blue-800":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700"}`,onClick:()=>A(R),draggable:!0,onDragStart:F=>{if(F.dataTransfer.setData("text/plain",R.previewUrl||""),R.type==="image"&&R.previewUrl){const se=new window.Image;se.src=R.previewUrl,se.onload=()=>F.dataTransfer.setDragImage(se,50,50)}},children:[g.jsx("div",{className:"w-12 h-12 bg-gray-100 dark:bg-gray-700 rounded-lg flex items-center justify-center overflow-hidden flex-shrink-0 relative",children:R.type==="image"?g.jsx(ik,{src:R.previewUrl,children:g.jsx("div",{className:"w-full h-full flex items-center justify-center",children:g.jsx("img",{src:R.previewUrl,alt:R.name,className:"w-full h-full object-cover cursor-pointer"})})}):R.type==="video"?g.jsx(ok,{src:R.previewUrl,poster:R.thumbnailUrl,children:g.jsx("div",{className:"w-full h-full",children:g.jsx(ak,{src:R.previewUrl,poster:R.thumbnailUrl,className:"w-full h-full"})})}):R.type==="audio"?g.jsx(lk,{src:R.previewUrl,title:R.name,children:g.jsx("div",{className:"w-full h-full flex items-center justify-center",children:z(R.type)})}):z(R.type)}),g.jsxs("div",{className:"flex-1 min-w-0 overflow-hidden",children:[g.jsx("div",{className:"font-medium truncate",children:R.width&&R.height?`${R.width} x ${R.height}`:R.name}),g.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-4 overflow-hidden",children:[g.jsx("span",{className:"whitespace-nowrap",children:I(R.size)}),g.jsx("span",{className:"whitespace-nowrap",children:H(R.mtime)})]})]}),g.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[g.jsx("button",{onClick:F=>{F.stopPropagation(),window.open(R.previewUrl,"_blank")},className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",title:"打开",children:g.jsx(WI,{className:"w-4 h-4"})}),g.jsx("button",{onClick:F=>{F.stopPropagation(),j(R)},className:"p-2 hover:bg-red-50 dark:hover:bg-red-900/20 text-red-600 rounded-lg transition-colors",title:"删除",children:g.jsx(lp,{className:"w-4 h-4"})}),g.jsx("button",{className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:g.jsx(GI,{className:"w-4 h-4"})})]})]},R.id)})}),[i,l,A,j,z,I,H]);return g.jsxs("div",{className:"flex h-full bg-gray-50 dark:bg-gray-900 w-full overflow-hidden",style:t?{width:`${t}px`}:{},children:[g.jsxs("div",{className:"flex-1 flex flex-col min-w-0 overflow-hidden relative",onClick:()=>u(null),children:[g.jsx("div",{className:"p-6 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700",children:g.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[i.length," ",N("canvas:mediaFiles","media files")]})}),g.jsxs("div",{className:"flex-1 overflow-y-auto p-6 w-full min-w-0",children:[d&&g.jsx("div",{className:"flex items-center justify-center h-64",children:g.jsx(PA,{className:"w-8 h-8 animate-spin text-blue-600"})}),m&&g.jsx("div",{className:"flex items-center justify-center h-64 p-6",children:g.jsxs("div",{className:"text-center bg-red-50 dark:bg-red-900 border border-red-200 dark:border-red-800 rounded-lg p-6",children:[g.jsx("p",{className:"text-red-600 dark:text-red-400",children:m}),g.jsx(Be,{variant:"default",className:"mt-4",onClick:k,children:N("canvas:retry","Retry")})]})}),!d&&!m&&g.jsx("div",{className:"w-full overflow-hidden",children:i.length>0?g.jsx("div",{children:s==="grid"?X():J()}):g.jsx("div",{className:"flex items-center justify-center h-64 text-gray-500",children:g.jsxs("div",{className:"text-center",children:[g.jsx(x0,{className:"w-16 h-16 mx-auto mb-4 opacity-30"}),g.jsx("p",{className:"text-lg font-medium",children:N("canvas:noMediaFiles","No media files")}),g.jsx("p",{className:"text-sm mt-2",children:N("canvas:noMediaFilesDescription","No matching media files found")})]})})})]})]}),g.jsx(Ki,{open:C.isOpen,onOpenChange:D,children:g.jsxs(Qo,{className:"sm:max-w-md",children:[g.jsxs($c,{children:[g.jsx(Hc,{children:"确认删除"}),g.jsxs(Ax,{children:['您确定要删除图片 "',(ie=C.itemToDelete)==null?void 0:ie.name,'" 吗？此操作无法撤销。']})]}),g.jsxs(Hd,{children:[g.jsx(Be,{variant:"outline",onClick:D,children:"取消"}),g.jsx(Be,{variant:"destructive",onClick:P,disabled:d,children:d?"删除中...":"删除"})]})]})})]})}const HX=({isOpen:t,onClose:e,width:n=450})=>{const{t:s}=Us();if(!t)return null;const[i,o]=S.useState("assets"),[l,u]=S.useState("image"),[d,h]=S.useState("grid"),m=v=>{o(v),u("image")},p=v=>{u(v)};return g.jsxs("div",{className:"relative h-full bg-white dark:bg-gray-900 shadow-xl overflow-hidden",style:{width:`${n}px`},children:[g.jsxs("div",{className:"px-4 py-3 border-b border-gray-200 dark:border-gray-800",children:[g.jsxs("div",{className:"flex items-center justify-between mb-3",children:[g.jsxs("div",{className:"flex bg-gray-100 dark:bg-gray-700 p-1 rounded-lg",children:[g.jsx(Be,{variant:"ghost",className:`rounded-md px-4 py-2 transition-all duration-300 ${i==="assets"?"bg-blue-50 dark:bg-blue-900/30 border border-blue-300 dark:border-blue-700 text-blue-700 dark:text-blue-300 shadow-sm":""}`,onClick:()=>m("assets"),children:s("canvas:myAssets","My Assets")}),g.jsx(Be,{variant:"ghost",className:`rounded-md px-4 py-2 transition-all duration-300 ${i==="works"?"bg-blue-50 dark:bg-blue-900/30 border border-blue-300 dark:border-blue-700 text-blue-700 dark:text-blue-300 shadow-sm":""}`,onClick:()=>m("works"),children:s("canvas:myWorks","My Works")})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("button",{onClick:()=>h("grid"),className:`p-2 rounded-lg transition-all duration-300 ${d==="grid"?"bg-blue-50 dark:bg-blue-900/30 border border-blue-300 dark:border-blue-700 text-blue-700 dark:text-blue-300 shadow-sm":"hover:bg-gray-100 dark:hover:bg-gray-700"}`,"aria-label":"Grid view",children:g.jsx(QI,{className:"w-4 h-4"})}),g.jsx("button",{onClick:()=>h("list"),className:`p-2 rounded-lg transition-all duration-300 ${d==="list"?"bg-blue-50 dark:bg-blue-900/30 border border-blue-300 dark:border-blue-700 text-blue-700 dark:text-blue-300 shadow-sm":"hover:bg-gray-100 dark:hover:bg-gray-700"}`,"aria-label":"List view",children:g.jsx(e6,{className:"w-4 h-4"})}),g.jsx(Be,{variant:"ghost",size:"icon",className:"h-8 w-8 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",onClick:e,"aria-label":"Close",children:g.jsx(Nx,{className:"h-4 w-4"})})]})]}),g.jsxs("div",{className:"flex bg-gray-100 dark:bg-gray-700 p-1 rounded-lg",children:[g.jsxs(Be,{variant:"ghost",className:`rounded-md px-4 py-1.5 text-sm transition-all duration-300 ${l==="image"?"bg-blue-50 dark:bg-blue-900/30 border border-blue-300 dark:border-blue-700 text-blue-700 dark:text-blue-300 shadow-sm":""}`,onClick:()=>p("image"),children:[g.jsx(x0,{className:"w-4 h-4"}),s("canvas:images","Images")]}),g.jsxs(Be,{variant:"ghost",className:`rounded-md px-4 py-1.5 text-sm transition-all duration-300 ${l==="video"?"bg-blue-50 dark:bg-blue-900/30 border border-blue-300 dark:border-blue-700 text-blue-700 dark:text-blue-300 shadow-sm":""}`,onClick:()=>p("video"),children:[g.jsx(Ec,{className:"w-4 h-4"}),s("canvas:videos","Videos")]}),g.jsxs(Be,{variant:"ghost",className:`rounded-md px-4 py-1.5 text-sm transition-all duration-300 ${l==="audio"?"bg-blue-50 dark:bg-blue-900/30 border border-blue-300 dark:border-blue-700 text-blue-700 dark:text-blue-300 shadow-sm":""}`,onClick:()=>p("audio"),children:[g.jsx(OA,{className:"w-4 h-4"}),s("canvas:audio","Audio")]})]})]}),g.jsx("div",{className:"h-[calc(100%-6rem)] overflow-hidden",children:g.jsx("div",{className:"h-full overflow-y-auto",style:{scrollbarWidth:"thin",scrollbarColor:"#9ca3af #f3f4f6"},children:g.jsx("div",{className:"w-full",children:g.jsx($X,{width:n,currentCategory:i,currentMediaType:l,viewMode:d})})})})]})},qX=XW({routeTree:vX}),$y=()=>NY("react-query-db",1,{upgrade(t){t.objectStoreNames.contains("cache")||t.createObjectStore("cache")}}),KX=wY({storage:{getItem:async t=>await(await $y()).get("cache",t)||null,setItem:async(t,e)=>{await(await $y()).put("cache",e,t)},removeItem:async t=>{await(await $y()).delete("cache",t)}},key:"react-query-cache"}),GX=new K6({defaultOptions:{queries:{staleTime:5*60*1e3,gcTime:10*60*1e3}}});function YX(){const{theme:t}=Ya(),[e,n]=S.useState(!1);return g.jsxs(mY,{defaultTheme:t,storageKey:"vite-ui-theme",children:[g.jsx(PX,{children:g.jsx(bY,{client:GX,persistOptions:{persister:KX},children:g.jsx(yF,{children:g.jsxs("div",{className:"app-container",children:[g.jsx(ZW,{router:qX}),g.jsx(HX,{isOpen:e,onClose:()=>n(!1)}),g.jsx(eV,{}),g.jsx(V9,{}),g.jsx(pY,{})]})})})}),g.jsx(g7,{position:"bottom-center",richColors:!0})]})}var re=typeof window<"u"?window:void 0,Cs=typeof globalThis<"u"?globalThis:re,AO=Array.prototype,ck=AO.forEach,uk=AO.indexOf,Fs=Cs==null?void 0:Cs.navigator,xe=Cs==null?void 0:Cs.document,ws=Cs==null?void 0:Cs.location,Mb=Cs==null?void 0:Cs.fetch,Ob=Cs!=null&&Cs.XMLHttpRequest&&"withCredentials"in new Cs.XMLHttpRequest?Cs.XMLHttpRequest:void 0,dk=Cs==null?void 0:Cs.AbortController,xs=Fs==null?void 0:Fs.userAgent,Ie=re??{},Ii={DEBUG:!1,LIB_VERSION:"1.257.1"},Hy="$copy_autocapture",WX=["$snapshot","$pageview","$pageleave","$set","survey dismissed","survey sent","survey shown","$identify","$groupidentify","$create_alias","$$client_ingestion_warning","$web_experiment_applied","$feature_enrollment_update","$feature_flag_called"],zi=function(t){return t.GZipJS="gzip-js",t.Base64="base64",t}({}),XX=["fatal","error","warning","log","info","debug"];function We(t,e){return t.indexOf(e)!==-1}var Am=function(t){return t.trim()},Db=function(t){return t.replace(/^\$/,"")},QX=Array.isArray,RO=Object.prototype,jO=RO.hasOwnProperty,Rm=RO.toString,Lt=QX||function(t){return Rm.call(t)==="[object Array]"},dr=t=>typeof t=="function",Wt=t=>t===Object(t)&&!Lt(t),tc=t=>{if(Wt(t)){for(var e in t)if(jO.call(t,e))return!1;return!0}return!1},ve=t=>t===void 0,Xt=t=>Rm.call(t)=="[object String]",Pb=t=>Xt(t)&&t.trim().length===0,Wa=t=>t===null,dt=t=>ve(t)||Wa(t),Gn=t=>Rm.call(t)=="[object Number]",Xr=t=>Rm.call(t)==="[object Boolean]",JX=t=>t instanceof FormData,ZX=t=>We(WX,t),MO=t=>{var e={t:function(n){if(re&&(Ii.DEBUG||Ie.POSTHOG_DEBUG)&&!ve(re.console)&&re.console){for(var s=("__rrweb_original__"in re.console[n])?re.console[n].__rrweb_original__:re.console[n],i=arguments.length,o=new Array(i>1?i-1:0),l=1;l<i;l++)o[l-1]=arguments[l];s(t,...o)}},info:function(){for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];e.t("log",...s)},warn:function(){for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];e.t("warn",...s)},error:function(){for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];e.t("error",...s)},critical:function(){for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];console.error(t,...s)},uninitializedWarning:n=>{e.error("You must initialize PostHog before calling "+n)},createLogger:n=>MO(t+" "+n)};return e},we=MO("[PostHog.js]"),kn=we.createLogger,eQ=kn("[ExternalScriptsLoader]"),fk=(t,e,n)=>{if(t.config.disable_external_dependency_loading)return eQ.warn(e+" was requested but loading of external scripts is disabled."),n("Loading of external scripts is disabled");var s=xe==null?void 0:xe.querySelectorAll("script");if(s){for(var i=0;i<s.length;i++)if(s[i].src===e)return n()}var o=()=>{if(!xe)return n("document not found");var l=xe.createElement("script");if(l.type="text/javascript",l.crossOrigin="anonymous",l.src=e,l.onload=h=>n(void 0,h),l.onerror=h=>n(h),t.config.prepare_external_dependency_script&&(l=t.config.prepare_external_dependency_script(l)),!l)return n("prepare_external_dependency_script returned null");var u,d=xe.querySelectorAll("body > script");d.length>0?(u=d[0].parentNode)==null||u.insertBefore(l,d[0]):xe.body.appendChild(l)};xe!=null&&xe.body?o():xe==null||xe.addEventListener("DOMContentLoaded",o)};function be(){return be=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)({}).hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},be.apply(null,arguments)}function OO(t,e){if(t==null)return{};var n={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(e.indexOf(s)!==-1)continue;n[s]=t[s]}return n}Ie.__PosthogExtensions__=Ie.__PosthogExtensions__||{},Ie.__PosthogExtensions__.loadExternalDependency=(t,e,n)=>{var s="/static/"+e+".js?v="+t.version;if(e==="remote-config"&&(s="/array/"+t.config.token+"/config.js"),e==="toolbar"){var i=3e5;s=s+"&t="+Math.floor(Date.now()/i)*i}var o=t.requestRouter.endpointFor("assets",s);fk(t,o,n)},Ie.__PosthogExtensions__.loadSiteApp=(t,e,n)=>{var s=t.requestRouter.endpointFor("api",e);fk(t,s,n)};var Dp={};function Fa(t,e,n){if(Lt(t)){if(ck&&t.forEach===ck)t.forEach(e,n);else if("length"in t&&t.length===+t.length){for(var s=0,i=t.length;s<i;s++)if(s in t&&e.call(n,t[s],s)===Dp)return}}}function St(t,e,n){if(!dt(t)){if(Lt(t))return Fa(t,e,n);if(JX(t)){for(var s of t.entries())if(e.call(n,s[1],s[0])===Dp)return}else for(var i in t)if(jO.call(t,i)&&e.call(n,t[i],i)===Dp)return}}var sn=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),s=1;s<e;s++)n[s-1]=arguments[s];return Fa(n,function(i){for(var o in i)i[o]!==void 0&&(t[o]=i[o])}),t},jm=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),s=1;s<e;s++)n[s-1]=arguments[s];return Fa(n,function(i){Fa(i,function(o){t.push(o)})}),t};function sp(t){for(var e=Object.keys(t),n=e.length,s=new Array(n);n--;)s[n]=[e[n],t[e[n]]];return s}var hk=function(t){try{return t()}catch{return}},tQ=function(t){return function(){try{for(var e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return t.apply(this,n)}catch(i){we.critical("Implementation error. Please turn on debug mode and open a ticket on https://app.posthog.com/home#panel=support%3Asupport%3A."),we.critical(i)}}},zw=function(t){var e={};return St(t,function(n,s){(Xt(n)&&n.length>0||Gn(n))&&(e[s]=n)}),e};function nQ(t,e){return n=t,s=o=>Xt(o)&&!Wa(e)?o.slice(0,e):o,i=new Set,function o(l,u){return l!==Object(l)?s?s(l,u):l:i.has(l)?void 0:(i.add(l),Lt(l)?(d=[],Fa(l,h=>{d.push(o(h))})):(d={},St(l,(h,m)=>{i.has(h)||(d[m]=o(h,m))})),d);var d}(n);var n,s,i}var sQ=["herokuapp.com","vercel.app","netlify.app"];function rQ(t){var e=t==null?void 0:t.hostname;if(!Xt(e))return!1;var n=e.split(".").slice(-2).join(".");for(var s of sQ)if(n===s)return!1;return!0}function DO(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return t[n]}function Bt(t,e,n,s){var{capture:i=!1,passive:o=!0}=s??{};t==null||t.addEventListener(e,n,{capture:i,passive:o})}var PO="$people_distinct_id",nd="__alias",sd="__timers",pk="$autocapture_disabled_server_side",Lb="$heatmaps_enabled_server_side",mk="$exception_capture_enabled_server_side",Ib="$error_tracking_suppression_rules",gk="$web_vitals_enabled_server_side",LO="$dead_clicks_enabled_server_side",vk="$web_vitals_allowed_metrics",Fb="$session_recording_enabled_server_side",yk="$console_log_recording_enabled_server_side",bk="$session_recording_network_payload_capture",xk="$session_recording_masking",wk="$session_recording_canvas_recording",_k="$replay_sample_rate",Sk="$replay_minimum_duration",Ck="$replay_script_config",Pp="$sesid",rd="$session_is_sampled",zb="$session_recording_url_trigger_activated_session",Bb="$session_recording_event_trigger_activated_session",nc="$enabled_feature_flags",rp="$early_access_features",Ub="$feature_flag_details",id="$stored_person_properties",xo="$stored_group_properties",Vb="$surveys",Oh="$surveys_activated",Lp="$flag_call_reported",Pi="$user_state",$b="$client_session_props",Hb="$capture_rate_limit",qb="$initial_campaign_params",Kb="$initial_referrer_info",Ip="$initial_person_info",Fp="$epp",IO="__POSTHOG_TOOLBAR__",Dh="$posthog_cookieless",iQ=[PO,nd,"__cmpns",sd,Fb,Lb,Pp,nc,Ib,Pi,rp,Ub,xo,id,Vb,Lp,$b,Hb,qb,Kb,Fp,Ip];function Ek(t){return t instanceof Element&&(t.id===IO||!(t.closest==null||!t.closest(".toolbar-global-fade-container")))}function Mm(t){return!!t&&t.nodeType===1}function za(t,e){return!!t&&!!t.tagName&&t.tagName.toLowerCase()===e.toLowerCase()}function FO(t){return!!t&&t.nodeType===3}function zO(t){return!!t&&t.nodeType===11}function Bw(t){return t?Am(t).split(/\s+/):[]}function Tk(t){var e=re==null?void 0:re.location.href;return!!(e&&t&&t.some(n=>e.match(n)))}function zp(t){var e="";switch(typeof t.className){case"string":e=t.className;break;case"object":e=(t.className&&"baseVal"in t.className?t.className.baseVal:null)||t.getAttribute("class")||"";break;default:e=""}return Bw(e)}function BO(t){return dt(t)?null:Am(t).split(/(\s+)/).filter(e=>Dc(e)).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255)}function Om(t){var e="";return Yb(t)&&!$O(t)&&t.childNodes&&t.childNodes.length&&St(t.childNodes,function(n){var s;FO(n)&&n.textContent&&(e+=(s=BO(n.textContent))!==null&&s!==void 0?s:"")}),Am(e)}function UO(t){return ve(t.target)?t.srcElement||null:(e=t.target)!=null&&e.shadowRoot?t.composedPath()[0]||null:t.target||null;var e}var Gb=["a","button","form","input","select","textarea","label"];function VO(t){var e=t.parentNode;return!(!e||!Mm(e))&&e}function aQ(t,e,n,s,i){var o,l,u;if(n===void 0&&(n=void 0),!re||!t||za(t,"html")||!Mm(t)||(o=n)!=null&&o.url_allowlist&&!Tk(n.url_allowlist)||(l=n)!=null&&l.url_ignorelist&&Tk(n.url_ignorelist))return!1;if((u=n)!=null&&u.dom_event_allowlist){var d=n.dom_event_allowlist;if(d&&!d.some(C=>e.type===C))return!1}for(var h=!1,m=[t],p=!0,v=t;v.parentNode&&!za(v,"body");)if(zO(v.parentNode))m.push(v.parentNode.host),v=v.parentNode.host;else{if(!(p=VO(v)))break;if(s||Gb.indexOf(p.tagName.toLowerCase())>-1)h=!0;else{var x=re.getComputedStyle(p);x&&x.getPropertyValue("cursor")==="pointer"&&(h=!0)}m.push(p),v=p}if(!function(C,T){var N=T==null?void 0:T.element_allowlist;if(ve(N))return!0;var k,A=function(P){if(N.some(j=>P.tagName.toLowerCase()===j))return{v:!0}};for(var O of C)if(k=A(O))return k.v;return!1}(m,n)||!function(C,T){var N=T==null?void 0:T.css_selector_allowlist;if(ve(N))return!0;var k,A=function(P){if(N.some(j=>P.matches(j)))return{v:!0}};for(var O of C)if(k=A(O))return k.v;return!1}(m,n))return!1;var _=re.getComputedStyle(t);if(_&&_.getPropertyValue("cursor")==="pointer"&&e.type==="click")return!0;var w=t.tagName.toLowerCase();switch(w){case"html":return!1;case"form":return(i||["submit"]).indexOf(e.type)>=0;case"input":case"select":case"textarea":return(i||["change","click"]).indexOf(e.type)>=0;default:return h?(i||["click"]).indexOf(e.type)>=0:(i||["click"]).indexOf(e.type)>=0&&(Gb.indexOf(w)>-1||t.getAttribute("contenteditable")==="true")}}function Yb(t){for(var e=t;e.parentNode&&!za(e,"body");e=e.parentNode){var n=zp(e);if(We(n,"ph-sensitive")||We(n,"ph-no-capture"))return!1}if(We(zp(t),"ph-include"))return!0;var s=t.type||"";if(Xt(s))switch(s.toLowerCase()){case"hidden":case"password":return!1}var i=t.name||t.id||"";return!(Xt(i)&&/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i.test(i.replace(/[^a-zA-Z0-9]/g,"")))}function $O(t){return!!(za(t,"input")&&!["button","checkbox","submit","reset"].includes(t.type)||za(t,"select")||za(t,"textarea")||t.getAttribute("contenteditable")==="true")}var HO="(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11})",oQ=new RegExp("^(?:"+HO+")$"),lQ=new RegExp(HO),qO="\\d{3}-?\\d{2}-?\\d{4}",cQ=new RegExp("^("+qO+")$"),uQ=new RegExp("("+qO+")");function Dc(t,e){return e===void 0&&(e=!0),!(dt(t)||Xt(t)&&(t=Am(t),(e?oQ:lQ).test((t||"").replace(/[- ]/g,""))||(e?cQ:uQ).test(t)))}function KO(t){var e=Om(t);return Dc(e=(e+" "+GO(t)).trim())?e:""}function GO(t){var e="";return t&&t.childNodes&&t.childNodes.length&&St(t.childNodes,function(n){var s;if(n&&((s=n.tagName)==null?void 0:s.toLowerCase())==="span")try{var i=Om(n);e=(e+" "+i).trim(),n.childNodes&&n.childNodes.length&&(e=(e+" "+GO(n)).trim())}catch(o){we.error("[AutoCapture]",o)}}),e}function dQ(t){return function(e){var n=e.map(s=>{var i,o,l="";if(s.tag_name&&(l+=s.tag_name),s.attr_class)for(var u of(s.attr_class.sort(),s.attr_class))l+="."+u.replace(/"/g,"");var d=be({},s.text?{text:s.text}:{},{"nth-child":(i=s.nth_child)!==null&&i!==void 0?i:0,"nth-of-type":(o=s.nth_of_type)!==null&&o!==void 0?o:0},s.href?{href:s.href}:{},s.attr_id?{attr_id:s.attr_id}:{},s.attributes),h={};return sp(d).sort((m,p)=>{var[v]=m,[x]=p;return v.localeCompare(x)}).forEach(m=>{var[p,v]=m;return h[kk(p.toString())]=kk(v.toString())}),l+=":",l+=sp(h).map(m=>{var[p,v]=m;return p+'="'+v+'"'}).join("")});return n.join(";")}(function(e){return e.map(n=>{var s,i,o={text:(s=n.$el_text)==null?void 0:s.slice(0,400),tag_name:n.tag_name,href:(i=n.attr__href)==null?void 0:i.slice(0,2048),attr_class:fQ(n),attr_id:n.attr__id,nth_child:n.nth_child,nth_of_type:n.nth_of_type,attributes:{}};return sp(n).filter(l=>{var[u]=l;return u.indexOf("attr__")===0}).forEach(l=>{var[u,d]=l;return o.attributes[u]=d}),o})}(t))}function kk(t){return t.replace(/"|\\"/g,'\\"')}function fQ(t){var e=t.attr__class;return e?Lt(e)?e:Bw(e):void 0}class YO{constructor(){this.clicks=[]}isRageClick(e,n,s){var i=this.clicks[this.clicks.length-1];if(i&&Math.abs(e-i.x)+Math.abs(n-i.y)<30&&s-i.timestamp<1e3){if(this.clicks.push({x:e,y:n,timestamp:s}),this.clicks.length===3)return!0}else this.clicks=[{x:e,y:n,timestamp:s}];return!1}}var hQ=["localhost","127.0.0.1"],Pc=t=>{var e=xe==null?void 0:xe.createElement("a");return ve(e)?null:(e.href=t,e)},pQ=function(t,e){var n,s;e===void 0&&(e="&");var i=[];return St(t,function(o,l){ve(o)||ve(l)||l==="undefined"||(n=encodeURIComponent((u=>u instanceof File)(o)?o.name:o.toString()),s=encodeURIComponent(l),i[i.length]=s+"="+n)}),i.join(e)},Bp=function(t,e){for(var n,s=((t.split("#")[0]||"").split(/\?(.*)/)[1]||"").replace(/^\?+/g,"").split("&"),i=0;i<s.length;i++){var o=s[i].split("=");if(o[0]===e){n=o;break}}if(!Lt(n)||n.length<2)return"";var l=n[1];try{l=decodeURIComponent(l)}catch{we.error("Skipping decoding for malformed query param: "+l)}return l.replace(/\+/g," ")},Uw=function(t,e,n){if(!t||!e||!e.length)return t;for(var s=t.split("#"),i=s[0]||"",o=s[1],l=i.split("?"),u=l[1],d=l[0],h=(u||"").split("&"),m=[],p=0;p<h.length;p++){var v=h[p].split("=");Lt(v)&&(e.includes(v[0])?m.push(v[0]+"="+n):m.push(h[p]))}var x=d;return u!=null&&(x+="?"+m.join("&")),o!=null&&(x+="#"+o),x},Up=function(t,e){var n=t.match(new RegExp(e+"=([^&]*)"));return n?n[1]:null},Nk=kn("[AutoCapture]");function qy(t,e){return e.length>t?e.slice(0,t)+"...":e}function mQ(t){if(t.previousElementSibling)return t.previousElementSibling;var e=t;do e=e.previousSibling;while(e&&!Mm(e));return e}function gQ(t,e,n,s){var i=t.tagName.toLowerCase(),o={tag_name:i};Gb.indexOf(i)>-1&&!n&&(i.toLowerCase()==="a"||i.toLowerCase()==="button"?o.$el_text=qy(1024,KO(t)):o.$el_text=qy(1024,Om(t)));var l=zp(t);l.length>0&&(o.classes=l.filter(function(m){return m!==""})),St(t.attributes,function(m){var p;if((!$O(t)||["name","id","class","aria-label"].indexOf(m.name)!==-1)&&(s==null||!s.includes(m.name))&&!e&&Dc(m.value)&&(p=m.name,!Xt(p)||p.substring(0,10)!=="_ngcontent"&&p.substring(0,7)!=="_nghost")){var v=m.value;m.name==="class"&&(v=Bw(v).join(" ")),o["attr__"+m.name]=qy(1024,v)}});for(var u=1,d=1,h=t;h=mQ(h);)u++,h.tagName===t.tagName&&d++;return o.nth_child=u,o.nth_of_type=d,o}function vQ(t,e){for(var n,s,{e:i,maskAllElementAttributes:o,maskAllText:l,elementAttributeIgnoreList:u,elementsChainAsString:d}=e,h=[t],m=t;m.parentNode&&!za(m,"body");)zO(m.parentNode)?(h.push(m.parentNode.host),m=m.parentNode.host):(h.push(m.parentNode),m=m.parentNode);var p,v=[],x={},_=!1,w=!1;if(St(h,A=>{var O=Yb(A);A.tagName.toLowerCase()==="a"&&(_=A.getAttribute("href"),_=O&&_&&Dc(_)&&_),We(zp(A),"ph-no-capture")&&(w=!0),v.push(gQ(A,o,l,u));var P=function(j){if(!Yb(j))return{};var D={};return St(j.attributes,function(z){if(z.name&&z.name.indexOf("data-ph-capture-attribute")===0){var I=z.name.replace("data-ph-capture-attribute-",""),H=z.value;I&&H&&Dc(H)&&(D[I]=H)}}),D}(A);sn(x,P)}),w)return{props:{},explicitNoCapture:w};if(l||(t.tagName.toLowerCase()==="a"||t.tagName.toLowerCase()==="button"?v[0].$el_text=KO(t):v[0].$el_text=Om(t)),_){var C,T;v[0].attr__href=_;var N=(C=Pc(_))==null?void 0:C.host,k=re==null||(T=re.location)==null?void 0:T.host;N&&k&&N!==k&&(p=_)}return{props:sn({$event_type:i.type,$ce_version:1},d?{}:{$elements:v},{$elements_chain:dQ(v)},(n=v[0])!=null&&n.$el_text?{$el_text:(s=v[0])==null?void 0:s.$el_text}:{},p&&i.type==="click"?{$external_click_url:p}:{},x)}}class yQ{constructor(e){this.i=!1,this.o=null,this.rageclicks=new YO,this.h=!1,this.instance=e,this.m=null}get S(){var e,n,s=Wt(this.instance.config.autocapture)?this.instance.config.autocapture:{};return s.url_allowlist=(e=s.url_allowlist)==null?void 0:e.map(i=>new RegExp(i)),s.url_ignorelist=(n=s.url_ignorelist)==null?void 0:n.map(i=>new RegExp(i)),s}$(){if(this.isBrowserSupported()){if(re&&xe){var e=s=>{s=s||(re==null?void 0:re.event);try{this.k(s)}catch(i){Nk.error("Failed to capture event",i)}};if(Bt(xe,"submit",e,{capture:!0}),Bt(xe,"change",e,{capture:!0}),Bt(xe,"click",e,{capture:!0}),this.S.capture_copied_text){var n=s=>{s=s||(re==null?void 0:re.event),this.k(s,Hy)};Bt(xe,"copy",n,{capture:!0}),Bt(xe,"cut",n,{capture:!0})}}}else Nk.info("Disabling Automatic Event Collection because this browser is not supported")}startIfEnabled(){this.isEnabled&&!this.i&&(this.$(),this.i=!0)}onRemoteConfig(e){e.elementsChainAsString&&(this.h=e.elementsChainAsString),this.instance.persistence&&this.instance.persistence.register({[pk]:!!e.autocapture_opt_out}),this.o=!!e.autocapture_opt_out,this.startIfEnabled()}setElementSelectors(e){this.m=e}getElementSelectors(e){var n,s=[];return(n=this.m)==null||n.forEach(i=>{var o=xe==null?void 0:xe.querySelectorAll(i);o==null||o.forEach(l=>{e===l&&s.push(i)})}),s}get isEnabled(){var e,n,s=(e=this.instance.persistence)==null?void 0:e.props[pk],i=this.o;if(Wa(i)&&!Xr(s)&&!this.instance.I())return!1;var o=(n=this.o)!==null&&n!==void 0?n:!!s;return!!this.instance.config.autocapture&&!o}k(e,n){if(n===void 0&&(n="$autocapture"),this.isEnabled){var s,i=UO(e);FO(i)&&(i=i.parentNode||null),n==="$autocapture"&&e.type==="click"&&e instanceof MouseEvent&&this.instance.config.rageclick&&(s=this.rageclicks)!=null&&s.isRageClick(e.clientX,e.clientY,new Date().getTime())&&this.k(e,"$rageclick");var o=n===Hy;if(i&&aQ(i,e,this.S,o,o?["copy","cut"]:void 0)){var{props:l,explicitNoCapture:u}=vQ(i,{e,maskAllElementAttributes:this.instance.config.mask_all_element_attributes,maskAllText:this.instance.config.mask_all_text,elementAttributeIgnoreList:this.S.element_attribute_ignorelist,elementsChainAsString:this.h});if(u)return!1;var d=this.getElementSelectors(i);if(d&&d.length>0&&(l.$element_selectors=d),n===Hy){var h,m=BO(re==null||(h=re.getSelection())==null?void 0:h.toString()),p=e.type||"clipboard";if(!m)return!1;l.$selected_content=m,l.$copy_type=p}return this.instance.capture(n,l),!0}}}isBrowserSupported(){return dr(xe==null?void 0:xe.querySelectorAll)}}Math.trunc||(Math.trunc=function(t){return t<0?Math.ceil(t):Math.floor(t)}),Number.isInteger||(Number.isInteger=function(t){return Gn(t)&&isFinite(t)&&Math.floor(t)===t});var Ak="0123456789abcdef";class Vp{constructor(e){if(this.bytes=e,e.length!==16)throw new TypeError("not 128-bit length")}static fromFieldsV7(e,n,s,i){if(!Number.isInteger(e)||!Number.isInteger(n)||!Number.isInteger(s)||!Number.isInteger(i)||e<0||n<0||s<0||i<0||e>0xffffffffffff||n>4095||s>1073741823||i>4294967295)throw new RangeError("invalid field value");var o=new Uint8Array(16);return o[0]=e/Math.pow(2,40),o[1]=e/Math.pow(2,32),o[2]=e/Math.pow(2,24),o[3]=e/Math.pow(2,16),o[4]=e/Math.pow(2,8),o[5]=e,o[6]=112|n>>>8,o[7]=n,o[8]=128|s>>>24,o[9]=s>>>16,o[10]=s>>>8,o[11]=s,o[12]=i>>>24,o[13]=i>>>16,o[14]=i>>>8,o[15]=i,new Vp(o)}toString(){for(var e="",n=0;n<this.bytes.length;n++)e=e+Ak.charAt(this.bytes[n]>>>4)+Ak.charAt(15&this.bytes[n]),n!==3&&n!==5&&n!==7&&n!==9||(e+="-");if(e.length!==36)throw new Error("Invalid UUIDv7 was generated");return e}clone(){return new Vp(this.bytes.slice(0))}equals(e){return this.compareTo(e)===0}compareTo(e){for(var n=0;n<16;n++){var s=this.bytes[n]-e.bytes[n];if(s!==0)return Math.sign(s)}return 0}}class bQ{constructor(){this.P=0,this.R=0,this.T=new xQ}generate(){var e=this.generateOrAbort();if(ve(e)){this.P=0;var n=this.generateOrAbort();if(ve(n))throw new Error("Could not generate UUID after timestamp reset");return n}return e}generateOrAbort(){var e=Date.now();if(e>this.P)this.P=e,this.M();else{if(!(e+1e4>this.P))return;this.R++,this.R>4398046511103&&(this.P++,this.M())}return Vp.fromFieldsV7(this.P,Math.trunc(this.R/Math.pow(2,30)),this.R&Math.pow(2,30)-1,this.T.nextUint32())}M(){this.R=1024*this.T.nextUint32()+(1023&this.T.nextUint32())}}var Rk,WO=t=>{if(typeof UUIDV7_DENY_WEAK_RNG<"u"&&UUIDV7_DENY_WEAK_RNG)throw new Error("no cryptographically strong RNG available");for(var e=0;e<t.length;e++)t[e]=65536*Math.trunc(65536*Math.random())+Math.trunc(65536*Math.random());return t};re&&!ve(re.crypto)&&crypto.getRandomValues&&(WO=t=>crypto.getRandomValues(t));class xQ{constructor(){this.C=new Uint32Array(8),this.F=1/0}nextUint32(){return this.F>=this.C.length&&(WO(this.C),this.F=0),this.C[this.F++]}}var Da=()=>wQ().toString(),wQ=()=>(Rk||(Rk=new bQ)).generate(),Gu="",_Q=/[a-z0-9][a-z0-9-]+\.[a-z]{2,}$/i;function SQ(t,e){if(e){var n=function(i,o){if(o===void 0&&(o=xe),Gu)return Gu;if(!o||["localhost","127.0.0.1"].includes(i))return"";for(var l=i.split("."),u=Math.min(l.length,8),d="dmn_chk_"+Da();!Gu&&u--;){var h=l.slice(u).join("."),m=d+"=1;domain=."+h+";path=/";o.cookie=m+";max-age=3",o.cookie.includes(d)&&(o.cookie=m+";max-age=0",Gu=h)}return Gu}(t);if(!n){var s=(i=>{var o=i.match(_Q);return o?o[0]:""})(t);s!==n&&we.info("Warning: cookie subdomain discovery mismatch",s,n),n=s}return n?"; domain=."+n:""}return""}var ri={O:()=>!!xe,A:function(t){we.error("cookieStore error: "+t)},D:function(t){if(xe){try{for(var e=t+"=",n=xe.cookie.split(";").filter(o=>o.length),s=0;s<n.length;s++){for(var i=n[s];i.charAt(0)==" ";)i=i.substring(1,i.length);if(i.indexOf(e)===0)return decodeURIComponent(i.substring(e.length,i.length))}}catch{}return null}},L:function(t){var e;try{e=JSON.parse(ri.D(t))||{}}catch{}return e},j:function(t,e,n,s,i){if(xe)try{var o="",l="",u=SQ(xe.location.hostname,s);if(n){var d=new Date;d.setTime(d.getTime()+24*n*60*60*1e3),o="; expires="+d.toUTCString()}i&&(l="; secure");var h=t+"="+encodeURIComponent(JSON.stringify(e))+o+"; SameSite=Lax; path=/"+u+l;return h.length>3686.4&&we.warn("cookieStore warning: large cookie, len="+h.length),xe.cookie=h,h}catch{return}},N:function(t,e){try{ri.j(t,"",-1,e)}catch{return}}},Ky=null,xn={O:function(){if(!Wa(Ky))return Ky;var t=!0;if(ve(re))t=!1;else try{var e="__mplssupport__";xn.j(e,"xyz"),xn.D(e)!=='"xyz"'&&(t=!1),xn.N(e)}catch{t=!1}return t||we.error("localStorage unsupported; falling back to cookie store"),Ky=t,t},A:function(t){we.error("localStorage error: "+t)},D:function(t){try{return re==null?void 0:re.localStorage.getItem(t)}catch(e){xn.A(e)}return null},L:function(t){try{return JSON.parse(xn.D(t))||{}}catch{}return null},j:function(t,e){try{re==null||re.localStorage.setItem(t,JSON.stringify(e))}catch(n){xn.A(n)}},N:function(t){try{re==null||re.localStorage.removeItem(t)}catch(e){xn.A(e)}}},CQ=["distinct_id",Pp,rd,Fp,Ip],Ph=be({},xn,{L:function(t){try{var e={};try{e=ri.L(t)||{}}catch{}var n=sn(e,JSON.parse(xn.D(t)||"{}"));return xn.j(t,n),n}catch{}return null},j:function(t,e,n,s,i,o){try{xn.j(t,e,void 0,void 0,o);var l={};CQ.forEach(u=>{e[u]&&(l[u]=e[u])}),Object.keys(l).length&&ri.j(t,l,n,s,i,o)}catch(u){xn.A(u)}},N:function(t,e){try{re==null||re.localStorage.removeItem(t),ri.N(t,e)}catch(n){xn.A(n)}}}),Lh={},EQ={O:function(){return!0},A:function(t){we.error("memoryStorage error: "+t)},D:function(t){return Lh[t]||null},L:function(t){return Lh[t]||null},j:function(t,e){Lh[t]=e},N:function(t){delete Lh[t]}},mo=null,Ln={O:function(){if(!Wa(mo))return mo;if(mo=!0,ve(re))mo=!1;else try{var t="__support__";Ln.j(t,"xyz"),Ln.D(t)!=='"xyz"'&&(mo=!1),Ln.N(t)}catch{mo=!1}return mo},A:function(t){we.error("sessionStorage error: ",t)},D:function(t){try{return re==null?void 0:re.sessionStorage.getItem(t)}catch(e){Ln.A(e)}return null},L:function(t){try{return JSON.parse(Ln.D(t))||null}catch{}return null},j:function(t,e){try{re==null||re.sessionStorage.setItem(t,JSON.stringify(e))}catch(n){Ln.A(n)}},N:function(t){try{re==null||re.sessionStorage.removeItem(t)}catch(e){Ln.A(e)}}},$l=function(t){return t[t.PENDING=-1]="PENDING",t[t.DENIED=0]="DENIED",t[t.GRANTED=1]="GRANTED",t}({});class TQ{constructor(e){this._instance=e}get S(){return this._instance.config}get consent(){return this.U()?$l.DENIED:this.q}isOptedOut(){return this.consent===$l.DENIED||this.consent===$l.PENDING&&this.S.opt_out_capturing_by_default}isOptedIn(){return!this.isOptedOut()}optInOut(e){this.B.j(this.H,e?1:0,this.S.cookie_expiration,this.S.cross_subdomain_cookie,this.S.secure_cookie)}reset(){this.B.N(this.H,this.S.cross_subdomain_cookie)}get H(){var{token:e,opt_out_capturing_cookie_prefix:n}=this._instance.config;return(n||"__ph_opt_in_out_")+e}get q(){var e=this.B.D(this.H);return e==="1"?$l.GRANTED:e==="0"?$l.DENIED:$l.PENDING}get B(){if(!this.W){var e=this.S.opt_out_capturing_persistence_type;this.W=e==="localStorage"?xn:ri;var n=e==="localStorage"?ri:xn;n.D(this.H)&&(this.W.D(this.H)||this.optInOut(n.D(this.H)==="1"),n.N(this.H,this.S.cross_subdomain_cookie))}return this.W}U(){return!!this.S.respect_dnt&&!!DO([Fs==null?void 0:Fs.doNotTrack,Fs==null?void 0:Fs.msDoNotTrack,Ie.doNotTrack],e=>We([!0,1,"1","yes"],e))}}var Ih=kn("[Dead Clicks]"),kQ=()=>!0,NQ=t=>{var e,n=!((e=t.instance.persistence)==null||!e.get_property(LO)),s=t.instance.config.capture_dead_clicks;return Xr(s)?s:n};class XO{get lazyLoadedDeadClicksAutocapture(){return this.G}constructor(e,n,s){this.instance=e,this.isEnabled=n,this.onCapture=s,this.startIfEnabled()}onRemoteConfig(e){this.instance.persistence&&this.instance.persistence.register({[LO]:e==null?void 0:e.captureDeadClicks}),this.startIfEnabled()}startIfEnabled(){this.isEnabled(this)&&this.J(()=>{this.V()})}J(e){var n,s;(n=Ie.__PosthogExtensions__)!=null&&n.initDeadClicksAutocapture&&e(),(s=Ie.__PosthogExtensions__)==null||s.loadExternalDependency==null||s.loadExternalDependency(this.instance,"dead-clicks-autocapture",i=>{i?Ih.error("failed to load script",i):e()})}V(){var e;if(xe){if(!this.G&&(e=Ie.__PosthogExtensions__)!=null&&e.initDeadClicksAutocapture){var n=Wt(this.instance.config.capture_dead_clicks)?this.instance.config.capture_dead_clicks:{};n.__onCapture=this.onCapture,this.G=Ie.__PosthogExtensions__.initDeadClicksAutocapture(this.instance,n),this.G.start(xe),Ih.info("starting...")}}else Ih.error("`document` not found. Cannot start.")}stop(){this.G&&(this.G.stop(),this.G=void 0,Ih.info("stopping..."))}}function zs(t,e,n,s,i){return e>n&&(we.warn("min cannot be greater than max."),e=n),Gn(t)?t>n?(s&&we.warn(s+" cannot be  greater than max: "+n+". Using max value instead."),n):t<e?(s&&we.warn(s+" cannot be less than min: "+e+". Using min value instead."),e):t:(s&&we.warn(s+" must be a number. using max or fallback. max: "+n+", fallback: "+i),zs(i||n,e,n,s))}class QO{constructor(e){this.K={},this.Y=()=>{Object.keys(this.K).forEach(n=>{var s=this.X(n)+this.Z;s>=this.tt?delete this.K[n]:this.it(n,s)})},this.X=n=>this.K[String(n)],this.it=(n,s)=>{this.K[String(n)]=s},this.consumeRateLimit=n=>{var s,i=(s=this.X(n))!==null&&s!==void 0?s:this.tt;if((i=Math.max(i-1,0))===0)return!0;this.it(n,i);var o,l=i===0;return l&&((o=this.et)==null||o.call(this,n)),l},this.rt=e,this.et=this.rt.et,this.tt=zs(this.rt.bucketSize,0,100,"rate limiter bucket size"),this.Z=zs(this.rt.refillRate,0,this.tt,"rate limiter refill rate"),this.st=zs(this.rt.refillInterval,0,864e5,"rate limiter refill interval"),setInterval(()=>{this.Y()},this.st)}}var Fh=kn("[ExceptionAutocapture]");class AQ{constructor(e){var n,s,i;this.nt=()=>{var o;if(re&&this.isEnabled&&(o=Ie.__PosthogExtensions__)!=null&&o.errorWrappingFunctions){var l=Ie.__PosthogExtensions__.errorWrappingFunctions.wrapOnError,u=Ie.__PosthogExtensions__.errorWrappingFunctions.wrapUnhandledRejection,d=Ie.__PosthogExtensions__.errorWrappingFunctions.wrapConsoleError;try{!this.ot&&this.S.capture_unhandled_errors&&(this.ot=l(this.captureException.bind(this))),!this.lt&&this.S.capture_unhandled_rejections&&(this.lt=u(this.captureException.bind(this))),!this.ut&&this.S.capture_console_errors&&(this.ut=d(this.captureException.bind(this)))}catch(h){Fh.error("failed to start",h),this.ht()}}},this._instance=e,this.dt=!((n=this._instance.persistence)==null||!n.props[mk]),this.S=this.vt(),this.ct=new QO({refillRate:(s=this._instance.config.error_tracking.__exceptionRateLimiterRefillRate)!==null&&s!==void 0?s:1,bucketSize:(i=this._instance.config.error_tracking.__exceptionRateLimiterBucketSize)!==null&&i!==void 0?i:10,refillInterval:1e4}),this.startIfEnabled()}vt(){var e=this._instance.config.capture_exceptions,n={capture_unhandled_errors:!1,capture_unhandled_rejections:!1,capture_console_errors:!1};return Wt(e)?n=be({},n,e):(ve(e)?this.dt:e)&&(n=be({},n,{capture_unhandled_errors:!0,capture_unhandled_rejections:!0})),n}get isEnabled(){return this.S.capture_console_errors||this.S.capture_unhandled_errors||this.S.capture_unhandled_rejections}startIfEnabled(){this.isEnabled&&(Fh.info("enabled"),this.J(this.nt))}J(e){var n,s;(n=Ie.__PosthogExtensions__)!=null&&n.errorWrappingFunctions&&e(),(s=Ie.__PosthogExtensions__)==null||s.loadExternalDependency==null||s.loadExternalDependency(this._instance,"exception-autocapture",i=>{if(i)return Fh.error("failed to load script",i);e()})}ht(){var e,n,s;(e=this.ot)==null||e.call(this),this.ot=void 0,(n=this.lt)==null||n.call(this),this.lt=void 0,(s=this.ut)==null||s.call(this),this.ut=void 0}onRemoteConfig(e){var n=e.autocaptureExceptions;this.dt=!!n||!1,this.S=this.vt(),this._instance.persistence&&this._instance.persistence.register({[mk]:this.dt}),this.startIfEnabled()}captureException(e){var n,s=this._instance.requestRouter.endpointFor("ui");e.$exception_personURL=s+"/project/"+this._instance.config.token+"/person/"+this._instance.get_distinct_id();var i=(n=e.$exception_list[0].type)!==null&&n!==void 0?n:"Exception";this.ct.consumeRateLimit(i)?Fh.info("Skipping exception capture because of client rate limiting.",{exception:e.$exception_list[0].type}):this._instance.exceptions.sendExceptionEvent(e)}}function JO(t){return!ve(Event)&&ZO(t,Event)}function ZO(t,e){try{return t instanceof e}catch{return!1}}function eD(t){switch(Object.prototype.toString.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object DOMError]":return!0;default:return ZO(t,Error)}}function ip(t,e){return Object.prototype.toString.call(t)==="[object "+e+"]"}function Gy(t){return ip(t,"DOMError")}var jk=/\(error: (.*)\)/,Mk=50,sc="?";function Yy(t,e,n,s){var i={platform:"web:javascript",filename:t,function:e==="<anonymous>"?sc:e,in_app:!0};return ve(n)||(i.lineno=n),ve(s)||(i.colno=s),i}var RQ=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,jQ=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,MQ=/\((\S*)(?::(\d+))(?::(\d+))\)/,OQ=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,DQ=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,PQ=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var s=e.sort((i,o)=>i[0]-o[0]).map(i=>i[1]);return function(i,o){o===void 0&&(o=0);for(var l=[],u=i.split(`
`),d=o;d<u.length;d++){var h=u[d];if(!(h.length>1024)){var m=jk.test(h)?h.replace(jk,"$1"):h;if(!m.match(/\S*Error: /)){for(var p of s){var v=p(m);if(v){l.push(v);break}}if(l.length>=Mk)break}}}return function(x){if(!x.length)return[];var _=Array.from(x);return _.reverse(),_.slice(0,Mk).map(w=>be({},w,{filename:w.filename||LQ(_).filename,function:w.function||sc}))}(l)}}([30,t=>{var e=RQ.exec(t);if(e){var[,n,s,i]=e;return Yy(n,sc,+s,+i)}var o=jQ.exec(t);if(o){if(o[2]&&o[2].indexOf("eval")===0){var l=MQ.exec(o[2]);l&&(o[2]=l[1],o[3]=l[2],o[4]=l[3])}var[u,d]=Dk(o[1]||sc,o[2]);return Yy(d,u,o[3]?+o[3]:void 0,o[4]?+o[4]:void 0)}}],[50,t=>{var e=OQ.exec(t);if(e){if(e[3]&&e[3].indexOf(" > eval")>-1){var n=DQ.exec(e[3]);n&&(e[1]=e[1]||"eval",e[3]=n[1],e[4]=n[2],e[5]="")}var s=e[3],i=e[1]||sc;return[i,s]=Dk(i,s),Yy(s,i,e[4]?+e[4]:void 0,e[5]?+e[5]:void 0)}}]);function LQ(t){return t[t.length-1]||{}}var zh,Ok,Wy,Dk=(t,e)=>{var n=t.indexOf("safari-extension")!==-1,s=t.indexOf("safari-web-extension")!==-1;return n||s?[t.indexOf("@")!==-1?t.split("@")[0]:sc,n?"safari-extension:"+e:"safari-web-extension:"+e]:[t,e]},IQ=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;function Vw(t,e){e===void 0&&(e=0);var n=t.stacktrace||t.stack||"",s=function(l){return l&&FQ.test(l.message)?1:0}(t);try{var i=PQ,o=function(l,u){var d=function(h){var m=globalThis._posthogChunkIds;if(!m)return{};var p=Object.keys(m);return Wy&&p.length===Ok||(Ok=p.length,Wy=p.reduce((v,x)=>{zh||(zh={});var _=zh[x];if(_)v[_[0]]=_[1];else for(var w=h(x),C=w.length-1;C>=0;C--){var T=w[C],N=T==null?void 0:T.filename,k=m[x];if(N&&k){v[N]=k,zh[x]=[N,k];break}}return v},{})),Wy}(u);return l.forEach(h=>{h.filename&&(h.chunk_id=d[h.filename])}),l}(i(n,s),i);return o.slice(0,o.length-e)}catch{}return[]}var FQ=/Minified React error #\d+;/i;function zQ(t,e){var n,s,i=Vw(t),o=(n=e==null?void 0:e.handled)===null||n===void 0||n,l=(s=e==null?void 0:e.synthetic)!==null&&s!==void 0&&s;return{type:e!=null&&e.overrideExceptionType?e.overrideExceptionType:t.name,value:function(u){var d=u.message;return d.error&&typeof d.error.message=="string"?String(d.error.message):String(d)}(t),stacktrace:{frames:i,type:"raw"},mechanism:{handled:o,synthetic:l}}}function tD(t,e){var n=zQ(t,e);return t.cause&&eD(t.cause)&&t.cause!==t?[n,...tD(t.cause,{handled:e==null?void 0:e.handled,synthetic:e==null?void 0:e.synthetic})]:[n]}function Xy(t,e){return{$exception_list:tD(t,e),$exception_level:"error"}}function Qy(t,e){var n,s,i,o=(n=e==null?void 0:e.handled)===null||n===void 0||n,l=(s=e==null?void 0:e.synthetic)===null||s===void 0||s,u={type:e!=null&&e.overrideExceptionType?e.overrideExceptionType:(i=e==null?void 0:e.defaultExceptionType)!==null&&i!==void 0?i:"Error",value:t||(e==null?void 0:e.defaultExceptionMessage),mechanism:{handled:o,synthetic:l}};if(e!=null&&e.syntheticException){var d=Vw(e.syntheticException,1);d.length&&(u.stacktrace={frames:d,type:"raw"})}return{$exception_list:[u],$exception_level:"error"}}function BQ(t){return Xt(t)&&!Pb(t)&&XX.indexOf(t)>=0}function UQ(t,e){var n,s,i=(n=e==null?void 0:e.handled)===null||n===void 0||n,o=(s=e==null?void 0:e.synthetic)===null||s===void 0||s,l=e!=null&&e.overrideExceptionType?e.overrideExceptionType:JO(t)?t.constructor.name:"Error",u="Non-Error 'exception' captured with keys: "+function(m,p){p===void 0&&(p=40);var v=Object.keys(m);if(v.sort(),!v.length)return"[object has no keys]";for(var x=v.length;x>0;x--){var _=v.slice(0,x).join(", ");if(!(_.length>p))return x===v.length||_.length<=p?_:_.slice(0,p)+"..."}return""}(t),d={type:l,value:u,mechanism:{handled:i,synthetic:o}};if(e!=null&&e.syntheticException){var h=Vw(e==null?void 0:e.syntheticException,1);h.length&&(d.stacktrace={frames:h,type:"raw"})}return{$exception_list:[d],$exception_level:BQ(t.level)?t.level:"error"}}function VQ(t,e){var{error:n,event:s}=t,i={$exception_list:[]},o=n||s;if(Gy(o)||function(v){return ip(v,"DOMException")}(o)){var l=o;if(function(v){return"stack"in v}(o))i=Xy(o,e);else{var u=l.name||(Gy(l)?"DOMError":"DOMException"),d=l.message?u+": "+l.message:u;i=Qy(d,be({},e,{overrideExceptionType:Gy(l)?"DOMError":"DOMException",defaultExceptionMessage:d}))}return"code"in l&&(i.$exception_DOMException_code=""+l.code),i}if(function(v){return ip(v,"ErrorEvent")}(o)&&o.error)return Xy(o.error,e);if(eD(o))return Xy(o,e);if(function(v){return ip(v,"Object")}(o)||JO(o))return UQ(o,e);if(ve(n)&&Xt(s)){var h="Error",m=s,p=s.match(IQ);return p&&(h=p[1],m=p[2]),Qy(m,be({},e,{overrideExceptionType:h,defaultExceptionMessage:m}))}return Qy(o,e)}function Pk(t,e,n){try{if(!(e in t))return()=>{};var s=t[e],i=n(s);return dr(i)&&(i.prototype=i.prototype||{},Object.defineProperties(i,{__posthog_wrapped__:{enumerable:!1,value:!0}})),t[e]=i,()=>{t[e]=s}}catch{return()=>{}}}class $Q{constructor(e){var n;this._instance=e,this.ft=(re==null||(n=re.location)==null?void 0:n.pathname)||""}get isEnabled(){return this._instance.config.capture_pageview==="history_change"}startIfEnabled(){this.isEnabled&&(we.info("History API monitoring enabled, starting..."),this.monitorHistoryChanges())}stop(){this.gt&&this.gt(),this.gt=void 0,we.info("History API monitoring stopped")}monitorHistoryChanges(){var e,n;if(re&&re.history){var s=this;(e=re.history.pushState)!=null&&e.__posthog_wrapped__||Pk(re.history,"pushState",i=>function(o,l,u){i.call(this,o,l,u),s._t("pushState")}),(n=re.history.replaceState)!=null&&n.__posthog_wrapped__||Pk(re.history,"replaceState",i=>function(o,l,u){i.call(this,o,l,u),s._t("replaceState")}),this.bt()}}_t(e){try{var n,s=re==null||(n=re.location)==null?void 0:n.pathname;if(!s)return;s!==this.ft&&this.isEnabled&&this._instance.capture("$pageview",{navigation_type:e}),this.ft=s}catch(i){we.error("Error capturing "+e+" pageview",i)}}bt(){if(!this.gt){var e=()=>{this._t("popstate")};Bt(re,"popstate",e),this.gt=()=>{re&&re.removeEventListener("popstate",e)}}}}function $p(t){var e,n;return((e=JSON.stringify(t,(n=[],function(s,i){if(Wt(i)){for(;n.length>0&&n[n.length-1]!==this;)n.pop();return n.includes(i)?"[Circular]":(n.push(i),i)}return i})))==null?void 0:e.length)||0}function Wb(t,e){if(e===void 0&&(e=66060288e-1),t.size>=e&&t.data.length>1){var n=Math.floor(t.data.length/2),s=t.data.slice(0,n),i=t.data.slice(n);return[Wb({size:$p(s),data:s,sessionId:t.sessionId,windowId:t.windowId}),Wb({size:$p(i),data:i,sessionId:t.sessionId,windowId:t.windowId})].flatMap(o=>o)}return[t]}var Li=(t=>(t[t.DomContentLoaded=0]="DomContentLoaded",t[t.Load=1]="Load",t[t.FullSnapshot=2]="FullSnapshot",t[t.IncrementalSnapshot=3]="IncrementalSnapshot",t[t.Meta=4]="Meta",t[t.Custom=5]="Custom",t[t.Plugin=6]="Plugin",t))(Li||{}),Er=(t=>(t[t.Mutation=0]="Mutation",t[t.MouseMove=1]="MouseMove",t[t.MouseInteraction=2]="MouseInteraction",t[t.Scroll=3]="Scroll",t[t.ViewportResize=4]="ViewportResize",t[t.Input=5]="Input",t[t.TouchMove=6]="TouchMove",t[t.MediaInteraction=7]="MediaInteraction",t[t.StyleSheetRule=8]="StyleSheetRule",t[t.CanvasMutation=9]="CanvasMutation",t[t.Font=10]="Font",t[t.Log=11]="Log",t[t.Drag=12]="Drag",t[t.StyleDeclaration=13]="StyleDeclaration",t[t.Selection=14]="Selection",t[t.AdoptedStyleSheet=15]="AdoptedStyleSheet",t[t.CustomElement=16]="CustomElement",t))(Er||{}),Xb="[SessionRecording]",Qb="redacted",Bh={initiatorTypes:["audio","beacon","body","css","early-hint","embed","fetch","frame","iframe","icon","image","img","input","link","navigation","object","ping","script","track","video","xmlhttprequest"],maskRequestFn:t=>t,recordHeaders:!1,recordBody:!1,recordInitialRequests:!1,recordPerformance:!1,performanceEntryTypeToObserve:["first-input","navigation","paint","resource"],payloadSizeLimitBytes:1e6,payloadHostDenyList:[".lr-ingest.io",".ingest.sentry.io",".clarity.ms","analytics.google.com","bam.nr-data.net"]},HQ=["authorization","x-forwarded-for","authorization","cookie","set-cookie","x-api-key","x-real-ip","remote-addr","forwarded","proxy-authorization","x-csrf-token","x-csrftoken","x-xsrf-token"],qQ=["password","secret","passwd","api_key","apikey","auth","credentials","mysql_pwd","privatekey","private_key","token"],KQ=["/s/","/e/","/i/"];function Lk(t,e,n,s){if(dt(t))return t;var i=(e==null?void 0:e["content-length"])||function(o){return new Blob([o]).size}(t);return Xt(i)&&(i=parseInt(i)),i>n?Xb+" "+s+" body too large to record ("+i+" bytes)":t}function Ik(t,e){if(dt(t))return t;var n=t;return Dc(n,!1)||(n=Xb+" "+e+" body "+Qb),St(qQ,s=>{var i,o;(i=n)!=null&&i.length&&((o=n)==null?void 0:o.indexOf(s))!==-1&&(n=Xb+" "+e+" body "+Qb+" as might contain: "+s)}),n}var GQ=(t,e)=>{var n,s,i,o={payloadSizeLimitBytes:Bh.payloadSizeLimitBytes,performanceEntryTypeToObserve:[...Bh.performanceEntryTypeToObserve],payloadHostDenyList:[...e.payloadHostDenyList||[],...Bh.payloadHostDenyList]},l=t.session_recording.recordHeaders!==!1&&e.recordHeaders,u=t.session_recording.recordBody!==!1&&e.recordBody,d=t.capture_performance!==!1&&e.recordPerformance,h=(n=o,i=Math.min(1e6,(s=n.payloadSizeLimitBytes)!==null&&s!==void 0?s:1e6),v=>(v!=null&&v.requestBody&&(v.requestBody=Lk(v.requestBody,v.requestHeaders,i,"Request")),v!=null&&v.responseBody&&(v.responseBody=Lk(v.responseBody,v.responseHeaders,i,"Response")),v)),m=v=>{return h(((w,C)=>{var T,N=Pc(w.name),k=C.indexOf("http")===0?(T=Pc(C))==null?void 0:T.pathname:C;k==="/"&&(k="");var A=N==null?void 0:N.pathname.replace(k||"","");if(!(N&&A&&KQ.some(O=>A.indexOf(O)===0)))return w})((_=(x=v).requestHeaders,dt(_)||St(Object.keys(_??{}),w=>{HQ.includes(w.toLowerCase())&&(_[w]=Qb)}),x),t.api_host));var x,_},p=dr(t.session_recording.maskNetworkRequestFn);return p&&dr(t.session_recording.maskCapturedNetworkRequestFn)&&we.warn("Both `maskNetworkRequestFn` and `maskCapturedNetworkRequestFn` are defined. `maskNetworkRequestFn` will be ignored."),p&&(t.session_recording.maskCapturedNetworkRequestFn=v=>{var x=t.session_recording.maskNetworkRequestFn({url:v.name});return be({},v,{name:x==null?void 0:x.url})}),o.maskRequestFn=dr(t.session_recording.maskCapturedNetworkRequestFn)?v=>{var x,_=m(v);return _&&(x=t.session_recording.maskCapturedNetworkRequestFn==null?void 0:t.session_recording.maskCapturedNetworkRequestFn(_))!==null&&x!==void 0?x:void 0}:v=>function(x){if(!ve(x))return x.requestBody=Ik(x.requestBody,"Request"),x.responseBody=Ik(x.responseBody,"Response"),x}(m(v)),be({},Bh,o,{recordHeaders:l,recordBody:u,recordPerformance:d,recordInitialRequests:d})};class YQ{constructor(e,n){var s,i;n===void 0&&(n={}),this.yt={},this.wt=o=>{if(!this.yt[o]){var l,u;this.yt[o]=!0;var d=this.St(o);(l=(u=this.rt).onBlockedNode)==null||l.call(u,o,d)}},this.$t=o=>{var l=this.St(o);if((l==null?void 0:l.nodeName)!=="svg"&&l instanceof Element){var u=l.closest("svg");if(u)return[this._rrweb.mirror.getId(u),u]}return[o,l]},this.St=o=>this._rrweb.mirror.getNode(o),this.kt=o=>{var l,u,d,h,m,p,v,x;return((l=(u=o.removes)==null?void 0:u.length)!==null&&l!==void 0?l:0)+((d=(h=o.attributes)==null?void 0:h.length)!==null&&d!==void 0?d:0)+((m=(p=o.texts)==null?void 0:p.length)!==null&&m!==void 0?m:0)+((v=(x=o.adds)==null?void 0:x.length)!==null&&v!==void 0?v:0)},this.throttleMutations=o=>{if(o.type!==3||o.data.source!==0)return o;var l=o.data,u=this.kt(l);l.attributes&&(l.attributes=l.attributes.filter(h=>{var[m]=this.$t(h.id);return!this.ct.consumeRateLimit(m)&&h}));var d=this.kt(l);return d!==0||u===d?o:void 0},this._rrweb=e,this.rt=n,this.ct=new QO({bucketSize:(s=this.rt.bucketSize)!==null&&s!==void 0?s:100,refillRate:(i=this.rt.refillRate)!==null&&i!==void 0?i:10,refillInterval:1e3,et:this.wt})}}var fr=Uint8Array,Es=Uint16Array,Lc=Uint32Array,$w=new fr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Hw=new fr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Fk=new fr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),nD=function(t,e){for(var n=new Es(31),s=0;s<31;++s)n[s]=e+=1<<t[s-1];var i=new Lc(n[30]);for(s=1;s<30;++s)for(var o=n[s];o<n[s+1];++o)i[o]=o-n[s]<<5|s;return[n,i]},sD=nD($w,2),WQ=sD[0],Jb=sD[1];WQ[28]=258,Jb[258]=28;for(var zk=nD(Hw,0)[1],rD=new Es(32768),Ot=0;Ot<32768;++Ot){var go=(43690&Ot)>>>1|(21845&Ot)<<1;go=(61680&(go=(52428&go)>>>2|(13107&go)<<2))>>>4|(3855&go)<<4,rD[Ot]=((65280&go)>>>8|(255&go)<<8)>>>1}var vd=function(t,e,n){for(var s=t.length,i=0,o=new Es(e);i<s;++i)++o[t[i]-1];var l,u=new Es(e);for(i=0;i<e;++i)u[i]=u[i-1]+o[i-1]<<1;for(l=new Es(s),i=0;i<s;++i)l[i]=rD[u[t[i]-1]++]>>>15-t[i];return l},Go=new fr(288);for(Ot=0;Ot<144;++Ot)Go[Ot]=8;for(Ot=144;Ot<256;++Ot)Go[Ot]=9;for(Ot=256;Ot<280;++Ot)Go[Ot]=7;for(Ot=280;Ot<288;++Ot)Go[Ot]=8;var Hp=new fr(32);for(Ot=0;Ot<32;++Ot)Hp[Ot]=5;var XQ=vd(Go,9),QQ=vd(Hp,5),iD=function(t){return(t/8>>0)+(7&t&&1)},aD=function(t,e,n){(n==null||n>t.length)&&(n=t.length);var s=new(t instanceof Es?Es:t instanceof Lc?Lc:fr)(n-e);return s.set(t.subarray(e,n)),s},Mi=function(t,e,n){n<<=7&e;var s=e/8>>0;t[s]|=n,t[s+1]|=n>>>8},Yu=function(t,e,n){n<<=7&e;var s=e/8>>0;t[s]|=n,t[s+1]|=n>>>8,t[s+2]|=n>>>16},Jy=function(t,e){for(var n=[],s=0;s<t.length;++s)t[s]&&n.push({s,f:t[s]});var i=n.length,o=n.slice();if(!i)return[new fr(0),0];if(i==1){var l=new fr(n[0].s+1);return l[n[0].s]=1,[l,1]}n.sort(function(O,P){return O.f-P.f}),n.push({s:-1,f:25001});var u=n[0],d=n[1],h=0,m=1,p=2;for(n[0]={s:-1,f:u.f+d.f,l:u,r:d};m!=i-1;)u=n[n[h].f<n[p].f?h++:p++],d=n[h!=m&&n[h].f<n[p].f?h++:p++],n[m++]={s:-1,f:u.f+d.f,l:u,r:d};var v=o[0].s;for(s=1;s<i;++s)o[s].s>v&&(v=o[s].s);var x=new Es(v+1),_=Zb(n[m-1],x,0);if(_>e){s=0;var w=0,C=_-e,T=1<<C;for(o.sort(function(O,P){return x[P.s]-x[O.s]||O.f-P.f});s<i;++s){var N=o[s].s;if(!(x[N]>e))break;w+=T-(1<<_-x[N]),x[N]=e}for(w>>>=C;w>0;){var k=o[s].s;x[k]<e?w-=1<<e-x[k]++-1:++s}for(;s>=0&&w;--s){var A=o[s].s;x[A]==e&&(--x[A],++w)}_=e}return[new fr(x),_]},Zb=function(t,e,n){return t.s==-1?Math.max(Zb(t.l,e,n+1),Zb(t.r,e,n+1)):e[t.s]=n},Bk=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new Es(++e),s=0,i=t[0],o=1,l=function(d){n[s++]=d},u=1;u<=e;++u)if(t[u]==i&&u!=e)++o;else{if(!i&&o>2){for(;o>138;o-=138)l(32754);o>2&&(l(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(l(i),--o;o>6;o-=6)l(8304);o>2&&(l(o-3<<5|8208),o=0)}for(;o--;)l(i);o=1,i=t[u]}return[n.subarray(0,s),e]},Wu=function(t,e){for(var n=0,s=0;s<e.length;++s)n+=t[s]*e[s];return n},ex=function(t,e,n){var s=n.length,i=iD(e+2);t[i]=255&s,t[i+1]=s>>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var o=0;o<s;++o)t[i+o+4]=n[o];return 8*(i+4+s)},Uk=function(t,e,n,s,i,o,l,u,d,h,m){Mi(e,m++,n),++i[256];for(var p=Jy(i,15),v=p[0],x=p[1],_=Jy(o,15),w=_[0],C=_[1],T=Bk(v),N=T[0],k=T[1],A=Bk(w),O=A[0],P=A[1],j=new Es(19),D=0;D<N.length;++D)j[31&N[D]]++;for(D=0;D<O.length;++D)j[31&O[D]]++;for(var z=Jy(j,7),I=z[0],H=z[1],V=19;V>4&&!I[Fk[V-1]];--V);var X,J,ie,R,B=h+5<<3,F=Wu(i,Go)+Wu(o,Hp)+l,se=Wu(i,v)+Wu(o,w)+l+14+3*V+Wu(j,I)+(2*j[16]+3*j[17]+7*j[18]);if(B<=F&&B<=se)return ex(e,m,t.subarray(d,d+h));if(Mi(e,m,1+(se<F)),m+=2,se<F){X=vd(v,x),J=v,ie=vd(w,C),R=w;var W=vd(I,H);for(Mi(e,m,k-257),Mi(e,m+5,P-1),Mi(e,m+10,V-4),m+=14,D=0;D<V;++D)Mi(e,m+3*D,I[Fk[D]]);m+=3*V;for(var L=[N,O],$=0;$<2;++$){var Y=L[$];for(D=0;D<Y.length;++D){var ee=31&Y[D];Mi(e,m,W[ee]),m+=I[ee],ee>15&&(Mi(e,m,Y[D]>>>5&127),m+=Y[D]>>>12)}}}else X=XQ,J=Go,ie=QQ,R=Hp;for(D=0;D<u;++D)if(s[D]>255){ee=s[D]>>>18&31,Yu(e,m,X[ee+257]),m+=J[ee+257],ee>7&&(Mi(e,m,s[D]>>>23&31),m+=$w[ee]);var de=31&s[D];Yu(e,m,ie[de]),m+=R[de],de>3&&(Yu(e,m,s[D]>>>5&8191),m+=Hw[de])}else Yu(e,m,X[s[D]]),m+=J[s[D]];return Yu(e,m,X[256]),m+J[256]},JQ=new Lc([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),ZQ=function(){for(var t=new Lc(256),e=0;e<256;++e){for(var n=e,s=9;--s;)n=(1&n&&3988292384)^n>>>1;t[e]=n}return t}(),eJ=function(){var t=4294967295;return{p:function(e){for(var n=t,s=0;s<e.length;++s)n=ZQ[255&n^e[s]]^n>>>8;t=n},d:function(){return 4294967295^t}}},tJ=function(t,e,n,s,i){return function(o,l,u,d,h,m){var p=o.length,v=new fr(d+p+5*(1+Math.floor(p/7e3))+h),x=v.subarray(d,v.length-h),_=0;if(!l||p<8)for(var w=0;w<=p;w+=65535){var C=w+65535;C<p?_=ex(x,_,o.subarray(w,C)):(x[w]=m,_=ex(x,_,o.subarray(w,p)))}else{for(var T=JQ[l-1],N=T>>>13,k=8191&T,A=(1<<u)-1,O=new Es(32768),P=new Es(A+1),j=Math.ceil(u/3),D=2*j,z=function(ft){return(o[ft]^o[ft+1]<<j^o[ft+2]<<D)&A},I=new Lc(25e3),H=new Es(288),V=new Es(32),X=0,J=0,ie=(w=0,0),R=0,B=0;w<p;++w){var F=z(w),se=32767&w,W=P[F];if(O[se]=W,P[F]=se,R<=w){var L=p-w;if((X>7e3||ie>24576)&&L>423){_=Uk(o,x,0,I,H,V,J,ie,B,w-B,_),ie=X=J=0,B=w;for(var $=0;$<286;++$)H[$]=0;for($=0;$<30;++$)V[$]=0}var Y=2,ee=0,de=k,ce=se-W&32767;if(L>2&&F==z(w-ce))for(var ae=Math.min(N,L)-1,me=Math.min(32767,w),ge=Math.min(258,L);ce<=me&&--de&&se!=W;){if(o[w+Y]==o[w+Y-ce]){for(var pe=0;pe<ge&&o[w+pe]==o[w+pe-ce];++pe);if(pe>Y){if(Y=pe,ee=ce,pe>ae)break;var Ce=Math.min(ce,pe-2),Ee=0;for($=0;$<Ce;++$){var Ke=w-ce+$+32768&32767,st=Ke-O[Ke]+32768&32767;st>Ee&&(Ee=st,W=Ke)}}}ce+=(se=W)-(W=O[se])+32768&32767}if(ee){I[ie++]=268435456|Jb[Y]<<18|zk[ee];var Ve=31&Jb[Y],Ut=31&zk[ee];J+=$w[Ve]+Hw[Ut],++H[257+Ve],++V[Ut],R=w+Y,++X}else I[ie++]=o[w],++H[o[w]]}}_=Uk(o,x,m,I,H,V,J,ie,B,w-B,_)}return aD(v,0,d+iD(_)+h)}(t,e.level==null?6:e.level,e.mem==null?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(t.length)))):12+e.mem,n,s,!0)},tx=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},nJ=function(t,e){var n=e.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=e.level<2?4:e.level==9?2:0,t[9]=3,e.mtime!=0&&tx(t,4,Math.floor(new Date(e.mtime||Date.now())/1e3)),n){t[3]=8;for(var s=0;s<=n.length;++s)t[s+10]=n.charCodeAt(s)}},sJ=function(t){return 10+(t.filename&&t.filename.length+1||0)};function oD(t,e){e===void 0&&(e={});var n=eJ(),s=t.length;n.p(t);var i=tJ(t,e,sJ(e),8),o=i.length;return nJ(i,e),tx(i,o-8,n.d()),tx(i,o-4,s),i}function lD(t,e){var n=t.length;if(typeof TextEncoder<"u")return new TextEncoder().encode(t);for(var s=new fr(t.length+(t.length>>>1)),i=0,o=function(h){s[i++]=h},l=0;l<n;++l){if(i+5>s.length){var u=new fr(i+8+(n-l<<1));u.set(s),s=u}var d=t.charCodeAt(l);d<128||e?o(d):d<2048?(o(192|d>>>6),o(128|63&d)):d>55295&&d<57344?(o(240|(d=65536+(1047552&d)|1023&t.charCodeAt(++l))>>>18),o(128|d>>>12&63),o(128|d>>>6&63),o(128|63&d)):(o(224|d>>>12),o(128|d>>>6&63),o(128|63&d))}return aD(s,0,i)}function rJ(t,e){return function(n){for(var s=0,i=0;i<n.length;i++)s=(s<<5)-s+n.charCodeAt(i),s|=0;return Math.abs(s)}(t)%100<zs(100*e,0,100)}var Ha="disabled",qw="sampled",qp="active",Yo="buffering",Kw="paused",Gw="trigger",ii=Gw+"_activated",Wn=Gw+"_pending",li=Gw+"_"+Ha;function Vk(t,e){return e.some(n=>n.matching==="regex"&&new RegExp(n.url).test(t))}class cD{constructor(e){this.xt=e}triggerStatus(e){var n=this.xt.map(s=>s.triggerStatus(e));return n.includes(ii)?ii:n.includes(Wn)?Wn:li}stop(){this.xt.forEach(e=>e.stop())}}class uD{constructor(e){this.xt=e}triggerStatus(e){var n=new Set;for(var s of this.xt)n.add(s.triggerStatus(e));switch(n.delete(li),n.size){case 0:return li;case 1:return Array.from(n)[0];default:return Wn}}stop(){this.xt.forEach(e=>e.stop())}}class iJ{triggerStatus(){return Wn}stop(){}}class aJ{constructor(e){this.Et=[],this.It=[],this.urlBlocked=!1,this._instance=e}onRemoteConfig(e){var n,s;this.Et=((n=e.sessionRecording)==null?void 0:n.urlTriggers)||[],this.It=((s=e.sessionRecording)==null?void 0:s.urlBlocklist)||[]}Pt(e){var n;return this.Et.length===0?li:((n=this._instance)==null?void 0:n.get_property(zb))===e?ii:Wn}triggerStatus(e){var n=this.Pt(e),s=n===ii?ii:n===Wn?Wn:li;return this._instance.register_for_session({$sdk_debug_replay_url_trigger_status:s}),s}checkUrlTriggerConditions(e,n,s){if(re!==void 0&&re.location.href){var i=re.location.href,o=this.urlBlocked,l=Vk(i,this.It);o&&l||(l&&!o?e():!l&&o&&n(),Vk(i,this.Et)&&s("url"))}}stop(){}}class oJ{constructor(e){this.linkedFlag=null,this.linkedFlagSeen=!1,this.Rt=()=>{},this._instance=e}triggerStatus(){var e=Wn;return dt(this.linkedFlag)&&(e=li),this.linkedFlagSeen&&(e=ii),this._instance.register_for_session({$sdk_debug_replay_linked_flag_trigger_status:e}),e}onRemoteConfig(e,n){var s;if(this.linkedFlag=((s=e.sessionRecording)==null?void 0:s.linkedFlag)||null,!dt(this.linkedFlag)&&!this.linkedFlagSeen){var i=Xt(this.linkedFlag)?this.linkedFlag:this.linkedFlag.flag,o=Xt(this.linkedFlag)?null:this.linkedFlag.variant;this.Rt=this._instance.onFeatureFlags((l,u)=>{var d=!1;if(Wt(u)&&i in u){var h=u[i];d=Xr(h)?h===!0:o?h===o:!!h}this.linkedFlagSeen=d,d&&n(i,o)})}}stop(){this.Rt()}}class lJ{constructor(e){this.Tt=[],this._instance=e}onRemoteConfig(e){var n;this.Tt=((n=e.sessionRecording)==null?void 0:n.eventTriggers)||[]}Mt(e){var n;return this.Tt.length===0?li:((n=this._instance)==null?void 0:n.get_property(Bb))===e?ii:Wn}triggerStatus(e){var n=this.Mt(e),s=n===ii?ii:n===Wn?Wn:li;return this._instance.register_for_session({$sdk_debug_replay_event_trigger_status:s}),s}stop(){}}function cJ(t){return t.isRecordingEnabled?Yo:Ha}function uJ(t){if(!t.receivedFlags)return Yo;if(!t.isRecordingEnabled)return Ha;if(t.urlTriggerMatching.urlBlocked)return Kw;var e=t.isSampled===!0,n=new cD([t.eventTriggerMatching,t.urlTriggerMatching,t.linkedFlagMatching]).triggerStatus(t.sessionId);return e?qw:n===ii?qp:n===Wn?Yo:t.isSampled===!1?Ha:qp}function dJ(t){if(!t.receivedFlags)return Yo;if(!t.isRecordingEnabled)return Ha;if(t.urlTriggerMatching.urlBlocked)return Kw;var e=new uD([t.eventTriggerMatching,t.urlTriggerMatching,t.linkedFlagMatching]).triggerStatus(t.sessionId),n=e!==li,s=Xr(t.isSampled);return n&&e===Wn?Yo:n&&e===li||s&&!t.isSampled?Ha:t.isSampled===!0?qw:qp}var ad="[SessionRecording]",$n=kn(ad);function Uh(){var t;return Ie==null||(t=Ie.__PosthogExtensions__)==null||(t=t.rrweb)==null?void 0:t.record}var fJ=3e5,hJ=[Er.MouseMove,Er.MouseInteraction,Er.Scroll,Er.ViewportResize,Er.Input,Er.TouchMove,Er.MediaInteraction,Er.Drag],$k=t=>({rrwebMethod:t,enqueuedAt:Date.now(),attempt:1});function vo(t){return function(e,n){for(var s="",i=0;i<e.length;){var o=e[i++];s+=String.fromCharCode(o)}return s}(oD(lD(JSON.stringify(t))))}function Hk(t){return t.type===Li.Custom&&t.data.tag==="sessionIdle"}class pJ{get sessionId(){return this.Ct}get Ft(){return this._instance.config.session_recording.session_idle_threshold_ms||3e5}get started(){return this.Ot}get At(){if(!this._instance.sessionManager)throw new Error(ad+" must be started with a valid sessionManager.");return this._instance.sessionManager}get Dt(){var e,n;return this.Lt.triggerStatus(this.sessionId)===Wn?6e4:(e=(n=this._instance.config.session_recording)==null?void 0:n.full_snapshot_interval_millis)!==null&&e!==void 0?e:fJ}get jt(){var e=this._instance.get_property(rd);return Xr(e)?e:null}get Nt(){var e,n,s=(e=this.C)==null?void 0:e.data[((n=this.C)==null?void 0:n.data.length)-1],{sessionStartTimestamp:i}=this.At.checkAndGetSessionAndWindowId(!0);return s?s.timestamp-i:null}get zt(){var e=!!this._instance.get_property(Fb),n=!this._instance.config.disable_session_recording;return re&&e&&n}get Ut(){var e=!!this._instance.get_property(yk),n=this._instance.config.enable_recording_console_log;return n??e}get qt(){var e,n,s,i,o,l,u=this._instance.config.session_recording.captureCanvas,d=this._instance.get_property(wk),h=(e=(n=u==null?void 0:u.recordCanvas)!==null&&n!==void 0?n:d==null?void 0:d.enabled)!==null&&e!==void 0&&e,m=(s=(i=u==null?void 0:u.canvasFps)!==null&&i!==void 0?i:d==null?void 0:d.fps)!==null&&s!==void 0?s:4,p=(o=(l=u==null?void 0:u.canvasQuality)!==null&&l!==void 0?l:d==null?void 0:d.quality)!==null&&o!==void 0?o:.4;if(typeof p=="string"){var v=parseFloat(p);p=isNaN(v)?.4:v}return{enabled:h,fps:zs(m,0,12,"canvas recording fps",4),quality:zs(p,0,1,"canvas recording quality",.4)}}get Bt(){var e,n,s=this._instance.get_property(bk),i={recordHeaders:(e=this._instance.config.session_recording)==null?void 0:e.recordHeaders,recordBody:(n=this._instance.config.session_recording)==null?void 0:n.recordBody},o=(i==null?void 0:i.recordHeaders)||(s==null?void 0:s.recordHeaders),l=(i==null?void 0:i.recordBody)||(s==null?void 0:s.recordBody),u=Wt(this._instance.config.capture_performance)?this._instance.config.capture_performance.network_timing:this._instance.config.capture_performance,d=!!(Xr(u)?u:s!=null&&s.capturePerformance);return o||l||d?{recordHeaders:o,recordBody:l,recordPerformance:d}:void 0}get Ht(){var e,n,s,i,o,l,u=this._instance.get_property(xk),d={maskAllInputs:(e=this._instance.config.session_recording)==null?void 0:e.maskAllInputs,maskTextSelector:(n=this._instance.config.session_recording)==null?void 0:n.maskTextSelector,blockSelector:(s=this._instance.config.session_recording)==null?void 0:s.blockSelector},h=(i=d==null?void 0:d.maskAllInputs)!==null&&i!==void 0?i:u==null?void 0:u.maskAllInputs,m=(o=d==null?void 0:d.maskTextSelector)!==null&&o!==void 0?o:u==null?void 0:u.maskTextSelector,p=(l=d==null?void 0:d.blockSelector)!==null&&l!==void 0?l:u==null?void 0:u.blockSelector;return ve(h)&&ve(m)&&ve(p)?void 0:{maskAllInputs:h==null||h,maskTextSelector:m,blockSelector:p}}get Wt(){var e=this._instance.get_property(_k);return Gn(e)?e:null}get Gt(){var e=this._instance.get_property(Sk);return Gn(e)?e:null}get status(){return this.Jt?this.Vt({receivedFlags:this.Jt,isRecordingEnabled:this.zt,isSampled:this.jt,urlTriggerMatching:this.Kt,eventTriggerMatching:this.Yt,linkedFlagMatching:this.Xt,sessionId:this.sessionId}):Yo}constructor(e){if(this.Vt=cJ,this.Jt=!1,this.Qt=[],this.Zt="unknown",this.ti=Date.now(),this.Lt=new iJ,this.ii=void 0,this.ei=void 0,this.ri=void 0,this.si=void 0,this.ni=void 0,this._forceAllowLocalhostNetworkCapture=!1,this.oi=()=>{this.ai()},this.li=()=>{this.ui("browser offline",{})},this.hi=()=>{this.ui("browser online",{})},this.di=()=>{if(xe!=null&&xe.visibilityState){var i="window "+xe.visibilityState;this.ui(i,{})}},this._instance=e,this.Ot=!1,this.vi="/s/",this.ci=void 0,this.Jt=!1,!this._instance.sessionManager)throw $n.error("started without valid sessionManager"),new Error(ad+" started without valid sessionManager. This is a bug.");if(this._instance.config.__preview_experimental_cookieless_mode)throw new Error(ad+" cannot be used with __preview_experimental_cookieless_mode.");this.Xt=new oJ(this._instance),this.Kt=new aJ(this._instance),this.Yt=new lJ(this._instance);var{sessionId:n,windowId:s}=this.At.checkAndGetSessionAndWindowId();this.Ct=n,this.fi=s,this.C=this.pi(),this.Ft>=this.At.sessionTimeoutMs&&$n.warn("session_idle_threshold_ms ("+this.Ft+") is greater than the session timeout ("+this.At.sessionTimeoutMs+"). Session will never be detected as idle")}startIfEnabledOrStop(e){this.zt?(this.gi(e),Bt(re,"beforeunload",this.oi),Bt(re,"offline",this.li),Bt(re,"online",this.hi),Bt(re,"visibilitychange",this.di),this.mi(),this.bi(),dt(this.ii)&&(this.ii=this._instance.on("eventCaptured",n=>{try{if(n.event==="$pageview"){var s=n!=null&&n.properties.$current_url?this.yi(n==null?void 0:n.properties.$current_url):"";if(!s)return;this.ui("$pageview",{href:s})}}catch(i){$n.error("Could not add $pageview to rrweb session",i)}})),this.ei||(this.ei=this.At.onSessionId((n,s,i)=>{var o,l;i&&(this.ui("$session_id_change",{sessionId:n,windowId:s,changeReason:i}),(o=this._instance)==null||(o=o.persistence)==null||o.unregister(Bb),(l=this._instance)==null||(l=l.persistence)==null||l.unregister(zb))}))):this.stopRecording()}stopRecording(){var e,n,s,i;this.Ot&&this.ci&&(this.ci(),this.ci=void 0,this.Ot=!1,re==null||re.removeEventListener("beforeunload",this.oi),re==null||re.removeEventListener("offline",this.li),re==null||re.removeEventListener("online",this.hi),re==null||re.removeEventListener("visibilitychange",this.di),this.pi(),clearInterval(this.wi),(e=this.ii)==null||e.call(this),this.ii=void 0,(n=this.ni)==null||n.call(this),this.ni=void 0,(s=this.ei)==null||s.call(this),this.ei=void 0,(i=this.si)==null||i.call(this),this.si=void 0,this.Yt.stop(),this.Kt.stop(),this.Xt.stop(),$n.info("stopped"))}Si(){var e;(e=this._instance.persistence)==null||e.unregister(rd)}$i(e){var n,s=this.Ct!==e,i=this.Wt;if(Gn(i)){var o=this.jt,l=s||!Xr(o),u=l?rJ(e,i):o;l&&(u?this.ki(qw):$n.warn("Sample rate ("+i+") has determined that this sessionId ("+e+") will not be sent to the server."),this.ui("samplingDecisionMade",{sampleRate:i,isSampled:u})),(n=this._instance.persistence)==null||n.register({[rd]:u})}else this.Si()}onRemoteConfig(e){var n,s,i,o;this.ui("$remote_config_received",e),this.xi(e),(n=e.sessionRecording)!=null&&n.endpoint&&(this.vi=(o=e.sessionRecording)==null?void 0:o.endpoint),this.mi(),((s=e.sessionRecording)==null?void 0:s.triggerMatchType)==="any"?(this.Vt=uJ,this.Lt=new cD([this.Yt,this.Kt])):(this.Vt=dJ,this.Lt=new uD([this.Yt,this.Kt])),this._instance.register_for_session({$sdk_debug_replay_remote_trigger_matching_config:(i=e.sessionRecording)==null?void 0:i.triggerMatchType}),this.Kt.onRemoteConfig(e),this.Yt.onRemoteConfig(e),this.Xt.onRemoteConfig(e,(l,u)=>{this.ki("linked_flag_matched",{flag:l,variant:u})}),this.Jt=!0,this.startIfEnabledOrStop()}mi(){Gn(this.Wt)&&dt(this.si)&&(this.si=this.At.onSessionId(e=>{this.$i(e)}))}xi(e){if(this._instance.persistence){var n,s=this._instance.persistence,i=()=>{var o,l,u,d,h,m,p,v,x,_=(o=e.sessionRecording)==null?void 0:o.sampleRate,w=dt(_)?null:parseFloat(_);dt(w)&&this.Si();var C=(l=e.sessionRecording)==null?void 0:l.minimumDurationMilliseconds;s.register({[Fb]:!!e.sessionRecording,[yk]:(u=e.sessionRecording)==null?void 0:u.consoleLogRecordingEnabled,[bk]:be({capturePerformance:e.capturePerformance},(d=e.sessionRecording)==null?void 0:d.networkPayloadCapture),[xk]:(h=e.sessionRecording)==null?void 0:h.masking,[wk]:{enabled:(m=e.sessionRecording)==null?void 0:m.recordCanvas,fps:(p=e.sessionRecording)==null?void 0:p.canvasFps,quality:(v=e.sessionRecording)==null?void 0:v.canvasQuality},[_k]:w,[Sk]:ve(C)?null:C,[Ck]:(x=e.sessionRecording)==null?void 0:x.scriptConfig})};i(),(n=this.ri)==null||n.call(this),this.ri=this.At.onSessionId(i)}}log(e,n){var s;n===void 0&&(n="log"),(s=this._instance.sessionRecording)==null||s.onRRwebEmit({type:6,data:{plugin:"rrweb/console@1",payload:{level:n,trace:[],payload:[JSON.stringify(e)]}},timestamp:Date.now()})}gi(e){if(!ve(Object.assign)&&!ve(Array.from)&&!(this.Ot||this._instance.config.disable_session_recording||this._instance.consent.isOptedOut())){var n;this.Ot=!0,this.At.checkAndGetSessionAndWindowId(),Uh()?this.Ei():(n=Ie.__PosthogExtensions__)==null||n.loadExternalDependency==null||n.loadExternalDependency(this._instance,this.Ii,s=>{if(s)return $n.error("could not load recorder",s);this.Ei()}),$n.info("starting"),this.status===qp&&this.ki(e||"recording_initialized")}}get Ii(){var e;return((e=this._instance)==null||(e=e.persistence)==null||(e=e.get_property(Ck))==null?void 0:e.script)||"recorder"}Pi(e){var n;return e.type===3&&hJ.indexOf((n=e.data)==null?void 0:n.source)!==-1}Ri(e){var n=this.Pi(e);n||this.Zt||e.timestamp-this.ti>this.Ft&&(this.Zt=!0,clearInterval(this.wi),this.ui("sessionIdle",{eventTimestamp:e.timestamp,lastActivityTimestamp:this.ti,threshold:this.Ft,bufferLength:this.C.data.length,bufferSize:this.C.size}),this.ai());var s=!1;if(n&&(this.ti=e.timestamp,this.Zt)){var i=this.Zt==="unknown";this.Zt=!1,i||(this.ui("sessionNoLongerIdle",{reason:"user activity",type:e.type}),s=!0)}if(!this.Zt){var{windowId:o,sessionId:l}=this.At.checkAndGetSessionAndWindowId(!n,e.timestamp),u=this.Ct!==l,d=this.fi!==o;this.fi=o,this.Ct=l,u||d?(this.stopRecording(),this.startIfEnabledOrStop("session_id_changed")):s&&this.Ti()}}Mi(e){try{return e.rrwebMethod(),!0}catch(n){return this.Qt.length<10?this.Qt.push({enqueuedAt:e.enqueuedAt||Date.now(),attempt:e.attempt++,rrwebMethod:e.rrwebMethod}):$n.warn("could not emit queued rrweb event.",n,e),!1}}ui(e,n){return this.Mi($k(()=>Uh().addCustomEvent(e,n)))}Ci(){return this.Mi($k(()=>Uh().takeFullSnapshot()))}Ei(){var e,n,s,i,o={blockClass:"ph-no-capture",blockSelector:void 0,ignoreClass:"ph-ignore-input",maskTextClass:"ph-mask",maskTextSelector:void 0,maskTextFn:void 0,maskAllInputs:!0,maskInputOptions:{password:!0},maskInputFn:void 0,slimDOMOptions:{},collectFonts:!1,inlineStylesheet:!0,recordCrossOriginIframes:!1},l=this._instance.config.session_recording;for(var[u,d]of Object.entries(l||{}))u in o&&(u==="maskInputOptions"?o.maskInputOptions=be({password:!0},d):o[u]=d);this.qt&&this.qt.enabled&&(o.recordCanvas=!0,o.sampling={canvas:this.qt.fps},o.dataURLOptions={type:"image/webp",quality:this.qt.quality}),this.Ht&&(o.maskAllInputs=(n=this.Ht.maskAllInputs)===null||n===void 0||n,o.maskTextSelector=(s=this.Ht.maskTextSelector)!==null&&s!==void 0?s:void 0,o.blockSelector=(i=this.Ht.blockSelector)!==null&&i!==void 0?i:void 0);var h=Uh();if(h){this.Fi=(e=this.Fi)!==null&&e!==void 0?e:new YQ(h,{refillRate:this._instance.config.session_recording.__mutationThrottlerRefillRate,bucketSize:this._instance.config.session_recording.__mutationThrottlerBucketSize,onBlockedNode:(p,v)=>{var x="Too many mutations on node '"+p+"'. Rate limiting. This could be due to SVG animations or something similar";$n.info(x,{node:v}),this.log(ad+" "+x,"warn")}});var m=this.Oi();this.ci=h(be({emit:p=>{this.onRRwebEmit(p)},plugins:m},o)),this.ti=Date.now(),this.Zt=Xr(this.Zt)?this.Zt:"unknown",this.ui("$session_options",{sessionRecordingOptions:o,activePlugins:m.map(p=>p==null?void 0:p.name)}),this.ui("$posthog_config",{config:this._instance.config})}else $n.error("onScriptLoaded was called but rrwebRecord is not available. This indicates something has gone wrong.")}Ti(){if(this.wi&&clearInterval(this.wi),this.Zt!==!0){var e=this.Dt;e&&(this.wi=setInterval(()=>{this.Ci()},e))}}Oi(){var e,n,s=[],i=(e=Ie.__PosthogExtensions__)==null||(e=e.rrwebPlugins)==null?void 0:e.getRecordConsolePlugin;i&&this.Ut&&s.push(i());var o=(n=Ie.__PosthogExtensions__)==null||(n=n.rrwebPlugins)==null?void 0:n.getRecordNetworkPlugin;return this.Bt&&dr(o)&&(!hQ.includes(location.hostname)||this._forceAllowLocalhostNetworkCapture?s.push(o(GQ(this._instance.config,this.Bt))):$n.info("NetworkCapture not started because we are on localhost.")),s}onRRwebEmit(e){var n;if(this.Ai(),e&&Wt(e)){if(e.type===Li.Meta){var s=this.yi(e.data.href);if(this.Di=s,!s)return;e.data.href=s}else this.Li();if(this.Kt.checkUrlTriggerConditions(()=>this.ji(),()=>this.Ni(),v=>this.zi(v)),!this.Kt.urlBlocked||(i=e).type===Li.Custom&&i.data.tag==="recording paused"){var i;e.type===Li.FullSnapshot&&this.Ti(),e.type===Li.FullSnapshot&&this.Jt&&this.Lt.triggerStatus(this.sessionId)===Wn&&this.pi();var o=this.Fi?this.Fi.throttleMutations(e):e;if(o){var l=function(v){var x=v;if(x&&Wt(x)&&x.type===6&&Wt(x.data)&&x.data.plugin==="rrweb/console@1"){x.data.payload.payload.length>10&&(x.data.payload.payload=x.data.payload.payload.slice(0,10),x.data.payload.payload.push("...[truncated]"));for(var _=[],w=0;w<x.data.payload.payload.length;w++)x.data.payload.payload[w]&&x.data.payload.payload[w].length>2e3?_.push(x.data.payload.payload[w].slice(0,2e3)+"...[truncated]"):_.push(x.data.payload.payload[w]);return x.data.payload.payload=_,v}return v}(o);if(this.Ri(l),this.Zt!==!0||Hk(l)){if(Hk(l)){var u=l.data.payload;if(u){var d=u.lastActivityTimestamp,h=u.threshold;l.timestamp=d+h}}var m=(n=this._instance.config.session_recording.compress_events)===null||n===void 0||n?function(v){if($p(v)<1024)return v;try{if(v.type===Li.FullSnapshot)return be({},v,{data:vo(v.data),cv:"2024-10"});if(v.type===Li.IncrementalSnapshot&&v.data.source===Er.Mutation)return be({},v,{cv:"2024-10",data:be({},v.data,{texts:vo(v.data.texts),attributes:vo(v.data.attributes),removes:vo(v.data.removes),adds:vo(v.data.adds)})});if(v.type===Li.IncrementalSnapshot&&v.data.source===Er.StyleSheetRule)return be({},v,{cv:"2024-10",data:be({},v.data,{adds:v.data.adds?vo(v.data.adds):void 0,removes:v.data.removes?vo(v.data.removes):void 0})})}catch(x){$n.error("could not compress event - will use uncompressed event",x)}return v}(l):l,p={$snapshot_bytes:$p(m),$snapshot_data:m,$session_id:this.Ct,$window_id:this.fi};this.status!==Ha?this.Ui(p):this.pi()}}}}}Li(){if(!this._instance.config.capture_pageview&&re){var e=this.yi(re.location.href);this.Di!==e&&(this.ui("$url_changed",{href:e}),this.Di=e)}}Ai(){if(this.Qt.length){var e=[...this.Qt];this.Qt=[],e.forEach(n=>{Date.now()-n.enqueuedAt<=2e3&&this.Mi(n)})}}yi(e){var n=this._instance.config.session_recording;if(n.maskNetworkRequestFn){var s,i={url:e};return(s=i=n.maskNetworkRequestFn(i))==null?void 0:s.url}return e}pi(){return this.C={size:0,data:[],sessionId:this.Ct,windowId:this.fi},this.C}ai(){this.qi&&(clearTimeout(this.qi),this.qi=void 0);var e=this.Gt,n=this.Nt,s=Gn(n)&&n>=0,i=Gn(e)&&s&&n<e;return this.status===Yo||this.status===Kw||this.status===Ha||i?(this.qi=setTimeout(()=>{this.ai()},2e3),this.C):(this.C.data.length>0&&Wb(this.C).forEach(o=>{this.Bi({$snapshot_bytes:o.size,$snapshot_data:o.data,$session_id:o.sessionId,$window_id:o.windowId,$lib:"web",$lib_version:Ii.LIB_VERSION})}),this.pi())}Ui(e){var n,s=2+(((n=this.C)==null?void 0:n.data.length)||0);!this.Zt&&(this.C.size+e.$snapshot_bytes+s>943718.4||this.C.sessionId!==this.Ct)&&(this.C=this.ai()),this.C.size+=e.$snapshot_bytes,this.C.data.push(e.$snapshot_data),this.qi||this.Zt||(this.qi=setTimeout(()=>{this.ai()},2e3))}Bi(e){this._instance.capture("$snapshot",e,{_url:this._instance.requestRouter.endpointFor("api",this.vi),_noTruncate:!0,_batchKey:"recordings",skip_client_rate_limiting:!0})}zi(e){var n;this.Lt.triggerStatus(this.sessionId)===Wn&&((n=this._instance)==null||(n=n.persistence)==null||n.register({[e==="url"?zb:Bb]:this.Ct}),this.ai(),this.ki(e+"_trigger_matched"))}ji(){this.Kt.urlBlocked||(this.Kt.urlBlocked=!0,clearInterval(this.wi),$n.info("recording paused due to URL blocker"),this.ui("recording paused",{reason:"url blocker"}))}Ni(){this.Kt.urlBlocked&&(this.Kt.urlBlocked=!1,this.Ci(),this.Ti(),this.ui("recording resumed",{reason:"left blocked url"}),$n.info("recording resumed"))}bi(){this.Yt.Tt.length!==0&&dt(this.ni)&&(this.ni=this._instance.on("eventCaptured",e=>{try{this.Yt.Tt.includes(e.event)&&this.zi("event")}catch(n){$n.error("Could not activate event trigger",n)}}))}overrideLinkedFlag(){this.Xt.linkedFlagSeen=!0,this.Ci(),this.ki("linked_flag_overridden")}overrideSampling(){var e;(e=this._instance.persistence)==null||e.register({[rd]:!0}),this.Ci(),this.ki("sampling_overridden")}overrideTrigger(e){this.zi(e)}ki(e,n){this._instance.register_for_session({$session_recording_start_reason:e}),$n.info(e.replace("_"," "),n),We(["recording_initialized","session_id_changed"],e)||this.ui(e,n)}get sdkDebugProperties(){var{sessionStartTimestamp:e}=this.At.checkAndGetSessionAndWindowId(!0);return{$recording_status:this.status,$sdk_debug_replay_internal_buffer_length:this.C.data.length,$sdk_debug_replay_internal_buffer_size:this.C.size,$sdk_debug_current_session_duration:this.Nt,$sdk_debug_session_start:e}}}var Zy=kn("[SegmentIntegration]");function mJ(t,e){var n=t.config.segment;if(!n)return e();(function(s,i){var o=s.config.segment;if(!o)return i();var l=d=>{var h=()=>d.anonymousId()||Da();s.config.get_device_id=h,d.id()&&(s.register({distinct_id:d.id(),$device_id:h()}),s.persistence.set_property(Pi,"identified")),i()},u=o.user();"then"in u&&dr(u.then)?u.then(d=>l(d)):l(u)})(t,()=>{n.register((s=>{Promise&&Promise.resolve||Zy.warn("This browser does not have Promise support, and can not use the segment integration");var i=(o,l)=>{if(!l)return o;o.event.userId||o.event.anonymousId===s.get_distinct_id()||(Zy.info("No userId set, resetting PostHog"),s.reset()),o.event.userId&&o.event.userId!==s.get_distinct_id()&&(Zy.info("UserId set, identifying with PostHog"),s.identify(o.event.userId));var u=s.calculateEventProperties(l,o.event.properties);return o.event.properties=Object.assign({},u,o.event.properties),o};return{name:"PostHog JS",type:"enrichment",version:"1.0.0",isLoaded:()=>!0,load:()=>Promise.resolve(),track:o=>i(o,o.event.event),page:o=>i(o,"$pageview"),identify:o=>i(o,"$identify"),screen:o=>i(o,"$screen")}})(t)).then(()=>{e()})})}var dD="posthog-js";function fD(t,e){var{organization:n,projectId:s,prefix:i,severityAllowList:o=["error"]}=e===void 0?{}:e;return l=>{var u,d,h,m,p;if(!(o==="*"||o.includes(l.level))||!t.__loaded)return l;l.tags||(l.tags={});var v=t.requestRouter.endpointFor("ui","/project/"+t.config.token+"/person/"+t.get_distinct_id());l.tags["PostHog Person URL"]=v,t.sessionRecordingStarted()&&(l.tags["PostHog Recording URL"]=t.get_session_replay_url({withTimestamp:!0}));var x=((u=l.exception)==null?void 0:u.values)||[],_=x.map(C=>be({},C,{stacktrace:C.stacktrace?be({},C.stacktrace,{type:"raw",frames:(C.stacktrace.frames||[]).map(T=>be({},T,{platform:"web:javascript"}))}):void 0})),w={$exception_message:((d=x[0])==null?void 0:d.value)||l.message,$exception_type:(h=x[0])==null?void 0:h.type,$exception_personURL:v,$exception_level:l.level,$exception_list:_,$sentry_event_id:l.event_id,$sentry_exception:l.exception,$sentry_exception_message:((m=x[0])==null?void 0:m.value)||l.message,$sentry_exception_type:(p=x[0])==null?void 0:p.type,$sentry_tags:l.tags};return n&&s&&(w.$sentry_url=(i||"https://sentry.io/organizations/")+n+"/issues/?project="+s+"&query="+l.event_id),t.exceptions.sendExceptionEvent(w),l}}class gJ{constructor(e,n,s,i,o){this.name=dD,this.setupOnce=function(l){l(fD(e,{organization:n,projectId:s,prefix:i,severityAllowList:o}))}}}var vJ=re!=null&&re.location?Up(re.location.hash,"__posthog")||Up(location.hash,"state"):null,qk="_postHogToolbarParams",Kk=kn("[Toolbar]"),Ca=function(t){return t[t.UNINITIALIZED=0]="UNINITIALIZED",t[t.LOADING=1]="LOADING",t[t.LOADED=2]="LOADED",t}(Ca||{});class yJ{constructor(e){this.instance=e}Hi(e){Ie.ph_toolbar_state=e}Wi(){var e;return(e=Ie.ph_toolbar_state)!==null&&e!==void 0?e:Ca.UNINITIALIZED}maybeLoadToolbar(e,n,s){if(e===void 0&&(e=void 0),n===void 0&&(n=void 0),s===void 0&&(s=void 0),!re||!xe)return!1;e=e??re.location,s=s??re.history;try{if(!n){try{re.localStorage.setItem("test","test"),re.localStorage.removeItem("test")}catch{return!1}n=re==null?void 0:re.localStorage}var i,o=vJ||Up(e.hash,"__posthog")||Up(e.hash,"state"),l=o?hk(()=>JSON.parse(atob(decodeURIComponent(o))))||hk(()=>JSON.parse(decodeURIComponent(o))):null;return l&&l.action==="ph_authorize"?((i=l).source="url",i&&Object.keys(i).length>0&&(l.desiredHash?e.hash=l.desiredHash:s?s.replaceState(s.state,"",e.pathname+e.search):e.hash="")):((i=JSON.parse(n.getItem(qk)||"{}")).source="localstorage",delete i.userIntent),!(!i.token||this.instance.config.token!==i.token)&&(this.loadToolbar(i),!0)}catch{return!1}}Gi(e){var n=Ie.ph_load_toolbar||Ie.ph_load_editor;!dt(n)&&dr(n)?n(e,this.instance):Kk.warn("No toolbar load function found")}loadToolbar(e){var n=!(xe==null||!xe.getElementById(IO));if(!re||n)return!1;var s=this.instance.requestRouter.region==="custom"&&this.instance.config.advanced_disable_toolbar_metrics,i=be({token:this.instance.config.token},e,{apiURL:this.instance.requestRouter.endpointFor("ui")},s?{instrument:!1}:{});if(re.localStorage.setItem(qk,JSON.stringify(be({},i,{source:void 0}))),this.Wi()===Ca.LOADED)this.Gi(i);else if(this.Wi()===Ca.UNINITIALIZED){var o;this.Hi(Ca.LOADING),(o=Ie.__PosthogExtensions__)==null||o.loadExternalDependency==null||o.loadExternalDependency(this.instance,"toolbar",l=>{if(l)return Kk.error("[Toolbar] Failed to load",l),void this.Hi(Ca.UNINITIALIZED);this.Hi(Ca.LOADED),this.Gi(i)}),Bt(re,"turbolinks:load",()=>{this.Hi(Ca.UNINITIALIZED),this.loadToolbar(i)})}return!0}Ji(e){return this.loadToolbar(e)}maybeLoadEditor(e,n,s){return e===void 0&&(e=void 0),n===void 0&&(n=void 0),s===void 0&&(s=void 0),this.maybeLoadToolbar(e,n,s)}}var bJ=kn("[TracingHeaders]");class xJ{constructor(e){this.Vi=void 0,this.Ki=void 0,this.nt=()=>{var n,s;ve(this.Vi)&&((n=Ie.__PosthogExtensions__)==null||(n=n.tracingHeadersPatchFns)==null||n._patchXHR(this._instance.get_distinct_id(),this._instance.sessionManager)),ve(this.Ki)&&((s=Ie.__PosthogExtensions__)==null||(s=s.tracingHeadersPatchFns)==null||s._patchFetch(this._instance.get_distinct_id(),this._instance.sessionManager))},this._instance=e}J(e){var n,s;(n=Ie.__PosthogExtensions__)!=null&&n.tracingHeadersPatchFns&&e(),(s=Ie.__PosthogExtensions__)==null||s.loadExternalDependency==null||s.loadExternalDependency(this._instance,"tracing-headers",i=>{if(i)return bJ.error("failed to load script",i);e()})}startIfEnabledOrStop(){var e,n;this._instance.config.__add_tracing_headers?this.J(this.nt):((e=this.Vi)==null||e.call(this),(n=this.Ki)==null||n.call(this),this.Vi=void 0,this.Ki=void 0)}}var ba=kn("[Web Vitals]"),Gk=9e5;class wJ{constructor(e){var n;this.Yi=!1,this.i=!1,this.C={url:void 0,metrics:[],firstMetricTimestamp:void 0},this.Xi=()=>{clearTimeout(this.Qi),this.C.metrics.length!==0&&(this._instance.capture("$web_vitals",this.C.metrics.reduce((s,i)=>be({},s,{["$web_vitals_"+i.name+"_event"]:be({},i),["$web_vitals_"+i.name+"_value"]:i.value}),{})),this.C={url:void 0,metrics:[],firstMetricTimestamp:void 0})},this.Zi=s=>{var i,o=(i=this._instance.sessionManager)==null?void 0:i.checkAndGetSessionAndWindowId(!0);if(ve(o))ba.error("Could not read session ID. Dropping metrics!");else{this.C=this.C||{url:void 0,metrics:[],firstMetricTimestamp:void 0};var l=this.te();ve(l)||(dt(s==null?void 0:s.name)||dt(s==null?void 0:s.value)?ba.error("Invalid metric received",s):this.ie&&s.value>=this.ie?ba.error("Ignoring metric with value >= "+this.ie,s):(this.C.url!==l&&(this.Xi(),this.Qi=setTimeout(this.Xi,this.flushToCaptureTimeoutMs)),ve(this.C.url)&&(this.C.url=l),this.C.firstMetricTimestamp=ve(this.C.firstMetricTimestamp)?Date.now():this.C.firstMetricTimestamp,s.attribution&&s.attribution.interactionTargetElement&&(s.attribution.interactionTargetElement=void 0),this.C.metrics.push(be({},s,{$current_url:l,$session_id:o.sessionId,$window_id:o.windowId,timestamp:Date.now()})),this.C.metrics.length===this.allowedMetrics.length&&this.Xi()))}},this.nt=()=>{var s,i,o,l,u=Ie.__PosthogExtensions__;ve(u)||ve(u.postHogWebVitalsCallbacks)||({onLCP:s,onCLS:i,onFCP:o,onINP:l}=u.postHogWebVitalsCallbacks),s&&i&&o&&l?(this.allowedMetrics.indexOf("LCP")>-1&&s(this.Zi.bind(this)),this.allowedMetrics.indexOf("CLS")>-1&&i(this.Zi.bind(this)),this.allowedMetrics.indexOf("FCP")>-1&&o(this.Zi.bind(this)),this.allowedMetrics.indexOf("INP")>-1&&l(this.Zi.bind(this)),this.i=!0):ba.error("web vitals callbacks not loaded - not starting")},this._instance=e,this.Yi=!((n=this._instance.persistence)==null||!n.props[gk]),this.startIfEnabled()}get allowedMetrics(){var e,n,s=Wt(this._instance.config.capture_performance)?(e=this._instance.config.capture_performance)==null?void 0:e.web_vitals_allowed_metrics:void 0;return ve(s)?((n=this._instance.persistence)==null?void 0:n.props[vk])||["CLS","FCP","INP","LCP"]:s}get flushToCaptureTimeoutMs(){return(Wt(this._instance.config.capture_performance)?this._instance.config.capture_performance.web_vitals_delayed_flush_ms:void 0)||5e3}get ie(){var e=Wt(this._instance.config.capture_performance)&&Gn(this._instance.config.capture_performance.__web_vitals_max_value)?this._instance.config.capture_performance.__web_vitals_max_value:Gk;return 0<e&&e<=6e4?Gk:e}get isEnabled(){var e=ws==null?void 0:ws.protocol;if(e!=="http:"&&e!=="https:")return ba.info("Web Vitals are disabled on non-http/https protocols"),!1;var n=Wt(this._instance.config.capture_performance)?this._instance.config.capture_performance.web_vitals:Xr(this._instance.config.capture_performance)?this._instance.config.capture_performance:void 0;return Xr(n)?n:this.Yi}startIfEnabled(){this.isEnabled&&!this.i&&(ba.info("enabled, starting..."),this.J(this.nt))}onRemoteConfig(e){var n=Wt(e.capturePerformance)&&!!e.capturePerformance.web_vitals,s=Wt(e.capturePerformance)?e.capturePerformance.web_vitals_allowed_metrics:void 0;this._instance.persistence&&(this._instance.persistence.register({[gk]:n}),this._instance.persistence.register({[vk]:s})),this.Yi=n,this.startIfEnabled()}J(e){var n,s;(n=Ie.__PosthogExtensions__)!=null&&n.postHogWebVitalsCallbacks&&e(),(s=Ie.__PosthogExtensions__)==null||s.loadExternalDependency==null||s.loadExternalDependency(this._instance,"web-vitals",i=>{i?ba.error("failed to load script",i):e()})}te(){var e=re?re.location.href:void 0;return e||ba.error("Could not determine current URL"),e}}var _J=kn("[Heatmaps]");function Yk(t){return Wt(t)&&"clientX"in t&&"clientY"in t&&Gn(t.clientX)&&Gn(t.clientY)}class SJ{constructor(e){var n;this.rageclicks=new YO,this.Yi=!1,this.i=!1,this.ee=null,this.instance=e,this.Yi=!((n=this.instance.persistence)==null||!n.props[Lb])}get flushIntervalMilliseconds(){var e=5e3;return Wt(this.instance.config.capture_heatmaps)&&this.instance.config.capture_heatmaps.flush_interval_milliseconds&&(e=this.instance.config.capture_heatmaps.flush_interval_milliseconds),e}get isEnabled(){return ve(this.instance.config.capture_heatmaps)?ve(this.instance.config.enable_heatmaps)?this.Yi:this.instance.config.enable_heatmaps:this.instance.config.capture_heatmaps!==!1}startIfEnabled(){if(this.isEnabled){if(this.i)return;_J.info("starting..."),this.re(),this.ee=setInterval(this.se.bind(this),this.flushIntervalMilliseconds)}else{var e,n;clearInterval((e=this.ee)!==null&&e!==void 0?e:void 0),(n=this.ne)==null||n.stop(),this.getAndClearBuffer()}}onRemoteConfig(e){var n=!!e.heatmaps;this.instance.persistence&&this.instance.persistence.register({[Lb]:n}),this.Yi=n,this.startIfEnabled()}getAndClearBuffer(){var e=this.C;return this.C=void 0,e}oe(e){this.ae(e.originalEvent,"deadclick")}re(){re&&xe&&(Bt(re,"beforeunload",this.se.bind(this)),Bt(xe,"click",e=>this.ae(e||(re==null?void 0:re.event)),{capture:!0}),Bt(xe,"mousemove",e=>this.le(e||(re==null?void 0:re.event)),{capture:!0}),this.ne=new XO(this.instance,kQ,this.oe.bind(this)),this.ne.startIfEnabled(),this.i=!0)}ue(e,n){var s=this.instance.scrollManager.scrollY(),i=this.instance.scrollManager.scrollX(),o=this.instance.scrollManager.scrollElement(),l=function(u,d,h){for(var m=u;m&&Mm(m)&&!za(m,"body");){if(m===h)return!1;if(We(d,re==null?void 0:re.getComputedStyle(m).position))return!0;m=VO(m)}return!1}(UO(e),["fixed","sticky"],o);return{x:e.clientX+(l?0:i),y:e.clientY+(l?0:s),target_fixed:l,type:n}}ae(e,n){var s;if(n===void 0&&(n="click"),!Ek(e.target)&&Yk(e)){var i=this.ue(e,n);(s=this.rageclicks)!=null&&s.isRageClick(e.clientX,e.clientY,new Date().getTime())&&this.he(be({},i,{type:"rageclick"})),this.he(i)}}le(e){!Ek(e.target)&&Yk(e)&&(clearTimeout(this.de),this.de=setTimeout(()=>{this.he(this.ue(e,"mousemove"))},500))}he(e){if(re){var n=re.location.href;this.C=this.C||{},this.C[n]||(this.C[n]=[]),this.C[n].push(e)}}se(){this.C&&!tc(this.C)&&this.instance.capture("$$heatmap",{$heatmap_data:this.getAndClearBuffer()})}}class CJ{constructor(e){this._instance=e}doPageView(e,n){var s,i=this.ve(e,n);return this.ce={pathname:(s=re==null?void 0:re.location.pathname)!==null&&s!==void 0?s:"",pageViewId:n,timestamp:e},this._instance.scrollManager.resetContext(),i}doPageLeave(e){var n;return this.ve(e,(n=this.ce)==null?void 0:n.pageViewId)}doEvent(){var e;return{$pageview_id:(e=this.ce)==null?void 0:e.pageViewId}}ve(e,n){var s=this.ce;if(!s)return{$pageview_id:n};var i={$pageview_id:n,$prev_pageview_id:s.pageViewId},o=this._instance.scrollManager.getContext();if(o&&!this._instance.config.disable_scroll_properties){var{maxScrollHeight:l,lastScrollY:u,maxScrollY:d,maxContentHeight:h,lastContentY:m,maxContentY:p}=o;if(!(ve(l)||ve(u)||ve(d)||ve(h)||ve(m)||ve(p))){l=Math.ceil(l),u=Math.ceil(u),d=Math.ceil(d),h=Math.ceil(h),m=Math.ceil(m),p=Math.ceil(p);var v=l<=1?1:zs(u/l,0,1),x=l<=1?1:zs(d/l,0,1),_=h<=1?1:zs(m/h,0,1),w=h<=1?1:zs(p/h,0,1);i=sn(i,{$prev_pageview_last_scroll:u,$prev_pageview_last_scroll_percentage:v,$prev_pageview_max_scroll:d,$prev_pageview_max_scroll_percentage:x,$prev_pageview_last_content:m,$prev_pageview_last_content_percentage:_,$prev_pageview_max_content:p,$prev_pageview_max_content_percentage:w})}}return s.pathname&&(i.$prev_pageview_pathname=s.pathname),s.timestamp&&(i.$prev_pageview_duration=(e.getTime()-s.timestamp.getTime())/1e3),i}}var EJ=function(t){var e,n,s,i,o="";for(e=n=0,s=(t=(t+"").replace(/\r\n/g,`
`).replace(/\r/g,`
`)).length,i=0;i<s;i++){var l=t.charCodeAt(i),u=null;l<128?n++:u=l>127&&l<2048?String.fromCharCode(l>>6|192,63&l|128):String.fromCharCode(l>>12|224,l>>6&63|128,63&l|128),Wa(u)||(n>e&&(o+=t.substring(e,n)),o+=u,e=n=i+1)}return n>e&&(o+=t.substring(e,t.length)),o},TJ=!!Ob||!!Mb,Wk="text/plain",Kp=(t,e)=>{var[n,s]=t.split("?"),i=be({},e);s==null||s.split("&").forEach(l=>{var[u]=l.split("=");delete i[u]});var o=pQ(i);return n+"?"+(o=o?(s?s+"&":"")+o:s)},od=(t,e)=>JSON.stringify(t,(n,s)=>typeof s=="bigint"?s.toString():s,e),e0=t=>{var{data:e,compression:n}=t;if(e){if(n===zi.GZipJS){var s=oD(lD(od(e)),{mtime:0}),i=new Blob([s],{type:Wk});return{contentType:Wk,body:i,estimatedSize:i.size}}if(n===zi.Base64){var o=function(d){var h,m,p,v,x,_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",w=0,C=0,T="",N=[];if(!d)return d;d=EJ(d);do h=(x=d.charCodeAt(w++)<<16|d.charCodeAt(w++)<<8|d.charCodeAt(w++))>>18&63,m=x>>12&63,p=x>>6&63,v=63&x,N[C++]=_.charAt(h)+_.charAt(m)+_.charAt(p)+_.charAt(v);while(w<d.length);switch(T=N.join(""),d.length%3){case 1:T=T.slice(0,-2)+"==";break;case 2:T=T.slice(0,-1)+"="}return T}(od(e)),l=(d=>"data="+encodeURIComponent(typeof d=="string"?d:od(d)))(o);return{contentType:"application/x-www-form-urlencoded",body:l,estimatedSize:new Blob([l]).size}}var u=od(e);return{contentType:"application/json",body:u,estimatedSize:new Blob([u]).size}}},yd=[];Mb&&yd.push({transport:"fetch",method:t=>{var e,n,{contentType:s,body:i,estimatedSize:o}=(e=e0(t))!==null&&e!==void 0?e:{},l=new Headers;St(t.headers,function(m,p){l.append(p,m)}),s&&l.append("Content-Type",s);var u=t.url,d=null;if(dk){var h=new dk;d={signal:h.signal,timeout:setTimeout(()=>h.abort(),t.timeout)}}Mb(u,be({method:(t==null?void 0:t.method)||"GET",headers:l,keepalive:t.method==="POST"&&(o||0)<52428.8,body:i,signal:(n=d)==null?void 0:n.signal},t.fetchOptions)).then(m=>m.text().then(p=>{var v={statusCode:m.status,text:p};if(m.status===200)try{v.json=JSON.parse(p)}catch(x){we.error(x)}t.callback==null||t.callback(v)})).catch(m=>{we.error(m),t.callback==null||t.callback({statusCode:0,text:m})}).finally(()=>d?clearTimeout(d.timeout):null)}}),Ob&&yd.push({transport:"XHR",method:t=>{var e,n=new Ob;n.open(t.method||"GET",t.url,!0);var{contentType:s,body:i}=(e=e0(t))!==null&&e!==void 0?e:{};St(t.headers,function(o,l){n.setRequestHeader(l,o)}),s&&n.setRequestHeader("Content-Type",s),t.timeout&&(n.timeout=t.timeout),n.withCredentials=!0,n.onreadystatechange=()=>{if(n.readyState===4){var o={statusCode:n.status,text:n.responseText};if(n.status===200)try{o.json=JSON.parse(n.responseText)}catch{}t.callback==null||t.callback(o)}},n.send(i)}}),Fs!=null&&Fs.sendBeacon&&yd.push({transport:"sendBeacon",method:t=>{var e=Kp(t.url,{beacon:"1"});try{var n,{contentType:s,body:i}=(n=e0(t))!==null&&n!==void 0?n:{},o=typeof i=="string"?new Blob([i],{type:s}):i;Fs.sendBeacon(e,o)}catch{}}});var Ic=function(t,e){if(!function(n){try{new RegExp(n)}catch{return!1}return!0}(e))return!1;try{return new RegExp(e).test(t)}catch{return!1}};function Xk(t,e,n){return od({distinct_id:t,userPropertiesToSet:e,userPropertiesToSetOnce:n})}var kJ={exact:(t,e)=>e.some(n=>t.some(s=>n===s)),is_not:(t,e)=>e.every(n=>t.every(s=>n!==s)),regex:(t,e)=>e.some(n=>t.some(s=>Ic(n,s))),not_regex:(t,e)=>e.every(n=>t.every(s=>!Ic(n,s))),icontains:(t,e)=>e.map(Vh).some(n=>t.map(Vh).some(s=>n.includes(s))),not_icontains:(t,e)=>e.map(Vh).every(n=>t.map(Vh).every(s=>!n.includes(s)))},Vh=t=>t.toLowerCase(),NJ=kn("[Error tracking]");class AJ{constructor(e){var n,s;this.fe=[],this._instance=e,this.fe=(n=(s=this._instance.persistence)==null?void 0:s.get_property(Ib))!==null&&n!==void 0?n:[]}onRemoteConfig(e){var n,s,i=(n=(s=e.errorTracking)==null?void 0:s.suppressionRules)!==null&&n!==void 0?n:[];this.fe=i,this._instance.persistence&&this._instance.persistence.register({[Ib]:this.fe})}sendExceptionEvent(e){if(!this.pe(e))return this._instance.capture("$exception",e,{_noTruncate:!0,_batchKey:"exceptionEvent"});NJ.info("Skipping exception capture because a suppression rule matched")}pe(e){var n=e.$exception_list;if(!n||!Lt(n)||n.length===0)return!1;var s=n.reduce((i,o)=>{var{type:l,value:u}=o;return Xt(l)&&l.length>0&&i.$exception_types.push(l),Xt(u)&&u.length>0&&i.$exception_values.push(u),i},{$exception_types:[],$exception_values:[]});return this.fe.some(i=>{var o=i.values.map(l=>{var u,d=kJ[l.operator],h=Lt(l.value)?l.value:[l.value],m=(u=s[l.key])!==null&&u!==void 0?u:[];return h.length>0&&d(h,m)});return i.type==="OR"?o.some(Boolean):o.every(Boolean)})}}var hr="Mobile",Gp="iOS",Qr="Android",Pd="Tablet",hD=Qr+" "+Pd,pD="iPad",mD="Apple",gD=mD+" Watch",Ld="Safari",Fc="BlackBerry",vD="Samsung",yD=vD+"Browser",bD=vD+" Internet",Wo="Chrome",RJ=Wo+" OS",xD=Wo+" "+Gp,Yw="Internet Explorer",wD=Yw+" "+hr,Ww="Opera",jJ=Ww+" Mini",Xw="Edge",_D="Microsoft "+Xw,uc="Firefox",SD=uc+" "+Gp,Id="Nintendo",Fd="PlayStation",dc="Xbox",CD=Qr+" "+hr,ED=hr+" "+Ld,ld="Windows",nx=ld+" Phone",Qk="Nokia",sx="Ouya",TD="Generic",MJ=TD+" "+hr.toLowerCase(),kD=TD+" "+Pd.toLowerCase(),rx="Konqueror",ss="(\\d+(\\.\\d+)?)",t0=new RegExp("Version/"+ss),OJ=new RegExp(dc,"i"),DJ=new RegExp(Fd+" \\w+","i"),PJ=new RegExp(Id+" \\w+","i"),Qw=new RegExp(Fc+"|PlayBook|BB10","i"),LJ={"NT3.51":"NT 3.11","NT4.0":"NT 4.0","5.0":"2000",5.1:"XP",5.2:"XP","6.0":"Vista",6.1:"7",6.2:"8",6.3:"8.1",6.4:"10","10.0":"10"},IJ=(t,e)=>e&&We(e,mD)||function(n){return We(n,Ld)&&!We(n,Wo)&&!We(n,Qr)}(t),ND=function(t,e){return e=e||"",We(t," OPR/")&&We(t,"Mini")?jJ:We(t," OPR/")?Ww:Qw.test(t)?Fc:We(t,"IE"+hr)||We(t,"WPDesktop")?wD:We(t,yD)?bD:We(t,Xw)||We(t,"Edg/")?_D:We(t,"FBIOS")?"Facebook "+hr:We(t,"UCWEB")||We(t,"UCBrowser")?"UC Browser":We(t,"CriOS")?xD:We(t,"CrMo")||We(t,Wo)?Wo:We(t,Qr)&&We(t,Ld)?CD:We(t,"FxiOS")?SD:We(t.toLowerCase(),rx.toLowerCase())?rx:IJ(t,e)?We(t,hr)?ED:Ld:We(t,uc)?uc:We(t,"MSIE")||We(t,"Trident/")?Yw:We(t,"Gecko")?uc:""},FJ={[wD]:[new RegExp("rv:"+ss)],[_D]:[new RegExp(Xw+"?\\/"+ss)],[Wo]:[new RegExp("("+Wo+"|CrMo)\\/"+ss)],[xD]:[new RegExp("CriOS\\/"+ss)],"UC Browser":[new RegExp("(UCBrowser|UCWEB)\\/"+ss)],[Ld]:[t0],[ED]:[t0],[Ww]:[new RegExp("(Opera|OPR)\\/"+ss)],[uc]:[new RegExp(uc+"\\/"+ss)],[SD]:[new RegExp("FxiOS\\/"+ss)],[rx]:[new RegExp("Konqueror[:/]?"+ss,"i")],[Fc]:[new RegExp(Fc+" "+ss),t0],[CD]:[new RegExp("android\\s"+ss,"i")],[bD]:[new RegExp(yD+"\\/"+ss)],[Yw]:[new RegExp("(rv:|MSIE )"+ss)],Mozilla:[new RegExp("rv:"+ss)]},zJ=function(t,e){var n=ND(t,e),s=FJ[n];if(ve(s))return null;for(var i=0;i<s.length;i++){var o=s[i],l=t.match(o);if(l)return parseFloat(l[l.length-2])}return null},Jk=[[new RegExp(dc+"; "+dc+" (.*?)[);]","i"),t=>[dc,t&&t[1]||""]],[new RegExp(Id,"i"),[Id,""]],[new RegExp(Fd,"i"),[Fd,""]],[Qw,[Fc,""]],[new RegExp(ld,"i"),(t,e)=>{if(/Phone/.test(e)||/WPDesktop/.test(e))return[nx,""];if(new RegExp(hr).test(e)&&!/IEMobile\b/.test(e))return[ld+" "+hr,""];var n=/Windows NT ([0-9.]+)/i.exec(e);if(n&&n[1]){var s=n[1],i=LJ[s]||"";return/arm/i.test(e)&&(i="RT"),[ld,i]}return[ld,""]}],[/((iPhone|iPad|iPod).*?OS (\d+)_(\d+)_?(\d+)?|iPhone)/,t=>{if(t&&t[3]){var e=[t[3],t[4],t[5]||"0"];return[Gp,e.join(".")]}return[Gp,""]}],[/(watch.*\/(\d+\.\d+\.\d+)|watch os,(\d+\.\d+),)/i,t=>{var e="";return t&&t.length>=3&&(e=ve(t[2])?t[3]:t[2]),["watchOS",e]}],[new RegExp("("+Qr+" (\\d+)\\.(\\d+)\\.?(\\d+)?|"+Qr+")","i"),t=>{if(t&&t[2]){var e=[t[2],t[3],t[4]||"0"];return[Qr,e.join(".")]}return[Qr,""]}],[/Mac OS X (\d+)[_.](\d+)[_.]?(\d+)?/i,t=>{var e=["Mac OS X",""];if(t&&t[1]){var n=[t[1],t[2],t[3]||"0"];e[1]=n.join(".")}return e}],[/Mac/i,["Mac OS X",""]],[/CrOS/,[RJ,""]],[/Linux|debian/i,["Linux",""]]],Zk=function(t){return PJ.test(t)?Id:DJ.test(t)?Fd:OJ.test(t)?dc:new RegExp(sx,"i").test(t)?sx:new RegExp("("+nx+"|WPDesktop)","i").test(t)?nx:/iPad/.test(t)?pD:/iPod/.test(t)?"iPod Touch":/iPhone/.test(t)?"iPhone":/(watch)(?: ?os[,/]|\d,\d\/)[\d.]+/i.test(t)?gD:Qw.test(t)?Fc:/(kobo)\s(ereader|touch)/i.test(t)?"Kobo":new RegExp(Qk,"i").test(t)?Qk:/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i.test(t)||/(kf[a-z]+)( bui|\)).+silk\//i.test(t)?"Kindle Fire":/(Android|ZTE)/i.test(t)?!new RegExp(hr).test(t)||/(9138B|TB782B|Nexus [97]|pixel c|HUAWEISHT|BTV|noble nook|smart ultra 6)/i.test(t)?/pixel[\daxl ]{1,6}/i.test(t)&&!/pixel c/i.test(t)||/(huaweimed-al00|tah-|APA|SM-G92|i980|zte|U304AA)/i.test(t)||/lmy47v/i.test(t)&&!/QTAQZ3/i.test(t)?Qr:hD:Qr:new RegExp("(pda|"+hr+")","i").test(t)?MJ:new RegExp(Pd,"i").test(t)&&!new RegExp(Pd+" pc","i").test(t)?kD:""},$h="https?://(.*)",Dm=["gclid","gclsrc","dclid","gbraid","wbraid","fbclid","msclkid","twclid","li_fat_id","igshid","ttclid","rdt_cid","epik","qclid","sccid","irclid","_kx"],BJ=jm(["utm_source","utm_medium","utm_campaign","utm_content","utm_term","gad_source","mc_cid"],Dm),Jw="<masked>",UJ=["li_fat_id"];function AD(t,e,n){if(!xe)return{};var s,i=e?jm([],Dm,n||[]):[],o=RD(Uw(xe.URL,i,Jw),t),l=(s={},St(UJ,function(u){var d=ri.D(u);s[u]=d||null}),s);return sn(l,o)}function RD(t,e){var n=BJ.concat(e||[]),s={};return St(n,function(i){var o=Bp(t,i);s[i]=o||null}),s}function jD(t){var e=function(o){return o?o.search($h+"google.([^/?]*)")===0?"google":o.search($h+"bing.com")===0?"bing":o.search($h+"yahoo.com")===0?"yahoo":o.search($h+"duckduckgo.com")===0?"duckduckgo":null:null}(t),n=e!="yahoo"?"q":"p",s={};if(!Wa(e)){s.$search_engine=e;var i=xe?Bp(xe.referrer,n):"";i.length&&(s.ph_keyword=i)}return s}function eN(){return navigator.language||navigator.userLanguage}function MD(){return(xe==null?void 0:xe.referrer)||"$direct"}function OD(t,e){var n=t?jm([],Dm,e||[]):[],s=ws==null?void 0:ws.href.substring(0,1e3);return{r:MD().substring(0,1e3),u:s?Uw(s,n,Jw):void 0}}function DD(t){var e,{r:n,u:s}=t,i={$referrer:n,$referring_domain:n==null?void 0:n=="$direct"?"$direct":(e=Pc(n))==null?void 0:e.host};if(s){i.$current_url=s;var o=Pc(s);i.$host=o==null?void 0:o.host,i.$pathname=o==null?void 0:o.pathname;var l=RD(s);sn(i,l)}if(n){var u=jD(n);sn(i,u)}return i}function PD(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch{return}}function VJ(){try{return new Date().getTimezoneOffset()}catch{return}}function $J(t,e){if(!xs)return{};var n,s,i,o=t?jm([],Dm,e||[]):[],[l,u]=function(d){for(var h=0;h<Jk.length;h++){var[m,p]=Jk[h],v=m.exec(d),x=v&&(dr(p)?p(v,d):p);if(x)return x}return["",""]}(xs);return sn(zw({$os:l,$os_version:u,$browser:ND(xs,navigator.vendor),$device:Zk(xs),$device_type:(s=xs,i=Zk(s),i===pD||i===hD||i==="Kobo"||i==="Kindle Fire"||i===kD?Pd:i===Id||i===dc||i===Fd||i===sx?"Console":i===gD?"Wearable":i?hr:"Desktop"),$timezone:PD(),$timezone_offset:VJ()}),{$current_url:Uw(ws==null?void 0:ws.href,o,Jw),$host:ws==null?void 0:ws.host,$pathname:ws==null?void 0:ws.pathname,$raw_user_agent:xs.length>1e3?xs.substring(0,997)+"...":xs,$browser_version:zJ(xs,navigator.vendor),$browser_language:eN(),$browser_language_prefix:(n=eN(),typeof n=="string"?n.split("-")[0]:void 0),$screen_height:re==null?void 0:re.screen.height,$screen_width:re==null?void 0:re.screen.width,$viewport_height:re==null?void 0:re.innerHeight,$viewport_width:re==null?void 0:re.innerWidth,$lib:"web",$lib_version:Ii.LIB_VERSION,$insert_id:Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10),$time:Date.now()/1e3})}var $r=kn("[FeatureFlags]"),n0="$active_feature_flags",Hl="$override_feature_flags",tN="$feature_flag_payloads",Xu="$override_feature_flag_payloads",nN="$feature_flag_request_id",sN=t=>{var e={};for(var[n,s]of sp(t||{}))s&&(e[n]=s);return e},HJ=t=>{var e=t.flags;return e?(t.featureFlags=Object.fromEntries(Object.keys(e).map(n=>{var s;return[n,(s=e[n].variant)!==null&&s!==void 0?s:e[n].enabled]})),t.featureFlagPayloads=Object.fromEntries(Object.keys(e).filter(n=>e[n].enabled).filter(n=>{var s;return(s=e[n].metadata)==null?void 0:s.payload}).map(n=>{var s;return[n,(s=e[n].metadata)==null?void 0:s.payload]}))):$r.warn("Using an older version of the feature flags endpoint. Please upgrade your PostHog server to the latest version"),t},qJ=function(t){return t.FeatureFlags="feature_flags",t.Recordings="recordings",t}({});class KJ{constructor(e){this.ge=!1,this._e=!1,this.me=!1,this.be=!1,this.ye=!1,this.we=!1,this.Se=!1,this._instance=e,this.featureFlagEventHandlers=[]}flags(){if(this._instance.config.__preview_remote_config)this.we=!0;else{var e=!this.$e&&(this._instance.config.advanced_disable_feature_flags||this._instance.config.advanced_disable_feature_flags_on_first_load);this.ke({disableFlags:e})}}get hasLoadedFlags(){return this._e}getFlags(){return Object.keys(this.getFlagVariants())}getFlagsWithDetails(){var e=this._instance.get_property(Ub),n=this._instance.get_property(Hl),s=this._instance.get_property(Xu);if(!s&&!n)return e||{};var i=sn({},e||{}),o=[...new Set([...Object.keys(s||{}),...Object.keys(n||{})])];for(var l of o){var u,d,h=i[l],m=n==null?void 0:n[l],p=ve(m)?(u=h==null?void 0:h.enabled)!==null&&u!==void 0&&u:!!m,v=ve(m)?h.variant:typeof m=="string"?m:void 0,x=s==null?void 0:s[l],_=be({},h,{enabled:p,variant:p?v??(h==null?void 0:h.variant):void 0});p!==(h==null?void 0:h.enabled)&&(_.original_enabled=h==null?void 0:h.enabled),v!==(h==null?void 0:h.variant)&&(_.original_variant=h==null?void 0:h.variant),x&&(_.metadata=be({},h==null?void 0:h.metadata,{payload:x,original_payload:h==null||(d=h.metadata)==null?void 0:d.payload})),i[l]=_}return this.ge||($r.warn(" Overriding feature flag details!",{flagDetails:e,overriddenPayloads:s,finalDetails:i}),this.ge=!0),i}getFlagVariants(){var e=this._instance.get_property(nc),n=this._instance.get_property(Hl);if(!n)return e||{};for(var s=sn({},e),i=Object.keys(n),o=0;o<i.length;o++)s[i[o]]=n[i[o]];return this.ge||($r.warn(" Overriding feature flags!",{enabledFlags:e,overriddenFlags:n,finalFlags:s}),this.ge=!0),s}getFlagPayloads(){var e=this._instance.get_property(tN),n=this._instance.get_property(Xu);if(!n)return e||{};for(var s=sn({},e||{}),i=Object.keys(n),o=0;o<i.length;o++)s[i[o]]=n[i[o]];return this.ge||($r.warn(" Overriding feature flag payloads!",{flagPayloads:e,overriddenPayloads:n,finalPayloads:s}),this.ge=!0),s}reloadFeatureFlags(){this.be||this._instance.config.advanced_disable_feature_flags||this.$e||(this.$e=setTimeout(()=>{this.ke()},5))}xe(){clearTimeout(this.$e),this.$e=void 0}ensureFlagsLoaded(){this._e||this.me||this.$e||this.reloadFeatureFlags()}setAnonymousDistinctId(e){this.$anon_distinct_id=e}setReloadingPaused(e){this.be=e}ke(e){var n;if(this.xe(),!this._instance.I())if(this.me)this.ye=!0;else{var s={token:this._instance.config.token,distinct_id:this._instance.get_distinct_id(),groups:this._instance.getGroups(),$anon_distinct_id:this.$anon_distinct_id,person_properties:be({},((n=this._instance.persistence)==null?void 0:n.get_initial_props())||{},this._instance.get_property(id)||{}),group_properties:this._instance.get_property(xo)};(e!=null&&e.disableFlags||this._instance.config.advanced_disable_feature_flags)&&(s.disable_flags=!0);var i=this._instance.config.__preview_remote_config,o=i?"/flags/?v=2":"/flags/?v=2&config=true",l=this._instance.config.advanced_only_evaluate_survey_feature_flags?"&only_evaluate_survey_feature_flags=true":"",u=this._instance.requestRouter.endpointFor("api",o+l);i&&(s.timezone=PD()),this.me=!0,this._instance.Ee({method:"POST",url:u,data:s,compression:this._instance.config.disable_compression?void 0:zi.Base64,timeout:this._instance.config.feature_flag_request_timeout_ms,callback:d=>{var h,m,p=!0;if(d.statusCode===200&&(this.ye||(this.$anon_distinct_id=void 0),p=!1),this.me=!1,this.we||(this.we=!0,this._instance.Ie((m=d.json)!==null&&m!==void 0?m:{})),!s.disable_flags||this.ye)if(this.Se=!p,d.json&&(h=d.json.quotaLimited)!=null&&h.includes(qJ.FeatureFlags))$r.warn("You have hit your feature flags quota limit, and will not be able to load feature flags until the quota is reset.  Please visit https://posthog.com/docs/billing/limits-alerts to learn more.");else{var v;s.disable_flags||this.receivedFeatureFlags((v=d.json)!==null&&v!==void 0?v:{},p),this.ye&&(this.ye=!1,this.ke())}}})}}getFeatureFlag(e,n){if(n===void 0&&(n={}),this._e||this.getFlags()&&this.getFlags().length>0){var s=this.getFlagVariants()[e],i=""+s,o=this._instance.get_property(nN)||void 0,l=this._instance.get_property(Lp)||{};if((n.send_event||!("send_event"in n))&&(!(e in l)||!l[e].includes(i))){var u,d,h,m,p,v,x,_,w;Lt(l[e])?l[e].push(i):l[e]=[i],(u=this._instance.persistence)==null||u.register({[Lp]:l});var C=this.getFeatureFlagDetails(e),T={$feature_flag:e,$feature_flag_response:s,$feature_flag_payload:this.getFeatureFlagPayload(e)||null,$feature_flag_request_id:o,$feature_flag_bootstrapped_response:((d=this._instance.config.bootstrap)==null||(d=d.featureFlags)==null?void 0:d[e])||null,$feature_flag_bootstrapped_payload:((h=this._instance.config.bootstrap)==null||(h=h.featureFlagPayloads)==null?void 0:h[e])||null,$used_bootstrap_value:!this.Se};ve(C==null||(m=C.metadata)==null?void 0:m.version)||(T.$feature_flag_version=C.metadata.version);var N,k=(p=C==null||(v=C.reason)==null?void 0:v.description)!==null&&p!==void 0?p:C==null||(x=C.reason)==null?void 0:x.code;k&&(T.$feature_flag_reason=k),C!=null&&(_=C.metadata)!=null&&_.id&&(T.$feature_flag_id=C.metadata.id),ve(C==null?void 0:C.original_variant)&&ve(C==null?void 0:C.original_enabled)||(T.$feature_flag_original_response=ve(C.original_variant)?C.original_enabled:C.original_variant),C!=null&&(w=C.metadata)!=null&&w.original_payload&&(T.$feature_flag_original_payload=C==null||(N=C.metadata)==null?void 0:N.original_payload),this._instance.capture("$feature_flag_called",T)}return s}$r.warn('getFeatureFlag for key "'+e+`" failed. Feature flags didn't load in time.`)}getFeatureFlagDetails(e){return this.getFlagsWithDetails()[e]}getFeatureFlagPayload(e){return this.getFlagPayloads()[e]}getRemoteConfigPayload(e,n){var s=this._instance.config.token;this._instance.Ee({method:"POST",url:this._instance.requestRouter.endpointFor("api","/flags/?v=2&config=true"),data:{distinct_id:this._instance.get_distinct_id(),token:s},compression:this._instance.config.disable_compression?void 0:zi.Base64,timeout:this._instance.config.feature_flag_request_timeout_ms,callback:i=>{var o,l=(o=i.json)==null?void 0:o.featureFlagPayloads;n((l==null?void 0:l[e])||void 0)}})}isFeatureEnabled(e,n){if(n===void 0&&(n={}),this._e||this.getFlags()&&this.getFlags().length>0)return!!this.getFeatureFlag(e,n);$r.warn('isFeatureEnabled for key "'+e+`" failed. Feature flags didn't load in time.`)}addFeatureFlagsHandler(e){this.featureFlagEventHandlers.push(e)}removeFeatureFlagsHandler(e){this.featureFlagEventHandlers=this.featureFlagEventHandlers.filter(n=>n!==e)}receivedFeatureFlags(e,n){if(this._instance.persistence){this._e=!0;var s=this.getFlagVariants(),i=this.getFlagPayloads(),o=this.getFlagsWithDetails();(function(l,u,d,h,m){d===void 0&&(d={}),h===void 0&&(h={}),m===void 0&&(m={});var p=HJ(l),v=p.flags,x=p.featureFlags,_=p.featureFlagPayloads;if(x){var w=l.requestId;if(Lt(x)){$r.warn("v1 of the feature flags endpoint is deprecated. Please use the latest version.");var C={};if(x)for(var T=0;T<x.length;T++)C[x[T]]=!0;u&&u.register({[n0]:x,[nc]:C})}else{var N=x,k=_,A=v;l.errorsWhileComputingFlags&&(N=be({},d,N),k=be({},h,k),A=be({},m,A)),u&&u.register(be({[n0]:Object.keys(sN(N)),[nc]:N||{},[tN]:k||{},[Ub]:A||{}},w?{[nN]:w}:{}))}}})(e,this._instance.persistence,s,i,o),this.Pe(n)}}override(e,n){n===void 0&&(n=!1),$r.warn("override is deprecated. Please use overrideFeatureFlags instead."),this.overrideFeatureFlags({flags:e,suppressWarning:n})}overrideFeatureFlags(e){if(!this._instance.__loaded||!this._instance.persistence)return $r.uninitializedWarning("posthog.featureFlags.overrideFeatureFlags");if(e===!1)return this._instance.persistence.unregister(Hl),this._instance.persistence.unregister(Xu),void this.Pe();if(e&&typeof e=="object"&&("flags"in e||"payloads"in e)){var n,s=e;if(this.ge=!!((n=s.suppressWarning)!==null&&n!==void 0&&n),"flags"in s){if(s.flags===!1)this._instance.persistence.unregister(Hl);else if(s.flags)if(Lt(s.flags)){for(var i={},o=0;o<s.flags.length;o++)i[s.flags[o]]=!0;this._instance.persistence.register({[Hl]:i})}else this._instance.persistence.register({[Hl]:s.flags})}return"payloads"in s&&(s.payloads===!1?this._instance.persistence.unregister(Xu):s.payloads&&this._instance.persistence.register({[Xu]:s.payloads})),void this.Pe()}this.Pe()}onFeatureFlags(e){if(this.addFeatureFlagsHandler(e),this._e){var{flags:n,flagVariants:s}=this.Re();e(n,s)}return()=>this.removeFeatureFlagsHandler(e)}updateEarlyAccessFeatureEnrollment(e,n){var s,i=(this._instance.get_property(rp)||[]).find(d=>d.flagKey===e),o={["$feature_enrollment/"+e]:n},l={$feature_flag:e,$feature_enrollment:n,$set:o};i&&(l.$early_access_feature_name=i.name),this._instance.capture("$feature_enrollment_update",l),this.setPersonPropertiesForFlags(o,!1);var u=be({},this.getFlagVariants(),{[e]:n});(s=this._instance.persistence)==null||s.register({[n0]:Object.keys(sN(u)),[nc]:u}),this.Pe()}getEarlyAccessFeatures(e,n,s){n===void 0&&(n=!1);var i=this._instance.get_property(rp),o=s?"&"+s.map(l=>"stage="+l).join("&"):"";if(i&&!n)return e(i);this._instance.Ee({url:this._instance.requestRouter.endpointFor("api","/api/early_access_features/?token="+this._instance.config.token+o),method:"GET",callback:l=>{var u;if(l.json){var d=l.json.earlyAccessFeatures;return(u=this._instance.persistence)==null||u.register({[rp]:d}),e(d)}}})}Re(){var e=this.getFlags(),n=this.getFlagVariants();return{flags:e.filter(s=>n[s]),flagVariants:Object.keys(n).filter(s=>n[s]).reduce((s,i)=>(s[i]=n[i],s),{})}}Pe(e){var{flags:n,flagVariants:s}=this.Re();this.featureFlagEventHandlers.forEach(i=>i(n,s,{errorsLoading:e}))}setPersonPropertiesForFlags(e,n){n===void 0&&(n=!0);var s=this._instance.get_property(id)||{};this._instance.register({[id]:be({},s,e)}),n&&this._instance.reloadFeatureFlags()}resetPersonPropertiesForFlags(){this._instance.unregister(id)}setGroupPropertiesForFlags(e,n){n===void 0&&(n=!0);var s=this._instance.get_property(xo)||{};Object.keys(s).length!==0&&Object.keys(s).forEach(i=>{s[i]=be({},s[i],e[i]),delete e[i]}),this._instance.register({[xo]:be({},s,e)}),n&&this._instance.reloadFeatureFlags()}resetGroupPropertiesForFlags(e){if(e){var n=this._instance.get_property(xo)||{};this._instance.register({[xo]:be({},n,{[e]:{}})})}else this._instance.unregister(xo)}reset(){this._e=!1,this.me=!1,this.be=!1,this.ye=!1,this.we=!1,this.Se=!1,this.$anon_distinct_id=void 0,this.xe(),this.ge=!1}}var GJ=["cookie","localstorage","localstorage+cookie","sessionstorage","memory"];class s0{constructor(e,n){this.S=e,this.props={},this.Te=!1,this.Me=(s=>{var i="";return s.token&&(i=s.token.replace(/\+/g,"PL").replace(/\//g,"SL").replace(/=/g,"EQ")),s.persistence_name?"ph_"+s.persistence_name:"ph_"+i+"_posthog"})(e),this.B=this.Ce(e),this.load(),e.debug&&we.info("Persistence loaded",e.persistence,be({},this.props)),this.update_config(e,e,n),this.save()}isDisabled(){return!!this.Fe}Ce(e){GJ.indexOf(e.persistence.toLowerCase())===-1&&(we.critical("Unknown persistence type "+e.persistence+"; falling back to localStorage+cookie"),e.persistence="localStorage+cookie");var n=e.persistence.toLowerCase();return n==="localstorage"&&xn.O()?xn:n==="localstorage+cookie"&&Ph.O()?Ph:n==="sessionstorage"&&Ln.O()?Ln:n==="memory"?EQ:n==="cookie"?ri:Ph.O()?Ph:ri}properties(){var e={};return St(this.props,function(n,s){if(s===nc&&Wt(n))for(var i=Object.keys(n),o=0;o<i.length;o++)e["$feature/"+i[o]]=n[i[o]];else u=s,d=!1,(Wa(l=iQ)?d:uk&&l.indexOf===uk?l.indexOf(u)!=-1:(St(l,function(h){if(d||(d=h===u))return Dp}),d))||(e[s]=n);var l,u,d}),e}load(){if(!this.Fe){var e=this.B.L(this.Me);e&&(this.props=sn({},e))}}save(){this.Fe||this.B.j(this.Me,this.props,this.Oe,this.Ae,this.De,this.S.debug)}remove(){this.B.N(this.Me,!1),this.B.N(this.Me,!0)}clear(){this.remove(),this.props={}}register_once(e,n,s){if(Wt(e)){ve(n)&&(n="None"),this.Oe=ve(s)?this.Le:s;var i=!1;if(St(e,(o,l)=>{this.props.hasOwnProperty(l)&&this.props[l]!==n||(this.props[l]=o,i=!0)}),i)return this.save(),!0}return!1}register(e,n){if(Wt(e)){this.Oe=ve(n)?this.Le:n;var s=!1;if(St(e,(i,o)=>{e.hasOwnProperty(o)&&this.props[o]!==i&&(this.props[o]=i,s=!0)}),s)return this.save(),!0}return!1}unregister(e){e in this.props&&(delete this.props[e],this.save())}update_campaign_params(){if(!this.Te){var e=AD(this.S.custom_campaign_params,this.S.mask_personal_data_properties,this.S.custom_personal_data_properties);tc(zw(e))||this.register(e),this.Te=!0}}update_search_keyword(){var e;this.register((e=xe==null?void 0:xe.referrer)?jD(e):{})}update_referrer_info(){var e;this.register_once({$referrer:MD(),$referring_domain:xe!=null&&xe.referrer&&((e=Pc(xe.referrer))==null?void 0:e.host)||"$direct"},void 0)}set_initial_person_info(){this.props[qb]||this.props[Kb]||this.register_once({[Ip]:OD(this.S.mask_personal_data_properties,this.S.custom_personal_data_properties)},void 0)}get_initial_props(){var e={};St([Kb,qb],l=>{var u=this.props[l];u&&St(u,function(d,h){e["$initial_"+Db(h)]=d})});var n,s,i=this.props[Ip];if(i){var o=(n=DD(i),s={},St(n,function(l,u){s["$initial_"+Db(u)]=l}),s);sn(e,o)}return e}safe_merge(e){return St(this.props,function(n,s){s in e||(e[s]=n)}),e}update_config(e,n,s){if(this.Le=this.Oe=e.cookie_expiration,this.set_disabled(e.disable_persistence||!!s),this.set_cross_subdomain(e.cross_subdomain_cookie),this.set_secure(e.secure_cookie),e.persistence!==n.persistence){var i=this.Ce(e),o=this.props;this.clear(),this.B=i,this.props=o,this.save()}}set_disabled(e){this.Fe=e,this.Fe?this.remove():this.save()}set_cross_subdomain(e){e!==this.Ae&&(this.Ae=e,this.remove(),this.save())}set_secure(e){e!==this.De&&(this.De=e,this.remove(),this.save())}set_event_timer(e,n){var s=this.props[sd]||{};s[e]=n,this.props[sd]=s,this.save()}remove_event_timer(e){var n=(this.props[sd]||{})[e];return ve(n)||(delete this.props[sd][e],this.save()),n}get_property(e){return this.props[e]}set_property(e,n){this.props[e]=n,this.save()}}class LD{constructor(){this.je={},this.je={}}on(e,n){return this.je[e]||(this.je[e]=[]),this.je[e].push(n),()=>{this.je[e]=this.je[e].filter(s=>s!==n)}}emit(e,n){for(var s of this.je[e]||[])s(n);for(var i of this.je["*"]||[])i(e,n)}}class _o{constructor(e){this.Ne=new LD,this.ze=(n,s)=>this.Ue(n,s)&&this.qe(n,s)&&this.Be(n,s),this.Ue=(n,s)=>s==null||!s.event||(n==null?void 0:n.event)===(s==null?void 0:s.event),this._instance=e,this.He=new Set,this.We=new Set}init(){var e;if(!ve((e=this._instance)==null?void 0:e.Ge)){var n;(n=this._instance)==null||n.Ge((s,i)=>{this.on(s,i)})}}register(e){var n,s;if(!ve((n=this._instance)==null?void 0:n.Ge)&&(e.forEach(l=>{var u,d;(u=this.We)==null||u.add(l),(d=l.steps)==null||d.forEach(h=>{var m;(m=this.He)==null||m.add((h==null?void 0:h.event)||"")})}),(s=this._instance)!=null&&s.autocapture)){var i,o=new Set;e.forEach(l=>{var u;(u=l.steps)==null||u.forEach(d=>{d!=null&&d.selector&&o.add(d==null?void 0:d.selector)})}),(i=this._instance)==null||i.autocapture.setElementSelectors(o)}}on(e,n){var s;n!=null&&e.length!=0&&(this.He.has(e)||this.He.has(n==null?void 0:n.event))&&this.We&&((s=this.We)==null?void 0:s.size)>0&&this.We.forEach(i=>{this.Je(n,i)&&this.Ne.emit("actionCaptured",i.name)})}Ve(e){this.onAction("actionCaptured",n=>e(n))}Je(e,n){if((n==null?void 0:n.steps)==null)return!1;for(var s of n.steps)if(this.ze(e,s))return!0;return!1}onAction(e,n){return this.Ne.on(e,n)}qe(e,n){if(n!=null&&n.url){var s,i=e==null||(s=e.properties)==null?void 0:s.$current_url;if(!i||typeof i!="string"||!_o.Ke(i,n==null?void 0:n.url,(n==null?void 0:n.url_matching)||"contains"))return!1}return!0}static Ke(e,n,s){switch(s){case"regex":return!!re&&Ic(e,n);case"exact":return n===e;case"contains":var i=_o.Ye(n).replace(/_/g,".").replace(/%/g,".*");return Ic(e,i);default:return!1}}static Ye(e){return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}Be(e,n){if((n!=null&&n.href||n!=null&&n.tag_name||n!=null&&n.text)&&!this.Xe(e).some(o=>!(n!=null&&n.href&&!_o.Ke(o.href||"",n==null?void 0:n.href,(n==null?void 0:n.href_matching)||"exact"))&&(n==null||!n.tag_name||o.tag_name===(n==null?void 0:n.tag_name))&&!(n!=null&&n.text&&!_o.Ke(o.text||"",n==null?void 0:n.text,(n==null?void 0:n.text_matching)||"exact")&&!_o.Ke(o.$el_text||"",n==null?void 0:n.text,(n==null?void 0:n.text_matching)||"exact"))))return!1;if(n!=null&&n.selector){var s,i=e==null||(s=e.properties)==null?void 0:s.$element_selectors;if(!i||!i.includes(n==null?void 0:n.selector))return!1}return!0}Xe(e){return(e==null?void 0:e.properties.$elements)==null?[]:e==null?void 0:e.properties.$elements}}var En=kn("[Surveys]"),ix="seenSurvey_",YJ=(t,e)=>{var n="$survey_"+e+"/"+t.id;return t.current_iteration&&t.current_iteration>0&&(n="$survey_"+e+"/"+t.id+"/"+t.current_iteration),n};class WJ{constructor(e){this._instance=e,this.Qe=new Map,this.Ze=new Map}register(e){var n;ve((n=this._instance)==null?void 0:n.Ge)||(this.tr(e),this.ir(e))}ir(e){var n=e.filter(s=>{var i,o;return((i=s.conditions)==null?void 0:i.actions)&&((o=s.conditions)==null||(o=o.actions)==null||(o=o.values)==null?void 0:o.length)>0});n.length!==0&&(this.er==null&&(this.er=new _o(this._instance),this.er.init(),this.er.Ve(s=>{this.onAction(s)})),n.forEach(s=>{var i,o,l,u,d;s.conditions&&(i=s.conditions)!=null&&i.actions&&(o=s.conditions)!=null&&(o=o.actions)!=null&&o.values&&((l=s.conditions)==null||(l=l.actions)==null||(l=l.values)==null?void 0:l.length)>0&&((u=this.er)==null||u.register(s.conditions.actions.values),(d=s.conditions)==null||(d=d.actions)==null||(d=d.values)==null||d.forEach(h=>{if(h&&h.name){var m=this.Ze.get(h.name);m&&m.push(s.id),this.Ze.set(h.name,m||[s.id])}}))}))}tr(e){var n;e.filter(s=>{var i,o;return((i=s.conditions)==null?void 0:i.events)&&((o=s.conditions)==null||(o=o.events)==null||(o=o.values)==null?void 0:o.length)>0}).length!==0&&((n=this._instance)==null||n.Ge((s,i)=>{this.onEvent(s,i)}),e.forEach(s=>{var i;(i=s.conditions)==null||(i=i.events)==null||(i=i.values)==null||i.forEach(o=>{if(o&&o.name){var l=this.Qe.get(o.name);l&&l.push(s.id),this.Qe.set(o.name,l||[s.id])}})}))}onEvent(e,n){var s,i=((s=this._instance)==null||(s=s.persistence)==null?void 0:s.props[Oh])||[];if(e==="survey shown"&&n&&i.length>0){var o;En.info("survey event matched, removing survey from activated surveys",{event:e,eventPayload:n,existingActivatedSurveys:i});var l=n==null||(o=n.properties)==null?void 0:o.$survey_id;if(l){var u=i.indexOf(l);u>=0&&(i.splice(u,1),this.rr(i))}}else this.Qe.has(e)&&(En.info("survey event matched, updating activated surveys",{event:e,surveys:this.Qe.get(e)}),this.rr(i.concat(this.Qe.get(e)||[])))}onAction(e){var n,s=((n=this._instance)==null||(n=n.persistence)==null?void 0:n.props[Oh])||[];this.Ze.has(e)&&this.rr(s.concat(this.Ze.get(e)||[]))}rr(e){var n;(n=this._instance)==null||(n=n.persistence)==null||n.register({[Oh]:[...new Set(e)]})}getSurveys(){var e,n=(e=this._instance)==null||(e=e.persistence)==null?void 0:e.props[Oh];return n||[]}getEventToSurveys(){return this.Qe}sr(){return this.er}}class XJ{constructor(e){this.nr=void 0,this.ar=null,this.lr=!1,this.ur=!1,this.hr=[],this._instance=e,this._surveyEventReceiver=null}onRemoteConfig(e){var n=e.surveys;if(dt(n))return En.warn("Flags not loaded yet. Not loading surveys.");var s=Lt(n);this.nr=s?n.length>0:n,En.info("flags response received, isSurveysEnabled: "+this.nr),this.loadIfEnabled()}reset(){localStorage.removeItem("lastSeenSurveyDate");for(var e=[],n=0;n<localStorage.length;n++){var s=localStorage.key(n);(s!=null&&s.startsWith(ix)||s!=null&&s.startsWith("inProgressSurvey_"))&&e.push(s)}e.forEach(i=>localStorage.removeItem(i))}loadIfEnabled(){if(!this.ar)if(this.ur)En.info("Already initializing surveys, skipping...");else if(this._instance.config.disable_surveys)En.info("Disabled. Not loading surveys.");else{var e=Ie==null?void 0:Ie.__PosthogExtensions__;if(e){var n=this.nr;if(!ve(n)){this.ur=!0;try{var s=e.generateSurveys;if(s)return void this.dr(s,n);var i=e.loadExternalDependency;if(!i)return void this.vr("PostHog loadExternalDependency extension not found.");i(this._instance,"surveys",o=>{o||!e.generateSurveys?this.vr("Could not load surveys script",o):this.dr(e.generateSurveys,n)})}catch(o){throw this.vr("Error initializing surveys",o),o}finally{this.ur=!1}}}else En.error("PostHog Extensions not found.")}}dr(e,n){this.ar=e(this._instance,n),this._surveyEventReceiver=new WJ(this._instance),En.info("Surveys loaded successfully"),this.cr({isLoaded:!0})}vr(e,n){En.error(e,n),this.cr({isLoaded:!1,error:e})}onSurveysLoaded(e){return this.hr.push(e),this.ar&&this.cr({isLoaded:!0}),()=>{this.hr=this.hr.filter(n=>n!==e)}}getSurveys(e,n){if(n===void 0&&(n=!1),this._instance.config.disable_surveys)return En.info("Disabled. Not loading surveys."),e([]);var s=this._instance.get_property(Vb);if(s&&!n)return e(s,{isLoaded:!0});if(this.lr)return e([],{isLoaded:!1,error:"Surveys are already being loaded"});try{this.lr=!0,this._instance.Ee({url:this._instance.requestRouter.endpointFor("api","/api/surveys/?token="+this._instance.config.token),method:"GET",timeout:this._instance.config.surveys_request_timeout_ms,callback:i=>{var o;this.lr=!1;var l=i.statusCode;if(l!==200||!i.json){var u="Surveys API could not be loaded, status: "+l;return En.error(u),e([],{isLoaded:!1,error:u})}var d,h=i.json.surveys||[],m=h.filter(p=>function(v){return!(!v.start_date||v.end_date)}(p)&&(function(v){var x;return!((x=v.conditions)==null||(x=x.events)==null||(x=x.values)==null||!x.length)}(p)||function(v){var x;return!((x=v.conditions)==null||(x=x.actions)==null||(x=x.values)==null||!x.length)}(p)));return m.length>0&&((d=this._surveyEventReceiver)==null||d.register(m)),(o=this._instance.persistence)==null||o.register({[Vb]:h}),e(h,{isLoaded:!0})}})}catch(i){throw this.lr=!1,i}}cr(e){for(var n of this.hr)try{e.isLoaded?this.getSurveys(n):n([],e)}catch(s){En.error("Error in survey callback",s)}}getActiveMatchingSurveys(e,n){if(n===void 0&&(n=!1),!dt(this.ar))return this.ar.getActiveMatchingSurveys(e,n);En.warn("init was not called")}pr(e){var n=null;return this.getSurveys(s=>{var i;n=(i=s.find(o=>o.id===e))!==null&&i!==void 0?i:null}),n}gr(e){if(dt(this.ar))return{eligible:!1,reason:"SDK is not enabled or survey functionality is not yet loaded"};var n=typeof e=="string"?this.pr(e):e;return n?this.ar.checkSurveyEligibility(n):{eligible:!1,reason:"Survey not found"}}canRenderSurvey(e){if(dt(this.ar))return En.warn("init was not called"),{visible:!1,disabledReason:"SDK is not enabled or survey functionality is not yet loaded"};var n=this.gr(e);return{visible:n.eligible,disabledReason:n.reason}}canRenderSurveyAsync(e,n){return dt(this.ar)?(En.warn("init was not called"),Promise.resolve({visible:!1,disabledReason:"SDK is not enabled or survey functionality is not yet loaded"})):new Promise(s=>{this.getSurveys(i=>{var o,l=(o=i.find(d=>d.id===e))!==null&&o!==void 0?o:null;if(l){var u=this.gr(l);s({visible:u.eligible,disabledReason:u.reason})}else s({visible:!1,disabledReason:"Survey not found"})},n)})}renderSurvey(e,n){if(dt(this.ar))En.warn("init was not called");else{var s=this.pr(e),i=xe==null?void 0:xe.querySelector(n);s?i?this.ar.renderSurvey(s,i):En.warn("Survey element not found"):En.warn("Survey not found")}}}(function(t){return t.Button="button",t.Tab="tab",t.Selector="selector",t})({});(function(t){return t.TopLeft="top_left",t.TopRight="top_right",t.TopCenter="top_center",t.MiddleLeft="middle_left",t.MiddleRight="middle_right",t.MiddleCenter="middle_center",t.Left="left",t.Center="center",t.Right="right",t.NextToTrigger="next_to_trigger",t})({});(function(t){return t.Popover="popover",t.API="api",t.Widget="widget",t})({});(function(t){return t.Open="open",t.MultipleChoice="multiple_choice",t.SingleChoice="single_choice",t.Rating="rating",t.Link="link",t})({});(function(t){return t.NextQuestion="next_question",t.End="end",t.ResponseBased="response_based",t.SpecificQuestion="specific_question",t})({});(function(t){return t.Once="once",t.Recurring="recurring",t.Always="always",t})({});var r0=function(t){return t.SHOWN="survey shown",t.DISMISSED="survey dismissed",t.SENT="survey sent",t}({}),rN=function(t){return t.SURVEY_ID="$survey_id",t.SURVEY_NAME="$survey_name",t.SURVEY_RESPONSE="$survey_response",t.SURVEY_ITERATION="$survey_iteration",t.SURVEY_ITERATION_START_DATE="$survey_iteration_start_date",t.SURVEY_PARTIALLY_COMPLETED="$survey_partially_completed",t.SURVEY_SUBMISSION_ID="$survey_submission_id",t.SURVEY_QUESTIONS="$survey_questions",t.SURVEY_COMPLETED="$survey_completed",t}({}),iN=kn("[RateLimiter]");class QJ{constructor(e){var n,s;this.serverLimits={},this.lastEventRateLimited=!1,this.checkForLimiting=i=>{var o=i.text;if(o&&o.length)try{(JSON.parse(o).quota_limited||[]).forEach(l=>{iN.info((l||"events")+" is quota limited."),this.serverLimits[l]=new Date().getTime()+6e4})}catch(l){return void iN.warn('could not rate limit - continuing. Error: "'+(l==null?void 0:l.message)+'"',{text:o})}},this.instance=e,this.captureEventsPerSecond=((n=e.config.rate_limiting)==null?void 0:n.events_per_second)||10,this.captureEventsBurstLimit=Math.max(((s=e.config.rate_limiting)==null?void 0:s.events_burst_limit)||10*this.captureEventsPerSecond,this.captureEventsPerSecond),this.lastEventRateLimited=this.clientRateLimitContext(!0).isRateLimited}clientRateLimitContext(e){var n,s,i;e===void 0&&(e=!1);var o=new Date().getTime(),l=(n=(s=this.instance.persistence)==null?void 0:s.get_property(Hb))!==null&&n!==void 0?n:{tokens:this.captureEventsBurstLimit,last:o};l.tokens+=(o-l.last)/1e3*this.captureEventsPerSecond,l.last=o,l.tokens>this.captureEventsBurstLimit&&(l.tokens=this.captureEventsBurstLimit);var u=l.tokens<1;return u||e||(l.tokens=Math.max(0,l.tokens-1)),!u||this.lastEventRateLimited||e||this.instance.capture("$$client_ingestion_warning",{$$client_ingestion_warning_message:"posthog-js client rate limited. Config is set to "+this.captureEventsPerSecond+" events per second and "+this.captureEventsBurstLimit+" events burst limit."},{skip_client_rate_limiting:!0}),this.lastEventRateLimited=u,(i=this.instance.persistence)==null||i.set_property(Hb,l),{isRateLimited:u,remainingTokens:l.tokens}}isServerRateLimited(e){var n=this.serverLimits[e||"events"]||!1;return n!==!1&&new Date().getTime()<n}}var yo=kn("[RemoteConfig]");class JJ{constructor(e){this._instance=e}get remoteConfig(){var e;return(e=Ie._POSTHOG_REMOTE_CONFIG)==null||(e=e[this._instance.config.token])==null?void 0:e.config}_r(e){var n,s;(n=Ie.__PosthogExtensions__)!=null&&n.loadExternalDependency?(s=Ie.__PosthogExtensions__)==null||s.loadExternalDependency==null||s.loadExternalDependency(this._instance,"remote-config",()=>e(this.remoteConfig)):(yo.error("PostHog Extensions not found. Cannot load remote config."),e())}mr(e){this._instance.Ee({method:"GET",url:this._instance.requestRouter.endpointFor("assets","/array/"+this._instance.config.token+"/config"),callback:n=>{e(n.json)}})}load(){try{if(this.remoteConfig)return yo.info("Using preloaded remote config",this.remoteConfig),void this.Ie(this.remoteConfig);if(this._instance.I())return void yo.warn("Remote config is disabled. Falling back to local config.");this._r(e=>{if(!e)return yo.info("No config found after loading remote JS config. Falling back to JSON."),void this.mr(n=>{this.Ie(n)});this.Ie(e)})}catch(e){yo.error("Error loading remote config",e)}}Ie(e){e?this._instance.config.__preview_remote_config?(this._instance.Ie(e),e.hasFeatureFlags!==!1&&this._instance.featureFlags.ensureFlagsLoaded()):yo.info("__preview_remote_config is disabled. Logging config instead",e):yo.error("Failed to fetch remote config from PostHog.")}}var ax=3e3;class ZJ{constructor(e,n){this.br=!0,this.yr=[],this.wr=zs((n==null?void 0:n.flush_interval_ms)||ax,250,5e3,"flush interval",ax),this.Sr=e}enqueue(e){this.yr.push(e),this.$r||this.kr()}unload(){this.Er();var e=this.yr.length>0?this.Ir():{},n=Object.values(e);[...n.filter(s=>s.url.indexOf("/e")===0),...n.filter(s=>s.url.indexOf("/e")!==0)].map(s=>{this.Sr(be({},s,{transport:"sendBeacon"}))})}enable(){this.br=!1,this.kr()}kr(){var e=this;this.br||(this.$r=setTimeout(()=>{if(this.Er(),this.yr.length>0){var n=this.Ir(),s=function(){var o=n[i],l=new Date().getTime();o.data&&Lt(o.data)&&St(o.data,u=>{u.offset=Math.abs(u.timestamp-l),delete u.timestamp}),e.Sr(o)};for(var i in n)s()}},this.wr))}Er(){clearTimeout(this.$r),this.$r=void 0}Ir(){var e={};return St(this.yr,n=>{var s,i=n,o=(i?i.batchKey:null)||i.url;ve(e[o])&&(e[o]=be({},i,{data:[]})),(s=e[o].data)==null||s.push(i.data)}),this.yr=[],e}}var eZ=["retriesPerformedSoFar"];class tZ{constructor(e){this.Pr=!1,this.Rr=3e3,this.yr=[],this._instance=e,this.yr=[],this.Tr=!0,!ve(re)&&"onLine"in re.navigator&&(this.Tr=re.navigator.onLine,Bt(re,"online",()=>{this.Tr=!0,this.se()}),Bt(re,"offline",()=>{this.Tr=!1}))}get length(){return this.yr.length}retriableRequest(e){var{retriesPerformedSoFar:n}=e,s=OO(e,eZ);Gn(n)&&n>0&&(s.url=Kp(s.url,{retry_count:n})),this._instance.Ee(be({},s,{callback:i=>{i.statusCode!==200&&(i.statusCode<400||i.statusCode>=500)&&(n??0)<10?this.Mr(be({retriesPerformedSoFar:n},s)):s.callback==null||s.callback(i)}}))}Mr(e){var n=e.retriesPerformedSoFar||0;e.retriesPerformedSoFar=n+1;var s=function(l){var u=3e3*Math.pow(2,l),d=u/2,h=Math.min(18e5,u),m=(Math.random()-.5)*(h-d);return Math.ceil(h+m)}(n),i=Date.now()+s;this.yr.push({retryAt:i,requestOptions:e});var o="Enqueued failed request for retry in "+s;navigator.onLine||(o+=" (Browser is offline)"),we.warn(o),this.Pr||(this.Pr=!0,this.Cr())}Cr(){this.Fr&&clearTimeout(this.Fr),this.Fr=setTimeout(()=>{this.Tr&&this.yr.length>0&&this.se(),this.Cr()},this.Rr)}se(){var e=Date.now(),n=[],s=this.yr.filter(o=>o.retryAt<e||(n.push(o),!1));if(this.yr=n,s.length>0)for(var{requestOptions:i}of s)this.retriableRequest(i)}unload(){for(var{requestOptions:e}of(this.Fr&&(clearTimeout(this.Fr),this.Fr=void 0),this.yr))try{this._instance.Ee(be({},e,{transport:"sendBeacon"}))}catch(n){we.error(n)}this.yr=[]}}class nZ{constructor(e){this.Or=()=>{var n,s,i,o;this.Ar||(this.Ar={});var l=this.scrollElement(),u=this.scrollY(),d=l?Math.max(0,l.scrollHeight-l.clientHeight):0,h=u+((l==null?void 0:l.clientHeight)||0),m=(l==null?void 0:l.scrollHeight)||0;this.Ar.lastScrollY=Math.ceil(u),this.Ar.maxScrollY=Math.max(u,(n=this.Ar.maxScrollY)!==null&&n!==void 0?n:0),this.Ar.maxScrollHeight=Math.max(d,(s=this.Ar.maxScrollHeight)!==null&&s!==void 0?s:0),this.Ar.lastContentY=h,this.Ar.maxContentY=Math.max(h,(i=this.Ar.maxContentY)!==null&&i!==void 0?i:0),this.Ar.maxContentHeight=Math.max(m,(o=this.Ar.maxContentHeight)!==null&&o!==void 0?o:0)},this._instance=e}getContext(){return this.Ar}resetContext(){var e=this.Ar;return setTimeout(this.Or,0),e}startMeasuringScrollPosition(){Bt(re,"scroll",this.Or,{capture:!0}),Bt(re,"scrollend",this.Or,{capture:!0}),Bt(re,"resize",this.Or)}scrollElement(){if(!this._instance.config.scroll_root_selector)return re==null?void 0:re.document.documentElement;var e=Lt(this._instance.config.scroll_root_selector)?this._instance.config.scroll_root_selector:[this._instance.config.scroll_root_selector];for(var n of e){var s=re==null?void 0:re.document.querySelector(n);if(s)return s}}scrollY(){if(this._instance.config.scroll_root_selector){var e=this.scrollElement();return e&&e.scrollTop||0}return re&&(re.scrollY||re.pageYOffset||re.document.documentElement.scrollTop)||0}scrollX(){if(this._instance.config.scroll_root_selector){var e=this.scrollElement();return e&&e.scrollLeft||0}return re&&(re.scrollX||re.pageXOffset||re.document.documentElement.scrollLeft)||0}}var sZ=t=>OD(t==null?void 0:t.config.mask_personal_data_properties,t==null?void 0:t.config.custom_personal_data_properties);class rZ{constructor(e,n,s,i){this.Dr=o=>{var l=this.Lr();if(!l||l.sessionId!==o){var u={sessionId:o,props:this.jr(this._instance)};this.Nr.register({[$b]:u})}},this._instance=e,this.zr=n,this.Nr=s,this.jr=i||sZ,this.zr.onSessionId(this.Dr)}Lr(){return this.Nr.props[$b]}getSetOnceProps(){var e,n=(e=this.Lr())==null?void 0:e.props;return n?"r"in n?DD(n):{$referring_domain:n.referringDomain,$pathname:n.initialPathName,utm_source:n.utm_source,utm_campaign:n.utm_campaign,utm_medium:n.utm_medium,utm_content:n.utm_content,utm_term:n.utm_term}:{}}getSessionProps(){var e={};return St(zw(this.getSetOnceProps()),(n,s)=>{s==="$current_url"&&(s="url"),e["$session_entry_"+Db(s)]=n}),e}}var aN=kn("[SessionId]");class iZ{constructor(e,n,s){var i;if(this.Ur=[],!e.persistence)throw new Error("SessionIdManager requires a PostHogPersistence instance");if(e.config.__preview_experimental_cookieless_mode)throw new Error("SessionIdManager cannot be used with __preview_experimental_cookieless_mode");this.S=e.config,this.Nr=e.persistence,this.fi=void 0,this.Ct=void 0,this._sessionStartTimestamp=null,this._sessionActivityTimestamp=null,this.qr=n||Da,this.Br=s||Da;var o=this.S.persistence_name||this.S.token,l=this.S.session_idle_timeout_seconds||1800;if(this._sessionTimeoutMs=1e3*zs(l,60,36e3,"session_idle_timeout_seconds",1800),e.register({$configured_session_timeout_ms:this._sessionTimeoutMs}),this.Hr(),this.Wr="ph_"+o+"_window_id",this.Gr="ph_"+o+"_primary_window_exists",this.Jr()){var u=Ln.L(this.Wr),d=Ln.L(this.Gr);u&&!d?this.fi=u:Ln.N(this.Wr),Ln.j(this.Gr,!0)}if((i=this.S.bootstrap)!=null&&i.sessionID)try{var h=(m=>{var p=m.replace(/-/g,"");if(p.length!==32)throw new Error("Not a valid UUID");if(p[12]!=="7")throw new Error("Not a UUIDv7");return parseInt(p.substring(0,12),16)})(this.S.bootstrap.sessionID);this.Vr(this.S.bootstrap.sessionID,new Date().getTime(),h)}catch(m){aN.error("Invalid sessionID in bootstrap",m)}this.Kr()}get sessionTimeoutMs(){return this._sessionTimeoutMs}onSessionId(e){return ve(this.Ur)&&(this.Ur=[]),this.Ur.push(e),this.Ct&&e(this.Ct,this.fi),()=>{this.Ur=this.Ur.filter(n=>n!==e)}}Jr(){return this.S.persistence!=="memory"&&!this.Nr.Fe&&Ln.O()}Yr(e){e!==this.fi&&(this.fi=e,this.Jr()&&Ln.j(this.Wr,e))}Xr(){return this.fi?this.fi:this.Jr()?Ln.L(this.Wr):null}Vr(e,n,s){e===this.Ct&&n===this._sessionActivityTimestamp&&s===this._sessionStartTimestamp||(this._sessionStartTimestamp=s,this._sessionActivityTimestamp=n,this.Ct=e,this.Nr.register({[Pp]:[n,e,s]}))}Qr(){if(this.Ct&&this._sessionActivityTimestamp&&this._sessionStartTimestamp)return[this._sessionActivityTimestamp,this.Ct,this._sessionStartTimestamp];var e=this.Nr.props[Pp];return Lt(e)&&e.length===2&&e.push(e[0]),e||[0,null,0]}resetSessionId(){this.Vr(null,null,null)}Kr(){Bt(re,"beforeunload",()=>{this.Jr()&&Ln.N(this.Gr)},{capture:!1})}checkAndGetSessionAndWindowId(e,n){if(e===void 0&&(e=!1),n===void 0&&(n=null),this.S.__preview_experimental_cookieless_mode)throw new Error("checkAndGetSessionAndWindowId should not be called in __preview_experimental_cookieless_mode");var s=n||new Date().getTime(),[i,o,l]=this.Qr(),u=this.Xr(),d=Gn(l)&&l>0&&Math.abs(s-l)>864e5,h=!1,m=!o,p=!e&&Math.abs(s-i)>this.sessionTimeoutMs;m||p||d?(o=this.qr(),u=this.Br(),aN.info("new session ID generated",{sessionId:o,windowId:u,changeReason:{noSessionId:m,activityTimeout:p,sessionPastMaximumLength:d}}),l=s,h=!0):u||(u=this.Br(),h=!0);var v=i===0||!e||d?s:i,x=l===0?new Date().getTime():l;return this.Yr(u),this.Vr(o,v,x),e||this.Hr(),h&&this.Ur.forEach(_=>_(o,u,h?{noSessionId:m,activityTimeout:p,sessionPastMaximumLength:d}:void 0)),{sessionId:o,windowId:u,sessionStartTimestamp:x,changeReason:h?{noSessionId:m,activityTimeout:p,sessionPastMaximumLength:d}:void 0,lastActivityTimestamp:i}}Hr(){clearTimeout(this.Zr),this.Zr=setTimeout(()=>{this.resetSessionId()},1.1*this.sessionTimeoutMs)}}var aZ=["$set_once","$set"],xa=kn("[SiteApps]");class oZ{constructor(e){this._instance=e,this.ts=[],this.apps={}}get isEnabled(){return!!this._instance.config.opt_in_site_apps}es(e,n){if(n){var s=this.globalsForEvent(n);this.ts.push(s),this.ts.length>1e3&&(this.ts=this.ts.slice(10))}}get siteAppLoaders(){var e;return(e=Ie._POSTHOG_REMOTE_CONFIG)==null||(e=e[this._instance.config.token])==null?void 0:e.siteApps}init(){if(this.isEnabled){var e=this._instance.Ge(this.es.bind(this));this.rs=()=>{e(),this.ts=[],this.rs=void 0}}}globalsForEvent(e){var n,s,i,o,l,u,d;if(!e)throw new Error("Event payload is required");var h={},m=this._instance.get_property("$groups")||[],p=this._instance.get_property("$stored_group_properties")||{};for(var[v,x]of Object.entries(p))h[v]={id:m[v],type:v,properties:x};var{$set_once:_,$set:w}=e;return{event:be({},OO(e,aZ),{properties:be({},e.properties,w?{$set:be({},(n=(s=e.properties)==null?void 0:s.$set)!==null&&n!==void 0?n:{},w)}:{},_?{$set_once:be({},(i=(o=e.properties)==null?void 0:o.$set_once)!==null&&i!==void 0?i:{},_)}:{}),elements_chain:(l=(u=e.properties)==null?void 0:u.$elements_chain)!==null&&l!==void 0?l:"",distinct_id:(d=e.properties)==null?void 0:d.distinct_id}),person:{properties:this._instance.get_property("$stored_person_properties")},groups:h}}setupSiteApp(e){var n=this.apps[e.id],s=()=>{var u;!n.errored&&this.ts.length&&(xa.info("Processing "+this.ts.length+" events for site app with id "+e.id),this.ts.forEach(d=>n.processEvent==null?void 0:n.processEvent(d)),n.processedBuffer=!0),Object.values(this.apps).every(d=>d.processedBuffer||d.errored)&&((u=this.rs)==null||u.call(this))},i=!1,o=u=>{n.errored=!u,n.loaded=!0,xa.info("Site app with id "+e.id+" "+(u?"loaded":"errored")),i&&s()};try{var{processEvent:l}=e.init({posthog:this._instance,callback:u=>{o(u)}});l&&(n.processEvent=l),i=!0}catch(u){xa.error("Error while initializing PostHog app with config id "+e.id,u),o(!1)}if(i&&n.loaded)try{s()}catch(u){xa.error("Error while processing buffered events PostHog app with config id "+e.id,u),n.errored=!0}}ss(){var e=this.siteAppLoaders||[];for(var n of e)this.apps[n.id]={id:n.id,loaded:!1,errored:!1,processedBuffer:!1};for(var s of e)this.setupSiteApp(s)}ns(e){if(Object.keys(this.apps).length!==0){var n=this.globalsForEvent(e);for(var s of Object.values(this.apps))try{s.processEvent==null||s.processEvent(n)}catch(i){xa.error("Error while processing event "+e.event+" for site app "+s.id,i)}}}onRemoteConfig(e){var n,s,i,o=this;if((n=this.siteAppLoaders)!=null&&n.length)return this.isEnabled?(this.ss(),void this._instance.on("eventCaptured",h=>this.ns(h))):void xa.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.');if((s=this.rs)==null||s.call(this),(i=e.siteApps)!=null&&i.length)if(this.isEnabled){var l=function(h){var m;Ie["__$$ph_site_app_"+h]=o._instance,(m=Ie.__PosthogExtensions__)==null||m.loadSiteApp==null||m.loadSiteApp(o._instance,d,p=>{if(p)return xa.error("Error while initializing PostHog app with config id "+h,p)})};for(var{id:u,url:d}of e.siteApps)l(u)}else xa.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.')}}var lZ=["amazonbot","amazonproductbot","app.hypefactors.com","applebot","archive.org_bot","awariobot","backlinksextendedbot","baiduspider","bingbot","bingpreview","chrome-lighthouse","dataforseobot","deepscan","duckduckbot","facebookexternal","facebookcatalog","http://yandex.com/bots","hubspot","ia_archiver","leikibot","linkedinbot","meta-externalagent","mj12bot","msnbot","nessus","petalbot","pinterest","prerender","rogerbot","screaming frog","sebot-wa","sitebulb","slackbot","slurp","trendictionbot","turnitin","twitterbot","vercelbot","yahoo! slurp","yandexbot","zoombot","bot.htm","bot.php","(bot;","bot/","crawler","ahrefsbot","ahrefssiteaudit","semrushbot","siteauditbot","splitsignalbot","gptbot","oai-searchbot","chatgpt-user","perplexitybot","better uptime bot","sentryuptimebot","uptimerobot","headlesschrome","cypress","google-hoteladsverifier","adsbot-google","apis-google","duplexweb-google","feedfetcher-google","google favicon","google web preview","google-read-aloud","googlebot","googleother","google-cloudvertexbot","googleweblight","mediapartners-google","storebot-google","google-inspectiontool","bytespider"],oN=function(t,e){if(!t)return!1;var n=t.toLowerCase();return lZ.concat(e||[]).some(s=>{var i=s.toLowerCase();return n.indexOf(i)!==-1})},ID=function(t,e){if(!t)return!1;var n=t.userAgent;if(n&&oN(n,e))return!0;try{var s=t==null?void 0:t.userAgentData;if(s!=null&&s.brands&&s.brands.some(i=>oN(i==null?void 0:i.brand,e)))return!0}catch{}return!!t.webdriver},cd=function(t){return t.US="us",t.EU="eu",t.CUSTOM="custom",t}({}),lN="i.posthog.com";class cZ{constructor(e){this.os={},this.instance=e}get apiHost(){var e=this.instance.config.api_host.trim().replace(/\/$/,"");return e==="https://app.posthog.com"?"https://us.i.posthog.com":e}get uiHost(){var e,n=(e=this.instance.config.ui_host)==null?void 0:e.replace(/\/$/,"");return n||(n=this.apiHost.replace("."+lN,".posthog.com")),n==="https://app.posthog.com"?"https://us.posthog.com":n}get region(){return this.os[this.apiHost]||(/https:\/\/(app|us|us-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this.os[this.apiHost]=cd.US:/https:\/\/(eu|eu-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this.os[this.apiHost]=cd.EU:this.os[this.apiHost]=cd.CUSTOM),this.os[this.apiHost]}endpointFor(e,n){if(n===void 0&&(n=""),n&&(n=n[0]==="/"?n:"/"+n),e==="ui")return this.uiHost+n;if(this.region===cd.CUSTOM)return this.apiHost+n;var s=lN+n;switch(e){case"assets":return"https://"+this.region+"-assets."+s;case"api":return"https://"+this.region+"."+s}}}var uZ={icontains:(t,e)=>!!re&&e.href.toLowerCase().indexOf(t.toLowerCase())>-1,not_icontains:(t,e)=>!!re&&e.href.toLowerCase().indexOf(t.toLowerCase())===-1,regex:(t,e)=>!!re&&Ic(e.href,t),not_regex:(t,e)=>!!re&&!Ic(e.href,t),exact:(t,e)=>e.href===t,is_not:(t,e)=>e.href!==t};class Hn{constructor(e){var n=this;this.getWebExperimentsAndEvaluateDisplayLogic=function(s){s===void 0&&(s=!1),n.getWebExperiments(i=>{Hn.ls("retrieved web experiments from the server"),n.us=new Map,i.forEach(o=>{if(o.feature_flag_key){var l;n.us&&(Hn.ls("setting flag key ",o.feature_flag_key," to web experiment ",o),(l=n.us)==null||l.set(o.feature_flag_key,o));var u=n._instance.getFeatureFlag(o.feature_flag_key);Xt(u)&&o.variants[u]&&n.hs(o.name,u,o.variants[u].transforms)}else if(o.variants)for(var d in o.variants){var h=o.variants[d];Hn.ds(h)&&n.hs(o.name,d,h.transforms)}})},s)},this._instance=e,this._instance.onFeatureFlags(s=>{this.onFeatureFlags(s)})}onFeatureFlags(e){if(this._is_bot())Hn.ls("Refusing to render web experiment since the viewer is a likely bot");else if(!this._instance.config.disable_web_experiments){if(dt(this.us))return this.us=new Map,this.loadIfEnabled(),void this.previewWebExperiment();Hn.ls("applying feature flags",e),e.forEach(n=>{var s;if(this.us&&(s=this.us)!=null&&s.has(n)){var i,o=this._instance.getFeatureFlag(n),l=(i=this.us)==null?void 0:i.get(n);o&&l!=null&&l.variants[o]&&this.hs(l.name,o,l.variants[o].transforms)}})}}previewWebExperiment(){var e=Hn.getWindowLocation();if(e!=null&&e.search){var n=Bp(e==null?void 0:e.search,"__experiment_id"),s=Bp(e==null?void 0:e.search,"__experiment_variant");n&&s&&(Hn.ls("previewing web experiments "+n+" && "+s),this.getWebExperiments(i=>{this.vs(parseInt(n),s,i)},!1,!0))}}loadIfEnabled(){this._instance.config.disable_web_experiments||this.getWebExperimentsAndEvaluateDisplayLogic()}getWebExperiments(e,n,s){if(this._instance.config.disable_web_experiments&&!s)return e([]);var i=this._instance.get_property("$web_experiments");if(i&&!n)return e(i);this._instance.Ee({url:this._instance.requestRouter.endpointFor("api","/api/web_experiments/?token="+this._instance.config.token),method:"GET",callback:o=>{if(o.statusCode!==200||!o.json)return e([]);var l=o.json.experiments||[];return e(l)}})}vs(e,n,s){var i=s.filter(o=>o.id===e);i&&i.length>0&&(Hn.ls("Previewing web experiment ["+i[0].name+"] with variant ["+n+"]"),this.hs(i[0].name,n,i[0].variants[n].transforms))}static ds(e){return!dt(e.conditions)&&Hn.cs(e)&&Hn.fs(e)}static cs(e){var n;if(dt(e.conditions)||dt((n=e.conditions)==null?void 0:n.url))return!0;var s,i,o,l=Hn.getWindowLocation();return!!l&&((s=e.conditions)==null||!s.url||uZ[(i=(o=e.conditions)==null?void 0:o.urlMatchType)!==null&&i!==void 0?i:"icontains"](e.conditions.url,l))}static getWindowLocation(){return re==null?void 0:re.location}static fs(e){var n;if(dt(e.conditions)||dt((n=e.conditions)==null?void 0:n.utm))return!0;var s=AD();if(s.utm_source){var i,o,l,u,d,h,m,p,v=(i=e.conditions)==null||(i=i.utm)==null||!i.utm_campaign||((o=e.conditions)==null||(o=o.utm)==null?void 0:o.utm_campaign)==s.utm_campaign,x=(l=e.conditions)==null||(l=l.utm)==null||!l.utm_source||((u=e.conditions)==null||(u=u.utm)==null?void 0:u.utm_source)==s.utm_source,_=(d=e.conditions)==null||(d=d.utm)==null||!d.utm_medium||((h=e.conditions)==null||(h=h.utm)==null?void 0:h.utm_medium)==s.utm_medium,w=(m=e.conditions)==null||(m=m.utm)==null||!m.utm_term||((p=e.conditions)==null||(p=p.utm)==null?void 0:p.utm_term)==s.utm_term;return v&&_&&w&&x}return!1}static ls(e){for(var n=arguments.length,s=new Array(n>1?n-1:0),i=1;i<n;i++)s[i-1]=arguments[i];we.info("[WebExperiments] "+e,s)}hs(e,n,s){this._is_bot()?Hn.ls("Refusing to render web experiment since the viewer is a likely bot"):n!=="control"?s.forEach(i=>{if(i.selector){var o;Hn.ls("applying transform of variant "+n+" for experiment "+e+" ",i);var l=(o=document)==null?void 0:o.querySelectorAll(i.selector);l==null||l.forEach(u=>{var d=u;i.html&&(d.innerHTML=i.html),i.css&&d.setAttribute("style",i.css)})}}):Hn.ls("Control variants leave the page unmodified.")}_is_bot(){return Fs&&this._instance?ID(Fs,this._instance.config.custom_blocked_useragents):void 0}}var dZ=kn("[PostHog ExternalIntegrations]"),fZ={intercom:"intercom-integration",crispChat:"crisp-chat-integration"};class hZ{constructor(e){this._instance=e}J(e,n){var s;(s=Ie.__PosthogExtensions__)==null||s.loadExternalDependency==null||s.loadExternalDependency(this._instance,e,i=>{if(i)return dZ.error("failed to load script",i);n()})}startIfEnabledOrStop(){var e=this,n=function(l){var u,d,h;!i||(u=Ie.__PosthogExtensions__)!=null&&(u=u.integrations)!=null&&u[l]||e.J(fZ[l],()=>{var m;(m=Ie.__PosthogExtensions__)==null||(m=m.integrations)==null||(m=m[l])==null||m.start(e._instance)}),!i&&(d=Ie.__PosthogExtensions__)!=null&&(d=d.integrations)!=null&&d[l]&&((h=Ie.__PosthogExtensions__)==null||(h=h.integrations)==null||(h=h[l])==null||h.stop())};for(var[s,i]of Object.entries((o=this._instance.config.integrations)!==null&&o!==void 0?o:{})){var o;n(s)}}}var bd={},ox=()=>{},Yl="posthog",FD=!TJ&&(xs==null?void 0:xs.indexOf("MSIE"))===-1&&(xs==null?void 0:xs.indexOf("Mozilla"))===-1,cN=t=>{var e;return{api_host:"https://us.i.posthog.com",ui_host:null,token:"",autocapture:!0,rageclick:!0,cross_subdomain_cookie:rQ(xe==null?void 0:xe.location),persistence:"localStorage+cookie",persistence_name:"",loaded:ox,save_campaign_params:!0,custom_campaign_params:[],custom_blocked_useragents:[],save_referrer:!0,capture_pageview:t!=="2025-05-24"||"history_change",capture_pageleave:"if_capture_pageview",defaults:t??"unset",debug:ws&&Xt(ws==null?void 0:ws.search)&&ws.search.indexOf("__posthog_debug=true")!==-1||!1,cookie_expiration:365,upgrade:!1,disable_session_recording:!1,disable_persistence:!1,disable_web_experiments:!0,disable_surveys:!1,disable_surveys_automatic_display:!1,disable_external_dependency_loading:!1,enable_recording_console_log:void 0,secure_cookie:(re==null||(e=re.location)==null?void 0:e.protocol)==="https:",ip:!1,opt_out_capturing_by_default:!1,opt_out_persistence_by_default:!1,opt_out_useragent_filter:!1,opt_out_capturing_persistence_type:"localStorage",opt_out_capturing_cookie_prefix:null,opt_in_site_apps:!1,property_denylist:[],respect_dnt:!1,sanitize_properties:null,request_headers:{},request_batching:!0,properties_string_max_length:65535,session_recording:{},mask_all_element_attributes:!1,mask_all_text:!1,mask_personal_data_properties:!1,custom_personal_data_properties:[],advanced_disable_flags:!1,advanced_disable_decide:!1,advanced_disable_feature_flags:!1,advanced_disable_feature_flags_on_first_load:!1,advanced_only_evaluate_survey_feature_flags:!1,advanced_disable_toolbar_metrics:!1,feature_flag_request_timeout_ms:3e3,surveys_request_timeout_ms:1e4,on_request_error:n=>{var s="Bad HTTP status: "+n.statusCode+" "+n.text;we.error(s)},get_device_id:n=>n,capture_performance:void 0,name:"posthog",bootstrap:{},disable_compression:!1,session_idle_timeout_seconds:1800,person_profiles:"identified_only",before_send:void 0,request_queue_config:{flush_interval_ms:ax},error_tracking:{},_onCapture:ox}},uN=t=>{var e={};ve(t.process_person)||(e.person_profiles=t.process_person),ve(t.xhr_headers)||(e.request_headers=t.xhr_headers),ve(t.cookie_name)||(e.persistence_name=t.cookie_name),ve(t.disable_cookie)||(e.disable_persistence=t.disable_cookie),ve(t.store_google)||(e.save_campaign_params=t.store_google),ve(t.verbose)||(e.debug=t.verbose);var n=sn({},e,t);return Lt(t.property_blacklist)&&(ve(t.property_denylist)?n.property_denylist=t.property_blacklist:Lt(t.property_denylist)?n.property_denylist=[...t.property_blacklist,...t.property_denylist]:we.error("Invalid value for property_denylist config: "+t.property_denylist)),n};class pZ{constructor(){this.__forceAllowLocalhost=!1}get ps(){return this.__forceAllowLocalhost}set ps(e){we.error("WebPerformanceObserver is deprecated and has no impact on network capture. Use `_forceAllowLocalhostNetworkCapture` on `posthog.sessionRecording`"),this.__forceAllowLocalhost=e}}class Pm{get decideEndpointWasHit(){var e,n;return(e=(n=this.featureFlags)==null?void 0:n.hasLoadedFlags)!==null&&e!==void 0&&e}get flagsEndpointWasHit(){var e,n;return(e=(n=this.featureFlags)==null?void 0:n.hasLoadedFlags)!==null&&e!==void 0&&e}constructor(){this.webPerformance=new pZ,this.gs=!1,this.version=Ii.LIB_VERSION,this._s=new LD,this._calculate_event_properties=this.calculateEventProperties.bind(this),this.config=cN(),this.SentryIntegration=gJ,this.sentryIntegration=e=>function(n,s){var i=fD(n,s);return{name:dD,processEvent:o=>i(o)}}(this,e),this.__request_queue=[],this.__loaded=!1,this.analyticsDefaultEndpoint="/e/",this.bs=!1,this.ys=null,this.ws=null,this.Ss=null,this.featureFlags=new KJ(this),this.toolbar=new yJ(this),this.scrollManager=new nZ(this),this.pageViewManager=new CJ(this),this.surveys=new XJ(this),this.experiments=new Hn(this),this.exceptions=new AJ(this),this.rateLimiter=new QJ(this),this.requestRouter=new cZ(this),this.consent=new TQ(this),this.externalIntegrations=new hZ(this),this.people={set:(e,n,s)=>{var i=Xt(e)?{[e]:n}:e;this.setPersonProperties(i),s==null||s({})},set_once:(e,n,s)=>{var i=Xt(e)?{[e]:n}:e;this.setPersonProperties(void 0,i),s==null||s({})}},this.on("eventCaptured",e=>we.info('send "'+(e==null?void 0:e.event)+'"',e))}init(e,n,s){if(s&&s!==Yl){var i,o=(i=bd[s])!==null&&i!==void 0?i:new Pm;return o._init(e,n,s),bd[s]=o,bd[Yl][s]=o,o}return this._init(e,n,s)}_init(e,n,s){var i,o;if(n===void 0&&(n={}),ve(e)||Pb(e))return we.critical("PostHog was initialized without a token. This likely indicates a misconfiguration. Please check the first argument passed to posthog.init()"),this;if(this.__loaded)return we.warn("You have already initialized PostHog! Re-initializing is a no-op"),this;this.__loaded=!0,this.config={},this.$s=n,this.ks=[],n.person_profiles&&(this.ws=n.person_profiles),this.set_config(sn({},cN(n.defaults),uN(n),{name:s,token:e})),this.config.on_xhr_error&&we.error("on_xhr_error is deprecated. Use on_request_error instead"),this.compression=n.disable_compression?void 0:zi.GZipJS;var l=this.xs();this.persistence=new s0(this.config,l),this.sessionPersistence=this.config.persistence==="sessionStorage"||this.config.persistence==="memory"?this.persistence:new s0(be({},this.config,{persistence:"sessionStorage"}),l);var u=be({},this.persistence.props),d=be({},this.sessionPersistence.props);if(this.register({$initialization_time:new Date().toISOString()}),this.Es=new ZJ(N=>this.Is(N),this.config.request_queue_config),this.Ps=new tZ(this),this.__request_queue=[],this.config.__preview_experimental_cookieless_mode||(this.sessionManager=new iZ(this),this.sessionPropsManager=new rZ(this,this.sessionManager,this.persistence)),new xJ(this).startIfEnabledOrStop(),this.siteApps=new oZ(this),(i=this.siteApps)==null||i.init(),this.config.__preview_experimental_cookieless_mode||(this.sessionRecording=new pJ(this),this.sessionRecording.startIfEnabledOrStop()),this.config.disable_scroll_properties||this.scrollManager.startMeasuringScrollPosition(),this.autocapture=new yQ(this),this.autocapture.startIfEnabled(),this.surveys.loadIfEnabled(),this.heatmaps=new SJ(this),this.heatmaps.startIfEnabled(),this.webVitalsAutocapture=new wJ(this),this.exceptionObserver=new AQ(this),this.exceptionObserver.startIfEnabled(),this.deadClicksAutocapture=new XO(this,NQ),this.deadClicksAutocapture.startIfEnabled(),this.historyAutocapture=new $Q(this),this.historyAutocapture.startIfEnabled(),Ii.DEBUG=Ii.DEBUG||this.config.debug,Ii.DEBUG&&we.info("Starting in debug mode",{this:this,config:n,thisC:be({},this.config),p:u,s:d}),((o=n.bootstrap)==null?void 0:o.distinctID)!==void 0){var h,m,p=this.config.get_device_id(Da()),v=(h=n.bootstrap)!=null&&h.isIdentifiedID?p:n.bootstrap.distinctID;this.persistence.set_property(Pi,(m=n.bootstrap)!=null&&m.isIdentifiedID?"identified":"anonymous"),this.register({distinct_id:n.bootstrap.distinctID,$device_id:v})}if(this.Rs()){var x,_,w=Object.keys(((x=n.bootstrap)==null?void 0:x.featureFlags)||{}).filter(N=>{var k;return!((k=n.bootstrap)==null||(k=k.featureFlags)==null||!k[N])}).reduce((N,k)=>{var A;return N[k]=((A=n.bootstrap)==null||(A=A.featureFlags)==null?void 0:A[k])||!1,N},{}),C=Object.keys(((_=n.bootstrap)==null?void 0:_.featureFlagPayloads)||{}).filter(N=>w[N]).reduce((N,k)=>{var A,O;return(A=n.bootstrap)!=null&&(A=A.featureFlagPayloads)!=null&&A[k]&&(N[k]=(O=n.bootstrap)==null||(O=O.featureFlagPayloads)==null?void 0:O[k]),N},{});this.featureFlags.receivedFeatureFlags({featureFlags:w,featureFlagPayloads:C})}if(this.config.__preview_experimental_cookieless_mode)this.register_once({distinct_id:Dh,$device_id:null},"");else if(!this.get_distinct_id()){var T=this.config.get_device_id(Da());this.register_once({distinct_id:T,$device_id:T},""),this.persistence.set_property(Pi,"anonymous")}return Bt(re,"onpagehide"in self?"pagehide":"unload",this._handle_unload.bind(this),{passive:!1}),this.toolbar.maybeLoadToolbar(),n.segment?mJ(this,()=>this.Ts()):this.Ts(),dr(this.config._onCapture)&&this.config._onCapture!==ox&&(we.warn("onCapture is deprecated. Please use `before_send` instead"),this.on("eventCaptured",N=>this.config._onCapture(N.event,N))),this.config.ip&&we.warn('The `ip` config option has NO EFFECT AT ALL and has been deprecated. Use a custom transformation or "Discard IP data" project setting instead. See https://posthog.com/tutorials/web-redact-properties#hiding-customer-ip-address for more information.'),this}Ie(e){var n,s,i,o,l,u,d,h;if(!xe||!xe.body)return we.info("document not ready yet, trying again in 500 milliseconds..."),void setTimeout(()=>{this.Ie(e)},500);this.compression=void 0,e.supportedCompression&&!this.config.disable_compression&&(this.compression=We(e.supportedCompression,zi.GZipJS)?zi.GZipJS:We(e.supportedCompression,zi.Base64)?zi.Base64:void 0),(n=e.analytics)!=null&&n.endpoint&&(this.analyticsDefaultEndpoint=e.analytics.endpoint),this.set_config({person_profiles:this.ws?this.ws:"identified_only"}),(s=this.siteApps)==null||s.onRemoteConfig(e),(i=this.sessionRecording)==null||i.onRemoteConfig(e),(o=this.autocapture)==null||o.onRemoteConfig(e),(l=this.heatmaps)==null||l.onRemoteConfig(e),this.surveys.onRemoteConfig(e),(u=this.webVitalsAutocapture)==null||u.onRemoteConfig(e),(d=this.exceptionObserver)==null||d.onRemoteConfig(e),this.exceptions.onRemoteConfig(e),(h=this.deadClicksAutocapture)==null||h.onRemoteConfig(e)}Ts(){try{this.config.loaded(this)}catch(e){we.critical("`loaded` function failed",e)}this.Ms(),this.config.capture_pageview&&setTimeout(()=>{this.consent.isOptedIn()&&this.Cs()},1),new JJ(this).load(),this.featureFlags.flags()}Ms(){var e;this.has_opted_out_capturing()||this.config.request_batching&&((e=this.Es)==null||e.enable())}_dom_loaded(){this.has_opted_out_capturing()||Fa(this.__request_queue,e=>this.Is(e)),this.__request_queue=[],this.Ms()}_handle_unload(){var e,n;this.config.request_batching?(this.Fs()&&this.capture("$pageleave"),(e=this.Es)==null||e.unload(),(n=this.Ps)==null||n.unload()):this.Fs()&&this.capture("$pageleave",null,{transport:"sendBeacon"})}Ee(e){this.__loaded&&(FD?this.__request_queue.push(e):this.rateLimiter.isServerRateLimited(e.batchKey)||(e.transport=e.transport||this.config.api_transport,e.url=Kp(e.url,{ip:this.config.ip?1:0}),e.headers=be({},this.config.request_headers),e.compression=e.compression==="best-available"?this.compression:e.compression,e.fetchOptions=e.fetchOptions||this.config.fetch_options,(n=>{var s,i,o,l=be({},n);l.timeout=l.timeout||6e4,l.url=Kp(l.url,{_:new Date().getTime().toString(),ver:Ii.LIB_VERSION,compression:l.compression});var u=(s=l.transport)!==null&&s!==void 0?s:"fetch",d=(i=(o=DO(yd,h=>h.transport===u))==null?void 0:o.method)!==null&&i!==void 0?i:yd[0].method;if(!d)throw new Error("No available transport method");d(l)})(be({},e,{callback:n=>{var s,i;this.rateLimiter.checkForLimiting(n),n.statusCode>=400&&((s=(i=this.config).on_request_error)==null||s.call(i,n)),e.callback==null||e.callback(n)}}))))}Is(e){this.Ps?this.Ps.retriableRequest(e):this.Ee(e)}_execute_array(e){var n,s=[],i=[],o=[];Fa(e,u=>{u&&(n=u[0],Lt(n)?o.push(u):dr(u)?u.call(this):Lt(u)&&n==="alias"?s.push(u):Lt(u)&&n.indexOf("capture")!==-1&&dr(this[n])?o.push(u):i.push(u))});var l=function(u,d){Fa(u,function(h){if(Lt(h[0])){var m=d;St(h,function(p){m=m[p[0]].apply(m,p.slice(1))})}else this[h[0]].apply(this,h.slice(1))},d)};l(s,this),l(i,this),l(o,this)}Rs(){var e,n;return((e=this.config.bootstrap)==null?void 0:e.featureFlags)&&Object.keys((n=this.config.bootstrap)==null?void 0:n.featureFlags).length>0||!1}push(e){this._execute_array([e])}capture(e,n,s){var i;if(this.__loaded&&this.persistence&&this.sessionPersistence&&this.Es){if(!this.consent.isOptedOut())if(!ve(e)&&Xt(e)){if(this.config.opt_out_useragent_filter||!this._is_bot()){var o=s!=null&&s.skip_client_rate_limiting?void 0:this.rateLimiter.clientRateLimitContext();if(o==null||!o.isRateLimited){n!=null&&n.$current_url&&!Xt(n==null?void 0:n.$current_url)&&(we.error("Invalid `$current_url` property provided to `posthog.capture`. Input must be a string. Ignoring provided value."),n==null||delete n.$current_url),this.sessionPersistence.update_search_keyword(),this.config.save_campaign_params&&this.sessionPersistence.update_campaign_params(),this.config.save_referrer&&this.sessionPersistence.update_referrer_info(),(this.config.save_campaign_params||this.config.save_referrer)&&this.persistence.set_initial_person_info();var l=new Date,u=(s==null?void 0:s.timestamp)||l,d=Da(),h={uuid:d,event:e,properties:this.calculateEventProperties(e,n||{},u,d)};o&&(h.properties.$lib_rate_limit_remaining_tokens=o.remainingTokens),s!=null&&s.$set&&(h.$set=s==null?void 0:s.$set);var m,p,v=this.Os(s==null?void 0:s.$set_once);if(v&&(h.$set_once=v),(h=nQ(h,s!=null&&s._noTruncate?null:this.config.properties_string_max_length)).timestamp=u,ve(s==null?void 0:s.timestamp)||(h.properties.$event_time_override_provided=!0,h.properties.$event_time_override_system_time=l),e===r0.DISMISSED||e===r0.SENT){var x=n==null?void 0:n[rN.SURVEY_ID],_=n==null?void 0:n[rN.SURVEY_ITERATION];localStorage.setItem((p=""+ix+(m={id:x,current_iteration:_}).id,m.current_iteration&&m.current_iteration>0&&(p=""+ix+m.id+"_"+m.current_iteration),p),"true"),h.$set=be({},h.$set,{[YJ({id:x,current_iteration:_},e===r0.SENT?"responded":"dismissed")]:!0})}var w=be({},h.properties.$set,h.$set);if(tc(w)||this.setPersonPropertiesForFlags(w),!dt(this.config.before_send)){var C=this.As(h);if(!C)return;h=C}this._s.emit("eventCaptured",h);var T={method:"POST",url:(i=s==null?void 0:s._url)!==null&&i!==void 0?i:this.requestRouter.endpointFor("api",this.analyticsDefaultEndpoint),data:h,compression:"best-available",batchKey:s==null?void 0:s._batchKey};return!this.config.request_batching||s&&(s==null||!s._batchKey)||s!=null&&s.send_instantly?this.Is(T):this.Es.enqueue(T),h}we.critical("This capture call is ignored due to client rate limiting.")}}else we.error("No event name provided to posthog.capture")}else we.uninitializedWarning("posthog.capture")}Ge(e){return this.on("eventCaptured",n=>e(n.event,n))}calculateEventProperties(e,n,s,i,o){if(s=s||new Date,!this.persistence||!this.sessionPersistence)return n;var l=o?void 0:this.persistence.remove_event_timer(e),u=be({},n);if(u.token=this.config.token,u.$config_defaults=this.config.defaults,this.config.__preview_experimental_cookieless_mode&&(u.$cookieless_mode=!0),e==="$snapshot"){var d=be({},this.persistence.properties(),this.sessionPersistence.properties());return u.distinct_id=d.distinct_id,(!Xt(u.distinct_id)&&!Gn(u.distinct_id)||Pb(u.distinct_id))&&we.error("Invalid distinct_id for replay event. This indicates a bug in your implementation"),u}var h,m=$J(this.config.mask_personal_data_properties,this.config.custom_personal_data_properties);if(this.sessionManager){var{sessionId:p,windowId:v}=this.sessionManager.checkAndGetSessionAndWindowId(o,s.getTime());u.$session_id=p,u.$window_id=v}this.sessionPropsManager&&sn(u,this.sessionPropsManager.getSessionProps());try{var x;this.sessionRecording&&sn(u,this.sessionRecording.sdkDebugProperties),u.$sdk_debug_retry_queue_size=(x=this.Ps)==null?void 0:x.length}catch(T){u.$sdk_debug_error_capturing_properties=String(T)}if(this.requestRouter.region===cd.CUSTOM&&(u.$lib_custom_api_host=this.config.api_host),h=e!=="$pageview"||o?e!=="$pageleave"||o?this.pageViewManager.doEvent():this.pageViewManager.doPageLeave(s):this.pageViewManager.doPageView(s,i),u=sn(u,h),e==="$pageview"&&xe&&(u.title=xe.title),!ve(l)){var _=s.getTime()-l;u.$duration=parseFloat((_/1e3).toFixed(3))}xs&&this.config.opt_out_useragent_filter&&(u.$browser_type=this._is_bot()?"bot":"browser"),(u=sn({},m,this.persistence.properties(),this.sessionPersistence.properties(),u)).$is_identified=this._isIdentified(),Lt(this.config.property_denylist)?St(this.config.property_denylist,function(T){delete u[T]}):we.error("Invalid value for property_denylist config: "+this.config.property_denylist+" or property_blacklist config: "+this.config.property_blacklist);var w=this.config.sanitize_properties;w&&(we.error("sanitize_properties is deprecated. Use before_send instead"),u=w(u,e));var C=this.Ds();return u.$process_person_profile=C,C&&!o&&this.Ls("_calculate_event_properties"),u}Os(e){var n;if(!this.persistence||!this.Ds()||this.gs)return e;var s=this.persistence.get_initial_props(),i=(n=this.sessionPropsManager)==null?void 0:n.getSetOnceProps(),o=sn({},s,i||{},e||{}),l=this.config.sanitize_properties;return l&&(we.error("sanitize_properties is deprecated. Use before_send instead"),o=l(o,"$set_once")),this.gs=!0,tc(o)?void 0:o}register(e,n){var s;(s=this.persistence)==null||s.register(e,n)}register_once(e,n,s){var i;(i=this.persistence)==null||i.register_once(e,n,s)}register_for_session(e){var n;(n=this.sessionPersistence)==null||n.register(e)}unregister(e){var n;(n=this.persistence)==null||n.unregister(e)}unregister_for_session(e){var n;(n=this.sessionPersistence)==null||n.unregister(e)}js(e,n){this.register({[e]:n})}getFeatureFlag(e,n){return this.featureFlags.getFeatureFlag(e,n)}getFeatureFlagPayload(e){var n=this.featureFlags.getFeatureFlagPayload(e);try{return JSON.parse(n)}catch{return n}}isFeatureEnabled(e,n){return this.featureFlags.isFeatureEnabled(e,n)}reloadFeatureFlags(){this.featureFlags.reloadFeatureFlags()}updateEarlyAccessFeatureEnrollment(e,n){this.featureFlags.updateEarlyAccessFeatureEnrollment(e,n)}getEarlyAccessFeatures(e,n,s){return n===void 0&&(n=!1),this.featureFlags.getEarlyAccessFeatures(e,n,s)}on(e,n){return this._s.on(e,n)}onFeatureFlags(e){return this.featureFlags.onFeatureFlags(e)}onSurveysLoaded(e){return this.surveys.onSurveysLoaded(e)}onSessionId(e){var n,s;return(n=(s=this.sessionManager)==null?void 0:s.onSessionId(e))!==null&&n!==void 0?n:()=>{}}getSurveys(e,n){n===void 0&&(n=!1),this.surveys.getSurveys(e,n)}getActiveMatchingSurveys(e,n){n===void 0&&(n=!1),this.surveys.getActiveMatchingSurveys(e,n)}renderSurvey(e,n){this.surveys.renderSurvey(e,n)}canRenderSurvey(e){return this.surveys.canRenderSurvey(e)}canRenderSurveyAsync(e,n){return n===void 0&&(n=!1),this.surveys.canRenderSurveyAsync(e,n)}identify(e,n,s){if(!this.__loaded||!this.persistence)return we.uninitializedWarning("posthog.identify");if(Gn(e)&&(e=e.toString(),we.warn("The first argument to posthog.identify was a number, but it should be a string. It has been converted to a string.")),e)if(["distinct_id","distinctid"].includes(e.toLowerCase()))we.critical('The string "'+e+'" was set in posthog.identify which indicates an error. This ID should be unique to the user and not a hardcoded string.');else if(e!==Dh){if(this.Ls("posthog.identify")){var i=this.get_distinct_id();if(this.register({$user_id:e}),!this.get_property("$device_id")){var o=i;this.register_once({$had_persisted_distinct_id:!0,$device_id:o},"")}e!==i&&e!==this.get_property(nd)&&(this.unregister(nd),this.register({distinct_id:e}));var l=(this.persistence.get_property(Pi)||"anonymous")==="anonymous";e!==i&&l?(this.persistence.set_property(Pi,"identified"),this.setPersonPropertiesForFlags(be({},s||{},n||{}),!1),this.capture("$identify",{distinct_id:e,$anon_distinct_id:i},{$set:n||{},$set_once:s||{}}),this.Ss=Xk(e,n,s),this.featureFlags.setAnonymousDistinctId(i)):(n||s)&&this.setPersonProperties(n,s),e!==i&&(this.reloadFeatureFlags(),this.unregister(Lp))}}else we.critical('The string "'+Dh+'" was set in posthog.identify which indicates an error. This ID is only used as a sentinel value.');else we.error("Unique user id has not been set in posthog.identify")}setPersonProperties(e,n){if((e||n)&&this.Ls("posthog.setPersonProperties")){var s=Xk(this.get_distinct_id(),e,n);this.Ss!==s?(this.setPersonPropertiesForFlags(be({},n||{},e||{})),this.capture("$set",{$set:e||{},$set_once:n||{}}),this.Ss=s):we.info("A duplicate setPersonProperties call was made with the same properties. It has been ignored.")}}group(e,n,s){if(e&&n){if(this.Ls("posthog.group")){var i=this.getGroups();i[e]!==n&&this.resetGroupPropertiesForFlags(e),this.register({$groups:be({},i,{[e]:n})}),s&&(this.capture("$groupidentify",{$group_type:e,$group_key:n,$group_set:s}),this.setGroupPropertiesForFlags({[e]:s})),i[e]===n||s||this.reloadFeatureFlags()}}else we.error("posthog.group requires a group type and group key")}resetGroups(){this.register({$groups:{}}),this.resetGroupPropertiesForFlags(),this.reloadFeatureFlags()}setPersonPropertiesForFlags(e,n){n===void 0&&(n=!0),this.featureFlags.setPersonPropertiesForFlags(e,n)}resetPersonPropertiesForFlags(){this.featureFlags.resetPersonPropertiesForFlags()}setGroupPropertiesForFlags(e,n){n===void 0&&(n=!0),this.Ls("posthog.setGroupPropertiesForFlags")&&this.featureFlags.setGroupPropertiesForFlags(e,n)}resetGroupPropertiesForFlags(e){this.featureFlags.resetGroupPropertiesForFlags(e)}reset(e){var n,s,i,o;if(we.info("reset"),!this.__loaded)return we.uninitializedWarning("posthog.reset");var l=this.get_property("$device_id");if(this.consent.reset(),(n=this.persistence)==null||n.clear(),(s=this.sessionPersistence)==null||s.clear(),this.surveys.reset(),this.featureFlags.reset(),(i=this.persistence)==null||i.set_property(Pi,"anonymous"),(o=this.sessionManager)==null||o.resetSessionId(),this.Ss=null,this.config.__preview_experimental_cookieless_mode)this.register_once({distinct_id:Dh,$device_id:null},"");else{var u=this.config.get_device_id(Da());this.register_once({distinct_id:u,$device_id:e?u:l},"")}this.register({$last_posthog_reset:new Date().toISOString()},1)}get_distinct_id(){return this.get_property("distinct_id")}getGroups(){return this.get_property("$groups")||{}}get_session_id(){var e,n;return(e=(n=this.sessionManager)==null?void 0:n.checkAndGetSessionAndWindowId(!0).sessionId)!==null&&e!==void 0?e:""}get_session_replay_url(e){if(!this.sessionManager)return"";var{sessionId:n,sessionStartTimestamp:s}=this.sessionManager.checkAndGetSessionAndWindowId(!0),i=this.requestRouter.endpointFor("ui","/project/"+this.config.token+"/replay/"+n);if(e!=null&&e.withTimestamp&&s){var o,l=(o=e.timestampLookBack)!==null&&o!==void 0?o:10;if(!s)return i;i+="?t="+Math.max(Math.floor((new Date().getTime()-s)/1e3)-l,0)}return i}alias(e,n){return e===this.get_property(PO)?(we.critical("Attempting to create alias for existing People user - aborting."),-2):this.Ls("posthog.alias")?(ve(n)&&(n=this.get_distinct_id()),e!==n?(this.js(nd,e),this.capture("$create_alias",{alias:e,distinct_id:n})):(we.warn("alias matches current distinct_id - skipping api call."),this.identify(e),-1)):void 0}set_config(e){var n=be({},this.config);if(Wt(e)){var s,i,o,l,u;sn(this.config,uN(e));var d=this.xs();(s=this.persistence)==null||s.update_config(this.config,n,d),this.sessionPersistence=this.config.persistence==="sessionStorage"||this.config.persistence==="memory"?this.persistence:new s0(be({},this.config,{persistence:"sessionStorage"}),d),xn.O()&&xn.D("ph_debug")==="true"&&(this.config.debug=!0),this.config.debug&&(Ii.DEBUG=!0,we.info("set_config",{config:e,oldConfig:n,newConfig:be({},this.config)})),(i=this.sessionRecording)==null||i.startIfEnabledOrStop(),(o=this.autocapture)==null||o.startIfEnabled(),(l=this.heatmaps)==null||l.startIfEnabled(),this.surveys.loadIfEnabled(),this.Ns(),(u=this.externalIntegrations)==null||u.startIfEnabledOrStop()}}startSessionRecording(e){var n=e===!0,s={sampling:n||!(e==null||!e.sampling),linked_flag:n||!(e==null||!e.linked_flag),url_trigger:n||!(e==null||!e.url_trigger),event_trigger:n||!(e==null||!e.event_trigger)};if(Object.values(s).some(Boolean)){var i,o,l,u,d;(i=this.sessionManager)==null||i.checkAndGetSessionAndWindowId(),s.sampling&&((o=this.sessionRecording)==null||o.overrideSampling()),s.linked_flag&&((l=this.sessionRecording)==null||l.overrideLinkedFlag()),s.url_trigger&&((u=this.sessionRecording)==null||u.overrideTrigger("url")),s.event_trigger&&((d=this.sessionRecording)==null||d.overrideTrigger("event"))}this.set_config({disable_session_recording:!1})}stopSessionRecording(){this.set_config({disable_session_recording:!0})}sessionRecordingStarted(){var e;return!((e=this.sessionRecording)==null||!e.started)}captureException(e,n){var s=new Error("PostHog syntheticException");return this.exceptions.sendExceptionEvent(be({},VQ((i=>i instanceof Error)(e)?{error:e,event:e.message}:{event:e},{syntheticException:s}),n))}loadToolbar(e){return this.toolbar.loadToolbar(e)}get_property(e){var n;return(n=this.persistence)==null?void 0:n.props[e]}getSessionProperty(e){var n;return(n=this.sessionPersistence)==null?void 0:n.props[e]}toString(){var e,n=(e=this.config.name)!==null&&e!==void 0?e:Yl;return n!==Yl&&(n=Yl+"."+n),n}_isIdentified(){var e,n;return((e=this.persistence)==null?void 0:e.get_property(Pi))==="identified"||((n=this.sessionPersistence)==null?void 0:n.get_property(Pi))==="identified"}Ds(){var e,n;return!(this.config.person_profiles==="never"||this.config.person_profiles==="identified_only"&&!this._isIdentified()&&tc(this.getGroups())&&((e=this.persistence)==null||(e=e.props)==null||!e[nd])&&((n=this.persistence)==null||(n=n.props)==null||!n[Fp]))}Fs(){return this.config.capture_pageleave===!0||this.config.capture_pageleave==="if_capture_pageview"&&(this.config.capture_pageview===!0||this.config.capture_pageview==="history_change")}createPersonProfile(){this.Ds()||this.Ls("posthog.createPersonProfile")&&this.setPersonProperties({},{})}Ls(e){return this.config.person_profiles==="never"?(we.error(e+' was called, but process_person is set to "never". This call will be ignored.'),!1):(this.js(Fp,!0),!0)}xs(){var e=this.consent.isOptedOut(),n=this.config.opt_out_persistence_by_default;return this.config.disable_persistence||e&&!!n}Ns(){var e,n,s,i,o=this.xs();return((e=this.persistence)==null?void 0:e.Fe)!==o&&((s=this.persistence)==null||s.set_disabled(o)),((n=this.sessionPersistence)==null?void 0:n.Fe)!==o&&((i=this.sessionPersistence)==null||i.set_disabled(o)),o}opt_in_capturing(e){var n;this.consent.optInOut(!0),this.Ns(),(ve(e==null?void 0:e.captureEventName)||e!=null&&e.captureEventName)&&this.capture((n=e==null?void 0:e.captureEventName)!==null&&n!==void 0?n:"$opt_in",e==null?void 0:e.captureProperties,{send_instantly:!0}),this.config.capture_pageview&&this.Cs()}opt_out_capturing(){this.consent.optInOut(!1),this.Ns()}has_opted_in_capturing(){return this.consent.isOptedIn()}has_opted_out_capturing(){return this.consent.isOptedOut()}clear_opt_in_out_capturing(){this.consent.reset(),this.Ns()}_is_bot(){return Fs?ID(Fs,this.config.custom_blocked_useragents):void 0}Cs(){xe&&(xe.visibilityState==="visible"?this.bs||(this.bs=!0,this.capture("$pageview",{title:xe.title},{send_instantly:!0}),this.ys&&(xe.removeEventListener("visibilitychange",this.ys),this.ys=null)):this.ys||(this.ys=this.Cs.bind(this),Bt(xe,"visibilitychange",this.ys)))}debug(e){e===!1?(re==null||re.console.log("You've disabled debug mode."),localStorage&&localStorage.removeItem("ph_debug"),this.set_config({debug:!1})):(re==null||re.console.log("You're now in debug mode. All calls to PostHog will be logged in your console.\nYou can disable this with `posthog.debug(false)`."),localStorage&&localStorage.setItem("ph_debug","true"),this.set_config({debug:!0}))}I(){var e,n,s,i,o,l,u,d=this.$s||{};return"advanced_disable_flags"in d?!!d.advanced_disable_flags:this.config.advanced_disable_flags!==!1?!!this.config.advanced_disable_flags:this.config.advanced_disable_decide===!0?(we.warn("Config field 'advanced_disable_decide' is deprecated. Please use 'advanced_disable_flags' instead. The old field will be removed in a future major version."),!0):(s="advanced_disable_decide",i=!1,o=we,l=(n="advanced_disable_flags")in(e=d)&&!ve(e[n]),u=s in e&&!ve(e[s]),l?e[n]:u?(o&&o.warn("Config field '"+s+"' is deprecated. Please use '"+n+"' instead. The old field will be removed in a future major version."),e[s]):i)}As(e){if(dt(this.config.before_send))return e;var n=Lt(this.config.before_send)?this.config.before_send:[this.config.before_send],s=e;for(var i of n){if(s=i(s),dt(s)){var o="Event '"+e.event+"' was rejected in beforeSend function";return ZX(e.event)?we.warn(o+". This can cause unexpected behavior."):we.info(o),null}s.properties&&!tc(s.properties)||we.warn("Event '"+e.event+"' has no properties after beforeSend function, this is likely an error.")}return s}getPageViewId(){var e;return(e=this.pageViewManager.ce)==null?void 0:e.pageViewId}captureTraceFeedback(e,n){this.capture("$ai_feedback",{$ai_trace_id:String(e),$ai_feedback_text:n})}captureTraceMetric(e,n,s){this.capture("$ai_metric",{$ai_trace_id:String(e),$ai_metric_name:n,$ai_metric_value:String(s)})}}(function(t,e){for(var n=0;n<e.length;n++)t.prototype[e[n]]=tQ(t.prototype[e[n]])})(Pm,["identify"]);var dN,Wl=(dN=bd[Yl]=new Pm,function(){function t(){t.done||(t.done=!0,FD=!1,St(bd,function(e){e._dom_loaded()}))}xe!=null&&xe.addEventListener?xe.readyState==="complete"?t():Bt(xe,"DOMContentLoaded",t,{capture:!1}):re&&we.error("Browser doesn't support `document.addEventListener` so PostHog couldn't be initialized")}(),dN),zD=S.createContext({client:Wl});function BD(t,e,n){if(n===void 0&&(n=new WeakMap),t===e)return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(n.has(t)&&n.get(t)===e)return!0;n.set(t,e);var s=Object.keys(t),i=Object.keys(e);if(s.length!==i.length)return!1;for(var o=0,l=s;o<l.length;o++){var u=l[o];if(!i.includes(u)||!BD(t[u],e[u],n))return!1}return!0}function mZ(t){var e=t.children,n=t.client,s=t.apiKey,i=t.options,o=S.useRef(null),l=S.useMemo(function(){return n?(s&&console.warn("[PostHog.js] You have provided both `client` and `apiKey` to `PostHogProvider`. `apiKey` will be ignored in favour of `client`."),i&&console.warn("[PostHog.js] You have provided both `client` and `options` to `PostHogProvider`. `options` will be ignored in favour of `client`."),n):(s||console.warn("[PostHog.js] No `apiKey` or `client` were provided to `PostHogProvider`. Using default global `window.posthog` instance. You must initialize it manually. This is not recommended behavior."),Wl)},[n,s,JSON.stringify(i)]);return S.useEffect(function(){if(!n){var u=o.current;u?(s!==u.apiKey&&console.warn("[PostHog.js] You have provided a different `apiKey` to `PostHogProvider` than the one that was already initialized. This is not supported by our provider and we'll keep using the previous key. If you need to toggle between API Keys you need to control the `client` yourself and pass it in as a prop rather than an `apiKey` prop."),i&&!BD(i,u.options)&&Wl.set_config(i),o.current={apiKey:s,options:i??{}}):(Wl.__loaded&&console.warn("[PostHog.js] `posthog` was already loaded elsewhere. This may cause issues."),Wl.init(s,i),o.current={apiKey:s,options:i??{}})}},[n,s,JSON.stringify(i)]),le.createElement(zD.Provider,{value:{client:l}},e)}var lx=function(t,e){return lx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(n[i]=s[i])},lx(t,e)};function gZ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");lx(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var i0=function(t){return typeof t=="function"},vZ={componentStack:null,error:null},yZ={INVALID_FALLBACK:"[PostHog.js][PostHogErrorBoundary] Invalid fallback prop, provide a valid React element or a function that returns a valid React element."};(function(t){gZ(e,t);function e(n){var s=t.call(this,n)||this;return s.state=vZ,s}return e.prototype.componentDidCatch=function(n,s){var i=s.componentStack,o=this.props.additionalProperties;this.setState({error:n,componentStack:i});var l;i0(o)?l=o(n):typeof o=="object"&&(l=o);var u=this.context.client;u.captureException(n,l)},e.prototype.render=function(){var n=this.props,s=n.children,i=n.fallback,o=this.state;if(o.componentStack==null)return i0(s)?s():s;var l=i0(i)?le.createElement(i,{error:o.error,componentStack:o.componentStack}):i;return le.isValidElement(l)?l:(console.warn(yZ.INVALID_FALLBACK),le.createElement(le.Fragment,null))},e.contextType=zD,e})(le.Component);const bZ={api_host:void 0},fN=document.getElementById("root");fN.innerHTML||x4.createRoot(fN).render(g.jsx(S.StrictMode,{children:g.jsx(mZ,{apiKey:void 0,options:bZ,children:g.jsx(h4,{children:g.jsx(YX,{})})})}));export{pA as $,Ax as A,ac as B,g9 as C,Ki as D,WI as E,Hd as F,qT as G,vF as H,x0 as I,Em as J,xB as K,Dx as L,MZ as M,DZ as N,Ya as O,rt as P,x7 as Q,Po as R,gV as S,lp as T,Rj as U,_s as V,pm as W,fM as X,hM as Y,ci as Z,Zp as _,wZ as a,m5 as a0,iA as a1,vx as a2,Cc as a3,gx as a4,Jp as a5,pM as a6,mM as a7,UN as a8,IZ as a9,j$ as aA,O$ as aB,D$ as aC,L$ as aD,I$ as aE,z$ as aF,F$ as aG,P$ as aH,w$ as aI,ak as aJ,ni as aK,yH as aL,bH as aM,xH as aN,_V as aO,ik as aP,RZ as aQ,s9 as aR,i9 as aS,r9 as aT,a9 as aU,Ty as aV,ur as aW,PX as aX,Iw as aY,Fw as aZ,HX as a_,bF as aa,jZ as ab,OZ as ac,FZ as ad,le as ae,DA as af,qd as ag,C0 as ah,xd as ai,$6 as aj,In as ak,sF as al,Kn as am,M6 as an,SZ as ao,tA as ap,Ex as aq,Tx as ar,FH as as,vs as at,Nx as au,km as av,CZ as aw,k6 as ax,Xo as ay,PN as az,ap as b,Ct as c,Vc as d,qe as e,w7 as f,Yp as g,V$ as h,Me as i,g as j,LZ as k,Us as l,v9 as m,b9 as n,Be as o,II as p,Qo as q,S as r,$c as s,Hc as t,vt as u,as as v,Ts as w,Tn as x,w6 as y,mw as z};
